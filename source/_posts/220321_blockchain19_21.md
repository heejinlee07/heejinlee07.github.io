---
title: 블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 19 ~ 21단계
date: 2022-03-21
tags:
---

## 19. 컴퓨터들도 라인을 잘 타야 살아남는다

시스템의 개별 노드가 유지하고 있는 트랜잭션 이력이 서로 달라 충돌이 생길때 문제를 어떻게 해결할지 알아본다.

### 목표

_네트워크 내 모든 노드가 명확한 단일 트랜잭션 이력만 유지하도록 하여_ 어느 노드가 소유권 확인 요청을 처리하든 항상 동일한 결과가 산출되도록 한다.

### 해결해야 할 과제

블록체인-알고리즘에는 중앙 통제 장치가 없기 때문에 개별 노드의 수신함에 도착한 새 블록이 그 노드가 무슨 일을 해야 할지 알려준다. 각 노드는 어떤 메시지가 도착했냐에 따라 작업을 전환하는데 같은 시간에 모든 노드의 작업 전환이 동시에 발생하는 것이 아니므로 개별 노드의 작업 상태에 중첩이 생길 수 있다. 이처럼 메시지 전달 과정에서 문제가 발생했을 때 **명확한 단일 트랜잭션 이력을 식별하는 방법을 찾아야 한다.**

### 아이디어

> 모든 노드가 단일 버전의 트랜잭션 이력을 선택한다.

집단적 의사결정 문제에서 동의나 합의에 이르는 과정을 `분산 합의`라 부르는데 집단적 의사결정 상황은 다음의 네 가지를 충족한다.

- 모든 노드는 네트워크, 블록체인-데이터-구조의 개별 복사본을 유지하는 노드들, 노드들의 행동을 통제하는 블록체인-알고리즘으로 구성된 **동일한 환경에서 작동한다.**
- **집단적 의사결정 문제는 단일 트랜잭션 이력을 선택하는 것이다.**
- 모든 노드는 수입을 최대화하기 위해 블록체인-데이터-구조에 **유효한 새 블록을 추가하고 보상을 받으려 노력한다.**
- 모든 노드는 목표 달성을 위해 자신이 생성한 새 블록을 피어들에게 보내 검사받고 인정받으려 한다. 그 결과 각 노드는 집단적으로 유지되는 블록체인-데이터-구조 환경에 개별적인 흔적을 남기게 된다.
- 환경 변화에 기반한 동일한 기준을 사용해 의사결정 문제를 평가한다. _여기서 기준은 각 트랜잭션 이력을 생성하기 위해 사용한 계산 노력의 누적 총합이고, 둘 이상의 상충된 트랜잭션에서 조작된 데이터를 분별하기 위한 기준으로 활용된다._

### 작동원리

#### 계산 노력을 판단하는 기준

#### 1. 가장-긴-체인-기준

가장 많은 블록을 가진 블록체인-데이터-구조에서 가장 많은 계산 노력이 소모되었을

#### 2. 가장-무거운-체인-기준
