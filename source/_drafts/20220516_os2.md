---
title: Operating Systems - 컴퓨터 시스템의 동작 원리
date: 2022-05-16
tags:
---

## 컴퓨터 시스템의 구조

컴퓨터의 업무 처리 방식: 컴퓨터 외부 장치에서 컴퓨터 내부로 데이터를 읽어와서 각종 연산을 수행 후, 그 결과를 컴퓨터 외부 장치로 다시 내어 보내는 방식. 컴퓨터 내부로 데이터가 들어오는 것이 입력(input), 외부 장치로 데이터가 나가는 것은 출력(output)이다.

- 입출력 장치: 컴퓨터 외부 장치를 입출력 장치라고도 한다.
- 컨트롤러: 컴퓨터 내의 하드웨어 장치에 존재하는 일종의 작은 CPU
- 커널: 운영 체제 중 항상 메모리에 올라가 있는 부분

## CPU와 I/O 연산

- `CPU`: 컴퓨터 내에서 수행되는 연산을 담당한다. 매시점 메모리에서 명령을 하나씩 읽어와서 수행한다.
  - `인터럽트 라인`: CPU 옆에 있는데, CPU가 자신의 작업을 하던 중 인터럽트 라인에 신호가 들어오면 하던 일을 멈추고 인터럽트와 관련된 일을 처리한다.
- `I/O 연산`: 입출력 장치의 I/O 연산은 I/O 컨트롤러가 담당한다.
  - `컨트롤러`: 입출력 장치와 메인 CPU는 동시 수행하고, 이를 제어하기 위해 장치 컨트롤러가 있다.
    - 디스크나 키보드 등의 장치에서 로컬 버퍼로 데이터를 읽어오는 일을 담당한다.
    - 인터럽트를 발생시켜 CPU에 보고하여 데이터를 모두 가지고 왔는지 아닌지를 체크한다.
  - `로컬 버퍼(local buffer)`: 장치로부터 들어오고 나가는 데이터를 임시로 저장하기 위한 작은 메모리. 로컬 버퍼에 임시 저장되어 있던 데이터는 이후 메모리에 전달된다.

## 인터럽트의 일반적인 기능

*일반적으로 인터럽트는 하드웨어가 발생시킨 인터럽트*를 뜻하지만 넓은 의미의 인터럽트는 하드웨어와 소프트웨어 인터럽트 모두를 말한다. 두 가지의 차이점은 일을 수행하는 방식에 있어서 하드웨어 인터럽트는 컨트롤러 등 **하드웨어 장치가 CPU의 인터럽트 라인을 세팅하는 방식**이고, 소프트웨어 인터럽트는 소프트웨어가 그 일을 수행한다. 일단

- 하드웨어 인터럽트: 하드웨어가 발생시킨 인터럽트
- 소프트웨어 인터럽트(Trap)
  - exception: 프로그램이 오류를 범한 경우
  - system call: 프로그램이 커널 함수를 호출한 경우
