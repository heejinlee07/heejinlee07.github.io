<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"heejinlee07.github.io","root":"/","scheme":"Muse","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Today I Learned">
<meta property="og:type" content="website">
<meta property="og:title" content="Heejin">
<meta property="og:url" content="https://heejinlee07.github.io/page/3/index.html">
<meta property="og:site_name" content="Heejin">
<meta property="og:description" content="Today I Learned">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Heejin Lee">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://heejinlee07.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Heejin</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Heejin</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Front-end Developer</p>
  </div>

  <div class="site-nav-right"></div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/12/19/211220_mui/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/19/211220_mui/" class="post-title-link" itemprop="url">MUI v4ì—ì„œ v5ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ê¸°</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-12-20 00:00:00" itemprop="dateCreated datePublished" datetime="2021-12-20T00:00:00+09:00">2021-12-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ì›ë¬¸ ë§í¬: <a href="https://mui.com/guides/migration-v4/" target="_blank" rel="noopener">https://mui.com/guides/migration-v4/</a></p>
</blockquote>
<h2 id="v4-ì—ì„œ-v5ë¡œ-ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸°"><a href="#v4-ì—ì„œ-v5ë¡œ-ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸°" class="headerlink" title="v4 ì—ì„œ v5ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸°"></a>v4 ì—ì„œ v5ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸°</h2><aside>
ğŸ’¡ ì™œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼í• ê¹Œ ? â¡ï¸   [https://mui.com/blog/mui-core-v5/](https://mui.com/blog/mui-core-v5/)

</aside>

<aside>
ğŸ’¡ ë¬¸ì œ ë°œìƒì‹œ ì—¬ê¸°ë¡œ  â¡ï¸  [https://mui.com/guides/migration-v4/#troubleshooting](https://mui.com/guides/migration-v4/#troubleshooting)

</aside>

<hr>
<h2 id="ë§ˆì´ê·¸ë ˆì´ì…˜-í•´ì•¼-í•˜ëŠ”-ì´ìœ "><a href="#ë§ˆì´ê·¸ë ˆì´ì…˜-í•´ì•¼-í•˜ëŠ”-ì´ìœ " class="headerlink" title="ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼ í•˜ëŠ” ì´ìœ "></a>ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼ í•˜ëŠ” ì´ìœ </h2><p>ë²„ê·¸ ìˆ˜ì • ë° ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ë§ ì—”ì§„ê³¼ ê°™ì€ ì—¬ëŸ¬ ê°œì„ ì‚¬í•­ì˜ ì´ì ì„ ì–»ìœ¼ë ¤ë©´ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼í•œë‹¤.</p>
<h2 id="ë§ˆì´ê·¸ë ˆì´ì…˜-ë‹¨ê³„"><a href="#ë§ˆì´ê·¸ë ˆì´ì…˜-ë‹¨ê³„" class="headerlink" title="ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„"></a>ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„</h2><h2 id="React-ë˜ëŠ”-TypeScript-ë²„ì „-ì—…ë°ì´íŠ¸"><a href="#React-ë˜ëŠ”-TypeScript-ë²„ì „-ì—…ë°ì´íŠ¸" class="headerlink" title="React ë˜ëŠ” TypeScript ë²„ì „ ì—…ë°ì´íŠ¸"></a>React ë˜ëŠ” TypeScript ë²„ì „ ì—…ë°ì´íŠ¸</h2><ul>
<li>React ìµœì†Œì§€ì›ë²„ì „: v16.8.0 to v17.0.0.</li>
<li>TypeScript ìµœì†Œì§€ì›ë²„ì „: v3.2 to v3.5.</li>
</ul>
<h2 id="ThemeProvider-setup"><a href="#ThemeProvider-setup" class="headerlink" title="ThemeProvider setup"></a>ThemeProvider setup</h2><p>v5ë¡œ ì—…ê·¸ë ˆì´ë“œ ì „ì— <code>ThemeProvider</code> ê°€ ë‹¹ì‹ ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ rootì— ì •ì˜ë˜ì–´ ìˆê³ (default themeë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•˜ë”ë¼ë„) <code>useStyles</code> ê°€ <code>&lt;ThemeProvider&gt;</code> ì „ì— í˜¸ì¶œë˜ì§„ ì•Šì•˜ëŠ”ì§€ í™•ì¸í•´ ë³¸ë‹¤. ê·¸ ì´ìœ ëŠ” ì„ì‹œë¡œ <code>@mui/styles</code> (JSS style-engine)ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°, ì´ê²ƒì´ <code>ThemeProvider</code> ë¥¼ ìš”êµ¬í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  ThemeProvider,</span><br><span class="line">  createMuiTheme,</span><br><span class="line">  makeStyles</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'@material-ui/core/styles'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> theme = createMuiTheme()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useStyles = makeStyles(<span class="function"><span class="params">theme</span> =&gt;</span> &#123;</span><br><span class="line">  root: &#123;</span><br><span class="line">    <span class="comment">// some CSS that access to theme</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> classes = useStyles() <span class="comment">// âŒ If you have this, consider moving it inside a component that wrapped with &lt;ThemeProvider&gt;</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">theme</span>=<span class="string">&#123;theme&#125;</span>&gt;</span>&#123;children&#125;<span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="MUI-ë²„ì „-ì—…ë°ì´íŠ¸"><a href="#MUI-ë²„ì „-ì—…ë°ì´íŠ¸" class="headerlink" title="MUI ë²„ì „ ì—…ë°ì´íŠ¸"></a>MUI ë²„ì „ ì—…ë°ì´íŠ¸</h2><p>v5 ë²„ì „ì˜ MUI coreë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € íŒ¨í‚¤ì§€ ë„¤ì„ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install @mui/material @mui/styles</span><br><span class="line"></span><br><span class="line"><span class="comment">// or with `yarn`</span></span><br><span class="line">yarn add @mui/material @mui/styles</span><br></pre></td></tr></table></figure>
<p>ë§Œì•½ ì•„ë˜ì™€ ê°™ì€ íŒ¨í‚¤ì§€ê°€ ì´ë¯¸ ìˆëŠ” ê²½ìš° ìƒˆ íŒ¨í‚¤ì§€ë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜í•´ë¼</p>
<ul>
<li><code>@material-ui/lab</code> â†’  <code>@mui/lab</code></li>
<li><p><code>@material-ui/icons</code> â†’ <code>@mui/icons-material</code></p>
</li>
<li><p>ëª¨ë“  ë³€ê²½ëœ íŒ¨í‚¤ì§€ ë¦¬ìŠ¤íŠ¸ ë³´ê¸°</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@material-ui/core -&gt; @mui/material</span><br><span class="line">@material-ui/system -&gt; @mui/system</span><br><span class="line">@material-ui/unstyled -&gt; @mui/base</span><br><span class="line">@material-ui/styles -&gt; @mui/styles</span><br><span class="line">@material-ui/icons -&gt; @mui/icons-material</span><br><span class="line">@material-ui/lab -&gt; @mui/lab</span><br><span class="line">@material-ui/types -&gt; @mui/types</span><br><span class="line">@material-ui/styled-engine -&gt; @mui/styled-engine</span><br><span class="line">@material-ui/styled-engine-sc -&gt;@mui/styled-engine-sc</span><br><span class="line">@material-ui/private-theming -&gt; @mui/private-theming</span><br><span class="line">@material-ui/codemod -&gt; @mui/codemod</span><br><span class="line">@material-ui/docs -&gt; @mui/docs</span><br><span class="line">@material-ui/envinfo -&gt; @mui/envinfo</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>org ë˜ëŠ” íŒ¨í‚¤ì§€ ì´ë¦„ì´ <code>@material-ui</code>ì—ì„œ <code>@mui</code>ë¡œ ë³€ê²½ëœ ê²ƒì€ ë¦¬ë¸Œëœë”©ì˜ ì¼í™˜ì´ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ <a href="https://mui.com/blog/material-ui-is-now-mui/" target="_blank" rel="noopener">ë¸”ë¡œê·¸</a> í¬ìŠ¤íŠ¸ ë˜ëŠ” <a href="https://github.com/mui-org/material-ui/discussions/27803" target="_blank" rel="noopener">#27803</a>ì„ í™•ì¸í•œë‹¤.</p>
<p>ê·¸ ë‹¤ìŒìœ¼ë¡œëŠ” ìƒˆë¡œìš´ ì¢…ì† ë””íœë˜ì‹œì¸ ì´ëª¨ì…˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install @emotion/react @emotion/styled</span><br><span class="line"></span><br><span class="line"><span class="comment">// or with `yarn`</span></span><br><span class="line">yarn add @emotion/react @emotion/styled</span><br></pre></td></tr></table></figure>
<p>ë§Œì•½ MUI Core v5ë¥¼ emotion ëŒ€ì‹  styled-componentsì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ <a href="https://mui.com/getting-started/installation/#npm" target="_blank" rel="noopener">ì„¤ì¹˜ ê°€ì´ë“œ</a>ë¥¼ í™•ì¸í•œë‹¤.</p>
<p>ë§Œì•½ <code>@material-ui/pickers</code>ë¥¼ ì‚¬ìš©ì¤‘ì´ë¼ë©´ ì´ê²ƒì€ <code>@mui/lab</code>ìœ¼ë¡œ ì´ë™í–ˆë‹¤. <a href="https://mui.com/guides/migration-v4/#material-ui-pickers" target="_blank" rel="noopener">ì´ ë§í¬</a>ë¥¼ í†µí•´ <code>@mui/lab</code>ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p>ì§€ê¸ˆì¯¤ <code>@mui/styles</code>ë¥¼ ì„¤ì¹˜í–ˆì–´ì•¼ í•œë‹¤. ì—¬ê¸°ì—ëŠ” emotionì„ ë³µì œí•˜ëŠ” JSSë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤. ì´ëŠ” v5ë¡œì˜ ì ì§„ì ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ í—ˆìš©í•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤. <a href="https://mui.com/guides/migration-v4/#migrate-from-jss" target="_blank" rel="noopener">ë‹¤ìŒ ë‹¨ê³„</a>ì— ë”°ë¼ ì¢…ì†ì„±ì„ ì œê±°í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>
<blockquote>
<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì—ëŸ¬ì—†ì´ ì˜ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì´ì–´ê°€ê¸° ì „ì— ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ë„ë¡ í•œë‹¤.</p>
</blockquote>
<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì™„ì „íˆ MUI v5ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ë˜ë©´ ì´ì „ì˜ <code>@material-ui/*</code> íŒ¨í‚¤ì§€ë¥¼ <code>yarn remove</code> ë˜ëŠ” <code>npm install</code>ë¡œ ì œê±°í•  ìˆ˜ ìˆë‹¤.</p>
<hr>
<h2 id="codemod-ì‹¤í–‰"><a href="#codemod-ì‹¤í–‰" class="headerlink" title="codemod ì‹¤í–‰"></a>codemod ì‹¤í–‰</h2><p>ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ codemodë¥¼ ì¤€ë¹„í–ˆë‹¤.</p>
<h3 id="preset-safe"><a href="#preset-safe" class="headerlink" title="preset-safe"></a>preset-safe</h3><p>ì´ codemodì—ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì— ìœ ìš©í•œ ëŒ€ë¶€ë¶„ì˜ transformerê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. (ì´ codemodëŠ” í´ë”ë‹¹ í•œ ë²ˆë§Œ ì ìš©ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.)</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx @mui/codemod v5<span class="number">.0</span><span class="number">.0</span>/preset-safe &lt;path&gt;</span><br></pre></td></tr></table></figure>
<p>ì´ codemodeë¥¼ ì¼ëŒ€ì¼ë¡œ í•˜ë‚˜ì”© ì‹¤í–‰í•˜ë ¤ë©´ <a href="https://github.com/mui-org/material-ui/blob/master/packages/mui-codemod/README.md#-preset-safe" target="_blank" rel="noopener">preset-safe codemod</a>ì—ì„œ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•œë‹¤.</p>
<h3 id="variant-prop"><a href="#variant-prop" class="headerlink" title="variant-prop"></a>variant-prop</h3><p>ì–´ë– í•œ variantë„ ì •ì˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ (default variantëŠ” v4 standardì—ì„œ v5 outlinedë¡œ ë³€ê²½ë˜ì—ˆë‹¤.)<code>&lt;TextField/&gt;</code>, <code>&lt;FormControl/&gt;</code>, <code>&lt;Select/&gt;</code> ë“±ì˜ ì»´í¬ë„ŒíŠ¸ì— variant=â€standardâ€ë¥¼ ì ìš©í•˜ì—¬ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.</p>
<aside>
ğŸ’¡ ì´ë¯¸ defaultë¡œ variant:â€outlinedâ€ë¥¼ themeì— ì‚¬ìš©í–ˆë‹¤ë©´ ì´ codemodeë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if you have theme setup like this, âŒ don't run this codemod.</span></span><br><span class="line"><span class="comment">// these default props can be removed later because `outlined` is the default value in v5</span></span><br><span class="line">createMuiTheme(&#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    MuiTextField: &#123;</span><br><span class="line">      defaultProps: &#123;</span><br><span class="line">        variant: <span class="string">'outlined'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ë§Œì•½ variant=â€standardâ€ ë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´, ì´ codemodë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ theme default propsë¥¼ êµ¬ì„±í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx @mui/codemod v5<span class="number">.0</span><span class="number">.0</span>/variant-prop &lt;path&gt;</span><br></pre></td></tr></table></figure>
<p>ìì„¸í•œ ë‚´ìš©ì€ <a href="https://github.com/mui-org/material-ui/blob/master/packages/mui-codemod/README.md#variant-prop" target="_blank" rel="noopener">variant-prop codemod</a>ë¥¼ í™•ì¸í•œë‹¤.</p>
<h3 id="link-underline-hover"><a href="#link-underline-hover" class="headerlink" title="link-underline-hover"></a>link-underline-hover</h3><p>underliner propì´ ì •ì˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ <Link/> ì»´í¬ë„ŒíŠ¸ì— underline=â€hoverâ€ë¥¼ ì ìš©í•˜ë©´ ë³€í™˜í•  ìˆ˜ ìˆë‹¤. (default underlineì€ v4 â€œhoverâ€ì—ì„œ v5 â€œalwaysâ€ë¡œ ë³€ê²½ë˜ì—ˆë‹¤.)</p>
<aside>
ğŸ’¡ ì´ë¯¸ defaultë¡œ underline:â€alwaysâ€ë¥¼ themeì— ì‚¬ìš©í–ˆë‹¤ë©´ ì´ codemodeë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if you have theme setup like this, âŒ don't run this codemod.</span></span><br><span class="line"><span class="comment">// this default props can be removed later because `always` is the default value in v5</span></span><br><span class="line">createMuiTheme(&#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    MuiLink: &#123;</span><br><span class="line">      defaultProps: &#123;</span><br><span class="line">        underline: <span class="string">'always'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ë§Œì•½ variant=â€hoverâ€ ë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´, ì´ codemodë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ theme default propsë¥¼ êµ¬ì„±í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx @mui/codemod v5<span class="number">.0</span><span class="number">.0</span>/link-underline-hover &lt;path&gt;</span><br></pre></td></tr></table></figure>
<p>ìì„¸í•œ ë‚´ìš©ì€ <a href="https://github.com/mui-org/material-ui/blob/master/packages/mui-codemod/README.md#link-underline-hover" target="_blank" rel="noopener">link-underline-hover codemod</a>ì—ì„œ í™•ì¸í•œë‹¤.</p>
<p>codemod ë‹¨ê³„ë¥¼ ì¼ë‹¨ ì™„ë£Œí–ˆë‹¤ë©´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹¤í–‰í•´ë³¸ë‹¤. ì´ë•Œ ì—ëŸ¬ì—†ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° <a href="https://mui.com/guides/migration-v4/#troubleshooting" target="_blank" rel="noopener">troubleshooting</a> ì„¹ì…˜ì„ í™•ì¸í•´ë³¸ë‹¤. ë‹¤ìŒ ë‹¨ê³„ëŠ” ê° ì»´í¬ë„ŒíŠ¸ì˜ ì£¼ìš” ë³€ê²½ì‚¬í•­ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.</p>
<hr>
<h2 id="Handling-breaking-changes"><a href="#Handling-breaking-changes" class="headerlink" title="Handling breaking changes"></a>Handling breaking changes</h2><h3 id="ì§€ì›ë˜ëŠ”-ë¸Œë¼ìš°ì €-ë°-ë…¸ë“œ-ë²„ì „"><a href="#ì§€ì›ë˜ëŠ”-ë¸Œë¼ìš°ì €-ë°-ë…¸ë“œ-ë²„ì „" class="headerlink" title="ì§€ì›ë˜ëŠ” ë¸Œë¼ìš°ì € ë° ë…¸ë“œ ë²„ì „"></a>ì§€ì›ë˜ëŠ” ë¸Œë¼ìš°ì € ë° ë…¸ë“œ ë²„ì „</h3><p>default ë²ˆë“¤ì˜ íƒ€ê²Ÿì´ ë³€ê²½ë˜ì—ˆë‹¤. ì •í™•í•œ ë²„ì „ì€ browserslist queryê°€ ë¦´ë¦¬ì¦ˆ ë  ë•Œ ê³ ì •ëœë‹¤.</p>
<p><code>&quot;&gt; 0.5%, last 2 versions, Firefox ESR, not dead, not IE 11, maintained node versions&quot;</code></p>
<p>ê¸°ì¡´ ë²ˆë“¤ì€ ì•„ë˜ì™€ ê°™ì€ ìµœì†Œ ë²„ì „ì„ ì§€ì›í•œë‹¤.</p>
<ul>
<li>Node 12 (up from 8)</li>
<li>Chrome 90 (up from 49)</li>
<li>Edge 91 (up from 14)</li>
<li>Firefox 78 (up from 52)</li>
<li>Safari 14 (macOS) and 12.5 (iOS) (up from 10)</li>
<li>and more (see <a href="https://github.com/mui-org/material-ui/blob/HEAD/.browserslistrc#L11" target="_blank" rel="noopener">.browserslistrc (<code>stable</code> entry)</a>)</li>
</ul>
<p>ë”ì´ìƒ IE 11ì„ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— IE 11ì„ ì§€ì›í•´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” <a href="https://mui.com/guides/minimizing-bundle-size/#legacy-bundle" target="_blank" rel="noopener">lagacy bundle</a>ë¥¼ í™•ì¸í•œë‹¤.</p>
<h3 id="non-ref-forwarding-class-components"><a href="#non-ref-forwarding-class-components" class="headerlink" title="non-ref-forwarding class components"></a>non-ref-forwarding class components</h3><p>component propì˜ non-ref-forwarding class components ë˜ëŠ” immediate childrenì˜ ì§€ì›ì´ ì¤‘ë‹¨ë˜ì—ˆë‹¤. ë§Œì•½ unstable_createStrictModeThemeë¥¼ ì‚¬ìš©í•˜ê³  ìˆê±°ë‚˜ React.StrictModeì˜ <code>findDOMNode</code> ê³¼ ê´€ë ¨ëœ ì–´ë– í•œ ê²½ê³ ë„ í‘œì‹œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì•„ë¬´ëŸ° ì‘ì—…ë„ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ <a href="https://mui.com/guides/composition/#caveat-with-refs" target="_blank" rel="noopener">Caveat with refs</a> ì„¹ì…˜ì—ì„œ ì–´ë–»ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼í•˜ëŠ”ì§€ ì•Œì•„ë³¼ í•„ìš”ê°€ ìˆë‹¤. ì´ ë³€ê²½ ì‚¬í•­ì€ component propë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì´ë‚˜ childrenì„ elementë¡œ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— childrenì„ componentsì— ì „ë‹¬í•´ì•¼ í•˜ëŠ” ê±°ì˜ ëª¨ë“  componentsì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤. (ì˜ˆë¥¼ ë“¤ì–´, <MenuList><CustomMenuItem /></MenuList>)</p>
<h3 id="style-library"><a href="#style-library" class="headerlink" title="style library"></a>style library</h3><p>v5ì—ì„œ defaultë¡œ ì‚¬ìš©í•˜ëŠ” ìŠ¤íƒ€ì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” <code>[emotion](https://github.com/emotion-js/emotion)</code>ì´ë‹¤. JSSì—ì„œ emotionìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ” ë™ì•ˆ componentsì— JSS styleì„ ì‚¬ìš©í•˜ì—¬ overrideí•˜ëŠ” ê²½ìš° (ì˜ˆë¥¼ ë“¤ìë©´ makeStyles í†µí•´ overrideí•˜ëŠ” ê²½ìš°) CSS ì‚½ì… ìˆœì„œ (CSS injection order)ë¥¼ ì‹ ê²½ì¨ì•¼ í•œë‹¤. ì´ë ‡ê²Œ í•˜ë ¤ë©´ <code>StyledEngineProvider</code> ì™€ <code>injectFirst</code> ì˜µì…˜ì´ <strong>ì»´í¬ë„ŒíŠ¸ treeì˜ ê°€ì¥ ìµœìƒë‹¨ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤.</strong></p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ì˜ˆì‹œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; StyledEngineProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">GlobalCssPriority</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &#123;<span class="comment">/* Inject emotion before JSS */</span>&#125;</span><br><span class="line">    &lt;StyledEngineProvider injectFirst&gt;</span><br><span class="line">      &#123;<span class="comment">/* Your component tree. Now you can override MUI's styles. */</span>&#125;</span><br><span class="line">    &lt;<span class="regexp">/StyledEngineProvider&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<aside>
ğŸ’¡ emotionì„ í†µí•´ appì— ìŠ¤íƒ€ì¼ì„ ì§€ì •í•˜ê³ , ì»¤ìŠ¤í…€ ìºì‹œê°€ ìˆëŠ” ê²½ìš°ì— MUIì— ì˜í•´ ì œê³µë˜ëŠ” ìºì‹œëŠ” ë¬´ì‹œëœë‹¤. injection orderë¥¼ ì˜¬ë°”ë¥´ê²Œ í•˜ë ¤ë©´ `prepend` ì˜µì…˜ì„ `createCache`ì— ì¶”ê°€í•´ì•¼ í•œë‹¤.  
ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ì˜ˆì‹œ</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"> <span class="keyword">import</span> &#123; CacheProvider &#125; <span class="keyword">from</span> <span class="string">'@emotion/react'</span>;</span><br><span class="line"> <span class="keyword">import</span> createCache <span class="keyword">from</span> <span class="string">'@emotion/cache'</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> cache = createCache(&#123;</span><br><span class="line">   key: <span class="string">'css'</span>,</span><br><span class="line">+  prepend: <span class="literal">true</span>,</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">PlainCssPriority</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> (</span><br><span class="line">     &lt;CacheProvider value=&#123;cache&#125;&gt;</span><br><span class="line">       &#123;<span class="comment">/* Your component tree. Now you can override MUI's styles. */</span>&#125;</span><br><span class="line">     &lt;<span class="regexp">/CacheProvider&gt;</span></span><br><span class="line"><span class="regexp">   );</span></span><br><span class="line"><span class="regexp"> &#125;</span></span><br></pre></td></tr></table></figure>
<p>styled-componentsë¥¼ ì‚¬ìš© ì¤‘ì´ê³ , ì»¤ìŠ¤í…€ íƒ€ê²Ÿì´ ìˆëŠ” StyleSheetManagerë¥¼ ì‚¬ìš©ì¤‘ì´ë¼ë©´ íƒ€ê²Ÿì´ HTML <head> ì—˜ë¦¬ë¨¼íŠ¸ì˜ ì²«ë²ˆ ì§¸ ìš”ì†Œì¸ì§€ í™•ì¸í•œë‹¤. ì–´ë–»ê²Œ ì´ê²ƒì„ ìˆ˜í–‰í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ <code>@mui/styled-engine-sc</code> packageì— ìˆëŠ” <code>[StyledEngineProvider</code> implementation](<a href="https://github.com/mui-org/material-ui/blob/master/packages/mui-styled-engine-sc/src/StyledEngineProvider/StyledEngineProvider.js)ì„" target="_blank" rel="noopener">https://github.com/mui-org/material-ui/blob/master/packages/mui-styled-engine-sc/src/StyledEngineProvider/StyledEngineProvider.js)ì„</a> ì‚´í´ë³¸ë‹¤.</p>
<h3 id="Theme-structure"><a href="#Theme-structure" class="headerlink" title="Theme structure"></a>Theme structure</h3><p>theme êµ¬ì¡°ëŠ” v5ì—ì„œ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— ë³€ê²½ëœ í˜•íƒœë¡œ ì—…ë°ì´íŠ¸ í•´ì•¼ í•œë‹¤. ì›í™œí•œ ì „í™˜ì„ ìœ„í•´ì„œ <code>adaptV4Theme</code>ë¥¼ ì‚¬ìš©í•´ì„œ ì¼ë¶€ í…Œë§ˆì˜ ë³€ê²½ëœ ì‚¬í•­ì„ ìƒˆë¡œìš´ í…Œë§ˆ êµ¬ì¡°ë¡œ ë°˜ë³µì ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ í•  ìˆ˜ ìˆë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; createMuiTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createTheme, adaptV4Theme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">-<span class="keyword">const</span> theme = createMuiTheme(&#123;</span><br><span class="line">+<span class="keyword">const</span> theme = createTheme(adaptV4Theme(&#123;</span><br><span class="line">   <span class="comment">// v4 theme</span></span><br><span class="line">-&#125;);</span><br><span class="line">+&#125;));</span><br></pre></td></tr></table></figure>
<aside>
ğŸ’¡ ì´ adapterëŠ” creatThemeì˜ input arguementsë§Œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— í…Œë§ˆ ìƒì„± í›„ êµ¬ì¡°ë¥¼ ìˆ˜ì •í•˜ê³ ì í•  ë•ŒëŠ” ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•´ì•¼í•œë‹¤.

</aside>

<p>adaptherëŠ” ë‹¤ìŒì˜ ë³€ê²½ ì‚¬í•­ì„ ì§€ì›í•œë‹¤.</p>
<ul>
<li>â€œguttersâ€ abstractionì€ ê°€ì¹˜ê°€ ìˆë‹¤ê³  ìƒê°ë  ë§Œí¼ ìì£¼ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì…ì¦ë˜ì—ˆë‹¤.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-theme.mixins.gutters(),</span><br><span class="line">+paddingLeft: theme.spacing(<span class="number">2</span>),</span><br><span class="line">+paddingRight: theme.spacing(<span class="number">2</span>),</span><br><span class="line">+[theme.breakpoints.up(<span class="string">'sm'</span>)]: &#123;</span><br><span class="line">+  paddingLeft: theme.spacing(<span class="number">3</span>),</span><br><span class="line">+  paddingRight: theme.spacing(<span class="number">3</span>),</span><br><span class="line">+&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li><code>theme.spacing</code> ì€ ì´ì œ defaultë¡œ px ìœ ë‹›ê³¼ ë‹¨ì¼ ê°’ì„ ë°˜í™˜í•œë‹¤. ì´ëŠ” styled-compontntsì™€ emotionì˜ í†µí•©ì„ ê°œì„ í•œë‹¤.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ì´ëŠ” &#96;theme.spacing&#96;ì´ template stringë¡œ í˜¸ì¶œë˜ë˜ ê²ƒìœ¼ë¡œë¶€í„° &#39;px&#39; ì ‘ë¯¸ì‚¬ë¥¼ ì œê±°í•´ì„œ</span><br><span class="line">[preset-safe codemod](https:&#x2F;&#x2F;mui.com&#x2F;guides&#x2F;migration-v4&#x2F;#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//before</span></span><br><span class="line">theme.spacing(<span class="number">2</span>) =&gt; <span class="number">16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//after</span></span><br><span class="line">theme.spacing(<span class="number">2</span>) =&gt; <span class="string">'16px'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ì´ ê¸°ëŠ¥ì„ ì„¤ëª…í•˜ëŠ” ë° ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” â€œdark modeâ€ë¼ëŠ” ìš©ì–´ë¥¼ ë” ì˜ ë”°ë¥´ê¸° ìœ„í•´ì„œ <code>theme.palette.type</code> í‚¤ëŠ” <code>theme.palette.mode</code> ë¡œ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">-<span class="keyword">const</span> theme = createTheme(&#123;<span class="attr">palette</span>: &#123; <span class="attr">type</span>: <span class="string">'dark'</span> &#125;&#125;),</span><br><span class="line">+<span class="keyword">const</span> theme = createTheme(&#123;<span class="attr">palette</span>: &#123; <span class="attr">mode</span>: <span class="string">'dark'</span> &#125;&#125;),</span><br></pre></td></tr></table></figure>
<ul>
<li>default <code>[theme.palette.info](http://theme.palette.info)</code> ìƒ‰ìƒì€ ë¼ì´íŠ¸, ë‹¤í¬ ëª¨ë“œ ëª¨ë‘ì—ì„œ AA í‘œì¤€ ëª…ì•”ë¹„ë¥¼ í†µê³¼í•˜ë„ë¡ ë³€ê²½ë˜ì—ˆë‹¤.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;</span><br><span class="line">-  main: cyan[<span class="number">500</span>],</span><br><span class="line">+  main: lightBlue[<span class="number">700</span>], <span class="comment">// lightBlue[400] in "dark" mode</span></span><br><span class="line"></span><br><span class="line">-  light: cyan[<span class="number">300</span>],</span><br><span class="line">+  light: lightBlue[<span class="number">500</span>], <span class="comment">// lightBlue[300] in "dark" mode</span></span><br><span class="line"></span><br><span class="line">-  dark: cyan[<span class="number">700</span>],</span><br><span class="line">+  dark: lightBlue[<span class="number">900</span>], <span class="comment">// lightBlue[700] in "dark" mode</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>default <code>theme.palette.succeess</code> ìƒ‰ìƒì€ ìƒ‰ìƒì€ ë¼ì´íŠ¸, ë‹¤í¬ ëª¨ë“œ ëª¨ë‘ì—ì„œ AA í‘œì¤€ ëª…ì•”ë¹„ë¥¼ í†µê³¼í•˜ë„ë¡ ë³€ê²½ë˜ì—ˆë‹¤.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">success = &#123;</span><br><span class="line">-  main: green[<span class="number">500</span>],</span><br><span class="line">+  main: green[<span class="number">800</span>], <span class="comment">// green[400] in "dark" mode</span></span><br><span class="line"></span><br><span class="line">-  light: green[<span class="number">300</span>],</span><br><span class="line">+  light: green[<span class="number">500</span>], <span class="comment">// green[300] in "dark" mode</span></span><br><span class="line"></span><br><span class="line">-  dark: green[<span class="number">700</span>],</span><br><span class="line">+  dark: green[<span class="number">900</span>], <span class="comment">// green[700] in "dark" mode</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>default <code>theme.palette.warning</code> ìƒ‰ìƒì€ ìƒ‰ìƒì€ ë¼ì´íŠ¸, ë‹¤í¬ ëª¨ë“œ ëª¨ë‘ì—ì„œ AA í‘œì¤€ ëª…ì•”ë¹„ë¥¼ í†µê³¼í•˜ë„ë¡ ë³€ê²½ë˜ì—ˆë‹¤.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">warning = &#123;</span><br><span class="line">-  main: orange[<span class="number">500</span>],</span><br><span class="line">+  main: <span class="string">"#ED6C02"</span>, <span class="comment">// orange[400] in "dark" mode</span></span><br><span class="line"></span><br><span class="line">-  light: orange[<span class="number">300</span>],</span><br><span class="line">+  light: orange[<span class="number">500</span>], <span class="comment">// orange[300] in "dark" mode</span></span><br><span class="line"></span><br><span class="line">-  dark: orange[<span class="number">700</span>],</span><br><span class="line">+  dark: orange[<span class="number">900</span>], <span class="comment">// orange[700] in "dark" mode</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>default <code>theme.palette.text.hint</code> í‚¤ëŠ” MUI componentsì—ì„œëŠ” ì‚¬ìš©ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì œê±°ë˜ì—ˆë‹¤. ë§Œì•½ dependencyë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ ë’¤ì— ì•„ë˜ ì˜ˆì‹œì™€ ê°™ì€ ë‚´ìš©ì„ ë§ë¶™ì´ë„ë¡ í•œë‹¤.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">-<span class="keyword">const</span> theme = createTheme(),</span><br><span class="line">+<span class="keyword">const</span> theme = createTheme(&#123;</span><br><span class="line">+  palette: &#123; <span class="attr">text</span>: &#123; <span class="attr">hint</span>: <span class="string">'rgba(0, 0, 0, 0.38)'</span> &#125; &#125;,</span><br><span class="line">+&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>themeì˜ components ì •ì˜ëŠ” ì–´ë– í•œ ê´€ë ¨ëœ componentì—ì„œë„ ì •ì˜ë¥¼ ì‰½ê²Œ ì°¾ì•„ë³¼ ìˆ˜ ìˆë„ë¡ compontns key ì•„ë˜ì— ìƒˆë¡­ê²Œ êµ¬ì„±ë˜ì—ˆë‹¤.</li>
</ul>
<ol>
<li><code>prop</code></li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> theme = createTheme(&#123;</span><br><span class="line">-  props: &#123;</span><br><span class="line">-    MuiButton: &#123;</span><br><span class="line">-      disableRipple: <span class="literal">true</span>,</span><br><span class="line">-    &#125;,</span><br><span class="line">-  &#125;,</span><br><span class="line">+  components: &#123;</span><br><span class="line">+    MuiButton: &#123;</span><br><span class="line">+      defaultProps: &#123;</span><br><span class="line">+        disableRipple: <span class="literal">true</span>,</span><br><span class="line">+      &#125;,</span><br><span class="line">+    &#125;,</span><br><span class="line">+  &#125;,</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>
<ol>
<li><code>overrides</code></li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> theme = createTheme(&#123;</span><br><span class="line">-  overrides: &#123;</span><br><span class="line">-    MuiButton: &#123;</span><br><span class="line">-      root: &#123; <span class="attr">padding</span>: <span class="number">0</span> &#125;,</span><br><span class="line">-    &#125;,</span><br><span class="line">-  &#125;,</span><br><span class="line">+  components: &#123;</span><br><span class="line">+    MuiButton: &#123;</span><br><span class="line">+      styleOverrides: &#123;</span><br><span class="line">+        root: &#123; <span class="attr">padding</span>: <span class="number">0</span> &#125;,</span><br><span class="line">+      &#125;,</span><br><span class="line">+    &#125;,</span><br><span class="line">+  &#125;,</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Styles"><a href="#Styles" class="headerlink" title="Styles"></a>Styles</h3><ul>
<li>ê¸°ëŠ¥ì„ ë” ì˜ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ <code>fade</code> ì—ì„œ <code>alpha</code> ë¡œ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆë‹¤. ì´ì „ì˜ ì´ë¦„ì€ ì…ë ¥ ìƒ‰ìƒ ê°’ì— ì´ë¯¸ alphaê°’ì´ ìˆì„ ë•Œ í˜¼ë™ì„ ì•¼ê¸°í–ˆë‹¤. helperëŠ” ìƒ‰ìƒì˜ alpha ê°’ì„ override í•œë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">import</span> &#123; fade &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+ <span class="keyword">import</span> &#123; alpha &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> classes = makeStyles(<span class="function"><span class="params">theme</span> =&gt;</span> (&#123;</span><br><span class="line">-  backgroundColor: fade(theme.palette.primary.main, theme.palette.action.selectedOpacity),</span><br><span class="line">+  backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>
<ul>
<li><code>createStyles</code> í•¨ìˆ˜ëŠ” <code>@mui/material/styles</code> ì—ì„œ export ë˜ëŠ” ê²ƒì—ì„œ <code>@mui/styles</code> ì—ì„œ exportë˜ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤. ë””íœë˜ì‹œë¥¼ core íŒ¨í‚¤ì§€ì˜ <code>@mui/styles</code> ë¡œ ì´ë™ì‹œí‚¤ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; createStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="mui-styles"><a href="#mui-styles" class="headerlink" title="@mui/styles"></a>@mui/styles</h3><h3 id="ThemeProvider"><a href="#ThemeProvider" class="headerlink" title="ThemeProvider"></a>ThemeProvider</h3><p><code>@mui/styles</code> ì™€ <code>@mui/material</code>ë¥¼ í•¨ê»˜ ì‚¬ìš©í•œë‹¤ë©´, <code>ThemeProvider</code> ë¥¼ <code>@mui/material/styles</code>ì—ì„œ export ë˜ë˜ ê²ƒì„ <code>@mui/styles</code>ì—ì„œ export ë˜ë„ë¡ ë³€ê²½í•´ì•¼ í•œë‹¤. ì´ ë°©ë²•ì€ <code>@mui/styles</code>ì—ì„œ exportëœ ìŠ¤íƒ€ì¼ë§ ìœ í‹¸ë¦¬í‹°ì¸ makeStyles, withStyles ë“±ê³¼ MUI componentì—ì„œ contextì—ì„œ ì œê³µë˜ëŠ” themeê°€ ëª¨ë‘ ì‚¬ìš©ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Default-Theme-TypeScript"><a href="#Default-Theme-TypeScript" class="headerlink" title="Default Theme (TypeScript)"></a>Default Theme (TypeScript)</h3><p><code>@mui/styles</code> íŒ¨í‚¤ì§€ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code> ì˜ ì¼ë¶€ê°€ ì•„ë‹ˆë‹¤. <code>@mui/styles</code>ë¥¼ <code>@mui/material</code> ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì— DefaultThemeì— ëŒ€í•´ ëª¨ë“ˆì„ ì¶”ê°€í•˜ì—¬ ì ìš©í•´ì•¼ í•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// in the file where you are creating the theme (invoking the function `createTheme()`)</span></span><br><span class="line"><span class="keyword">import</span> &#123; Theme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">declare <span class="built_in">module</span> <span class="string">'@mui/styles'</span> &#123;</span><br><span class="line">  interface DefaultTheme extends Theme &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="mui-material-colors"><a href="#mui-material-colors" class="headerlink" title="@mui/material/colors"></a>@mui/material/colors</h3><ul>
<li>1 ë ˆë²¨ ì´ìƒì˜ ì¤‘ì²©ëœ importëŠ” privateì´ë‹¤. <code>@mui/material/colors/red</code> ì—ì„œ ìƒ‰ìƒì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> red <span class="keyword">from</span> <span class="string">'@mui/material/colors/red'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; red &#125; <span class="keyword">from</span> <span class="string">'@mui/material/colors'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="mui-material-styles"><a href="#mui-material-styles" class="headerlink" title="@mui/material/styles"></a>@mui/material/styles</h3><h3 id="createGenerateClassName"><a href="#createGenerateClassName" class="headerlink" title="createGenerateClassName"></a>createGenerateClassName</h3><p><code>createGenerateClassName</code> í•¨ìˆ˜ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code>ì—ì„œ exportë˜ì§€ ì•ŠëŠ”ë‹¤. <code>@mui/styles</code>ì—ì„œ ì§ì ‘ importí•´ì•¼ í•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; createGenerateClassName &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createGenerateClassName &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br></pre></td></tr></table></figure>
<p>@mui/stylesë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë„¤ì„ì„ ìƒì„±í•˜ë ¤ë©´ <a href="https://mui.com/guides/classname-generator/" target="_blank" rel="noopener">ClassNameGenerator</a>ì—ì„œ ì„¸ë¶€ë‚´ìš©ì„ í™•ì¸í•œë‹¤.</p>
<h3 id="createMuiTheme"><a href="#createMuiTheme" class="headerlink" title="createMuiTheme"></a>createMuiTheme</h3><p><code>createMuiTheme</code> í•¨ìˆ˜ëŠ” <code>ThemeProvider</code>ë¥¼ ì¢€ë” ì§ê´€ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œ <code>createTheme</code>ë¡œ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; createMuiTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">-<span class="keyword">const</span> theme = createMuiTheme(&#123;</span><br><span class="line">+<span class="keyword">const</span> theme = createTheme(&#123;</span><br></pre></td></tr></table></figure>
<h3 id="jssPreset"><a href="#jssPreset" class="headerlink" title="jssPreset"></a>jssPreset</h3><ul>
<li><code>jssPreset</code> ê°ì²´ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code> ì—ì„œ exportë˜ì§€ ì•ŠëŠ”ë‹¤. <code>@mui/styles</code>ì—ì„œ ë°”ë¡œ importí•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; jssPreset &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; jssPreset &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="makeStyles"><a href="#makeStyles" class="headerlink" title="makeStyles"></a>makeStyles</h3><ul>
<li><code>makeStyles</code> JSS ìœ í‹¸ë¦¬í‹°ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code> ì—ì„œ exportë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ëŒ€ì‹  <code>@mui/styles/makeStyles</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. <code>defaultTheme</code> ë¥¼ ë”ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— <code>ThemeProvider</code>ë¥¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ì— ì¶”ê°€í•˜ë„ë¡ í•œë‹¤. ë§Œì•½ <code>@mui/material</code>ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <code>@mui/material/styles</code>ì— ìˆëŠ” ThemeProvider ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; makeStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; makeStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createTheme, ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">+<span class="keyword">const</span> theme = createTheme();</span><br><span class="line"> <span class="keyword">const</span> useStyles = makeStyles(<span class="function">(<span class="params">theme</span>) =&gt;</span> (&#123;</span><br><span class="line">   background: theme.palette.primary.main,</span><br><span class="line"> &#125;));</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Component</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> classes = useStyles();</span><br><span class="line">   <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;classes.root&#125;</span> /&gt;</span></span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// In the root of your app</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">-  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component</span> /&gt;</span></span>;</span><br><span class="line">+  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">theme</span>=<span class="string">&#123;theme&#125;</span>&gt;</span><span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span><span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="MuiThemeProvider"><a href="#MuiThemeProvider" class="headerlink" title="MuiThemeProvider"></a>MuiThemeProvider</h3><p><code>MuiThemeProvider</code> ì»´í¬ë„ŒíŠ¸ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code>ì—ì„œ exportë˜ì§€ ì•Šìœ¼ë¯€ë¡œ <code>ThemeProvider</code>ë¥¼ ëŒ€ì‹  ì‚¬ìš©í•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; MuiThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="serverStyleSheets"><a href="#serverStyleSheets" class="headerlink" title="serverStyleSheets"></a>serverStyleSheets</h3><p><code>ServerStyleSheets</code> ì»´í¬ë„ŒíŠ¸ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code>ì—ì„œ exportë˜ì§€ ì•Šìœ¼ë¯€ë¡œ <code>@mui/styles</code>ì—ì„œ ì§ì ‘ importí•˜ë„ë¡ í•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; ServerStyleSheets &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; ServerStyleSheets &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Styles-1"><a href="#Styles-1" class="headerlink" title="Styles"></a>Styles</h3><p><code>styled</code> JSS utilityëŠ” ë”ì´ìƒ <code>@mui/material/styles</code>ì—ì„œ exportë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ëŒ€ì‹  <code>@mui/styles</code>ì—ì„œ exportëœ ê²ƒì„ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤. <code>defaultTheme</code> ë¥¼ ë”ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— <code>ThemeProvider</code>ë¥¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ì— ì¶”ê°€í•˜ë„ë¡ í•œë‹¤. ë§Œì•½ <code>@mui/material</code>ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <code>@mui/material/styles</code>ì— ìˆëŠ” ThemeProvider ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; styled &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; styled &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createTheme, ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">+<span class="keyword">const</span> theme = createTheme();</span><br><span class="line"> <span class="keyword">const</span> MyComponent = styled(<span class="string">'div'</span>)(<span class="function">(<span class="params">&#123; theme &#125;</span>) =&gt;</span> (&#123; <span class="attr">background</span>: theme.palette.primary.main &#125;));</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">-  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>;</span><br><span class="line">+  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">theme</span>=<span class="string">&#123;theme&#125;</span>&gt;</span><span class="tag">&lt;<span class="name">MyComponent</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span><span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="StylesProvider"><a href="#StylesProvider" class="headerlink" title="StylesProvider"></a>StylesProvider</h3><ul>
<li><code>StylesProvider</code> ì»´í¬ë„ŒíŠ¸ëŠ” ë”ì´ìƒ <code>@mui/material/styles</code>ì—ì„œ exportë˜ì§€ ì•Šìœ¼ë¯€ë¡œ <code>@mui/styles</code>ì—ì„œ ë°”ë¡œ exportí•˜ì—¬ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; StylesProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; StylesProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="useThemeVariants"><a href="#useThemeVariants" class="headerlink" title="useThemeVariants"></a>useThemeVariants</h3><ul>
<li><code>useThemeVariants</code> hookì€ ë”ì´ìƒ <code>@mui/material/styles</code> ì—ì„œ export ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— <code>@mui/styles</code> ì—ì„œ ì¦‰ì‹œ importí•˜ì—¬ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.</li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; useThemeVariants &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; useThemeVariants &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="withStyles"><a href="#withStyles" class="headerlink" title="withStyles"></a>withStyles</h3><p><code>innerRef</code> propì€ <code>ref</code> propìœ¼ë¡œ êµì²´í•œë‹¤. RefsëŠ” ì´ì œ ìë™ìœ¼ë¡œ inner ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ëœë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"> <span class="keyword">import</span> &#123; withStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> MyComponent = withStyles(&#123;</span><br><span class="line">   root: &#123;</span><br><span class="line">     backgroundColor: <span class="string">'red'</span>,</span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;)(<span class="function">(<span class="params">&#123; classes &#125;</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;classes.root&#125;</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">MyOtherComponent</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> ref = React.useRef();</span><br><span class="line">-  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">innerRef</span>=<span class="string">&#123;ref&#125;</span> /&gt;</span></span>;</span><br><span class="line">+  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">ref</span>=<span class="string">&#123;ref&#125;</span> /&gt;</span></span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p><code>withStyles</code> JSS utilityëŠ” ë”ì´ìƒ <code>@mui/material/styles</code> ì—ì„œ export ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— <code>@mui/styles/withStyles</code> ë¥¼ ëŒ€ì‹  ì“°ë„ë¡ í•œë‹¤. <code>defaultTheme</code> ë¥¼ ë”ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— <code>ThemeProvider</code>ë¥¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ì— ì¶”ê°€í•˜ë„ë¡ í•œë‹¤. ë§Œì•½ <code>@mui/material</code>ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <code>@mui/material/styles</code>ì— ìˆëŠ” ThemeProvider ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; withStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; withStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createTheme, ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">+<span class="keyword">const</span> defaultTheme = createTheme();</span><br><span class="line"> <span class="keyword">const</span> MyComponent = withStyles(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">const</span> &#123; classes, className, ...other &#125; = props;</span><br><span class="line">   <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;clsx(className,</span> <span class="attr">classes.root</span>)&#125; &#123;<span class="attr">...other</span>&#125; /&gt;</span></span></span><br><span class="line"> &#125;)(<span class="function">(<span class="params">&#123; theme &#125;</span>) =&gt;</span> (&#123; <span class="attr">root</span>: &#123; <span class="attr">background</span>: theme.palette.primary.main &#125;&#125;));</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">-  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>;</span><br><span class="line">+  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">theme</span>=<span class="string">&#123;defaultTheme&#125;</span>&gt;</span><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span><span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="withTheme"><a href="#withTheme" class="headerlink" title="withTheme"></a>withTheme</h3><p><code>withTheme</code> HOC utilityëŠ” <code>@mui/material/styles</code> íŒ¨í‚¤ì§€ì—ì„œ ì œê±°ë˜ì—ˆê¸° ë•Œë¬¸ì— ëŒ€ì‹  <code>@mui/styles/withTheme</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. <code>defaultTheme</code> ë¥¼ ë”ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— <code>ThemeProvider</code>ë¥¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ì— ì¶”ê°€í•˜ë„ë¡ í•œë‹¤. ë§Œì•½ <code>@mui/material</code>ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ <code>@mui/material/styles</code>ì— ìˆëŠ” ThemeProvider ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">import</span> &#123; withTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; withTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line">+<span class="keyword">import</span> &#123; createTheme, ThemeProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/material/styles'</span>;</span><br><span class="line"></span><br><span class="line">+<span class="keyword">const</span> theme = createTheme();</span><br><span class="line"> <span class="keyword">const</span> MyComponent = withTheme(<span class="function">(<span class="params">&#123; theme &#125;</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;props.theme.direction&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">-  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span>;</span><br><span class="line">+  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">theme</span>=<span class="string">&#123;theme&#125;</span>&gt;</span><span class="tag">&lt;<span class="name">MyComponent</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span><span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p><code>innerRef</code> propë¥¼ ref propìœ¼ë¡œ ë°”ê¾¼ë‹¤. RefëŠ” ì´ì œ ìë™ìœ¼ë¡œ ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ëœë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; withTheme &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MyComponent = withTheme(<span class="function">(<span class="params">&#123; theme &#125;</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;props.theme.direction&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyOtherComponent</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> ref = React.useRef();</span><br><span class="line">- <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">innerRef</span>=<span class="string">&#123;ref&#125;</span> /&gt;</span></span>;</span><br><span class="line">+ <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">ref</span>=<span class="string">&#123;ref&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="withWidth"><a href="#withWidth" class="headerlink" title="withWidth"></a>withWidth</h3><p>ì´ HOCëŠ” ì œê±°ë˜ì—ˆê³ , ëŒ€ì•ˆìœ¼ë¡œ <code>[useMediaQuery</code> hook](<a href="https://mui.com/components/use-media-query/#migrating-from-withwidth)ì„" target="_blank" rel="noopener">https://mui.com/components/use-media-query/#migrating-from-withwidth)ì„</a> ì“¸ ìˆ˜ ìˆë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì´ ì¶©ëŒí•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ í•˜ë“œ ì½”ë”©ëœ ê¸°ëŠ¥ì„ ì ìš©í•˜ì—¬ [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<h3 id="mui-icons-matetial"><a href="#mui-icons-matetial" class="headerlink" title="mui/icons-matetial"></a>mui/icons-matetial</h3><h3 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h3><p>Github iconì€ 24pxì—ì„œ 22pxë¡œ í¬ê¸°ê°€ ê°ì†Œë˜ì—ˆë‹¤.</p>
<h3 id="material-ui-pickers"><a href="#material-ui-pickers" class="headerlink" title="@material-ui/pickers"></a><strong>@material-ui/pickers</strong></h3><p><code>@material-ui/pickers</code>ë¥¼ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ” ë°©ë²•ì€ <a href="https://mui.com/guides/pickers-migration/" target="_blank" rel="noopener">ë‹¤ìŒ í˜ì´ì§€</a>ë¥¼ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.</p>
<hr>
<h2 id="System"><a href="#System" class="headerlink" title="System"></a>System</h2><p>ë‹¤ìŒì˜ system function ë° ì†ì„±ì€ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” cssë¡œ ê°„ì£¼ë˜ì–´ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆë‹¤.</p>
<ul>
<li><code>gridGap</code> to <code>gap</code></li>
<li><code>gridRowGap</code> to <code>rowGap</code></li>
<li><code>gridColumnGap</code> to <code>columnGap</code></li>
</ul>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<p>ê°„ê²©ì„ ì¡°ì •í•˜ëŠ” unitì¸ <code>gap</code>, <code>rowGap</code>, <code>columnGap</code> ë“±ì„ ì‚¬ìš©í•  ë•Œ, ì´ì „ì— ìˆ«ìë¡œ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤ë©´ theme.spacingê³¼ ë”ë¶ˆì–´ ìƒˆë¡­ê²Œ ë³€í™˜ë˜ê¸° ìœ„í•´ pxë¥¼ ë§ë¶™ì—¬ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Box</span><br><span class="line">-  gap=&#123;<span class="number">2</span>&#125;</span><br><span class="line">+  gap=<span class="string">"2px"</span></span><br><span class="line"> &gt;</span><br></pre></td></tr></table></figure>
<p>css propì€ styled-componentsì™€ emotionì˜ css propì´ ì¶©ëŒë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ <code>sx</code>ë¡œ ë³€ê²½í•œë‹¤.</p>
<aside>
ğŸ’¡ ì´ëŠ” [preset-safe codemod](https://mui.com/guides/migration-v4/#preset-safe)ì—ì„œ ì²˜ë¦¬ëœë‹¤.

</aside>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;-(<span class="xml"><span class="tag">&lt;<span class="name">Box</span> <span class="attr">css</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> '<span class="attr">primary.main</span>' &#125;&#125; /&gt;</span></span>) +</span><br><span class="line">&lt;Box sx=&#123;&#123; <span class="attr">color</span>: <span class="string">'primary.main'</span> &#125;&#125; /&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Core-components"><a href="#Core-components" class="headerlink" title="Core components"></a>Core components</h3><p>core componentsëŠ” ìŠ¤íƒ€ì¼ ì—”ì§„ìœ¼ë¡œ emotionì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— emotionì— ì˜í•´ ì‚¬ìš©ë˜ëŠ” propsë“¤ì€ ì „íŒŒë˜ì§€ ì•ŠëŠ”ë‹¤. ì•„ë˜ì˜ ì½”ë“œ ìŠ¤ë‹ˆí«ì²˜ëŸ¼ props <code>as</code>ëŠ” <code>SomeOtherComponent</code>ë¡œ ì „íŒŒë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;MuiComponent component=&#123;SomeOtherComponent&#125; <span class="keyword">as</span>=<span class="string">'button'</span> /&gt;</span><br></pre></td></tr></table></figure>
<hr>
<p><em>References</em><br><a href="https://mui.com/guides/migration-v4/" target="_blank" rel="noopener">Migration from v4 to v5 - MUI</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/10/03/211004_tsOmitExclude/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/03/211004_tsOmitExclude/" class="post-title-link" itemprop="url">A difference between TypeScript Omit and exclude</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-04 00:00:00" itemprop="dateCreated datePublished" datetime="2021-10-04T00:00:00+09:00">2021-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Keyof-Type-Operator"><a href="#Keyof-Type-Operator" class="headerlink" title="Keyof Type Operator"></a>Keyof Type Operator</h2><p>Keyof Type OperatorëŠ” ê°ì²´íƒ€ì…ì„ ì·¨í•˜ì—¬ keyì¸ stirng ë˜ëŠ” numeric ë¦¬í„°ëŸ´ ìœ ë‹ˆì–¸ì„ ìƒì„±í•œë‹¤. ì•„ë˜ ì˜ˆì‹œì—ì„œ <code>type P</code>ëŠ” <code>â€œxâ€ | â€œyâ€</code>ì¸ íƒ€ì…ê³¼ ê°™ë‹¤.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Point = &#123; x: <span class="built_in">number</span>; y: <span class="built_in">number</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> P = keyof Point;</span><br><span class="line"><span class="comment">//type P = â€œxâ€ | â€œyâ€</span></span><br></pre></td></tr></table></figure>
<p>typeì´ string, ë˜ëŠ” number ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ê°€ ìˆìœ¼ë©´ keyofê°€ ì´ typesë¥¼ ëŒ€ì‹  ë°˜í™˜í•œë‹¤.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Arrayish = &#123; [n: <span class="built_in">number</span>]: unknown &#125;;</span><br><span class="line"><span class="keyword">type</span> A = keyof Arrayish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> A = <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Mapish = &#123; [k: <span class="built_in">string</span>]: <span class="built_in">boolean</span> &#125;;</span><br><span class="line"><span class="keyword">type</span> M = keyof Mapish;</span><br></pre></td></tr></table></figure>
<p>ì´ ì˜ˆì‹œì—ì„œ <code>M</code>ì€ <code>string | number</code>ì´ë‹¤. ì´ëŠ” JavaScript object keysê°€ ì–¸ì œë‚˜ stringë¡œ ê°•ì œì „í™˜ë˜ê¸° ë•Œë¬¸ì´ë‹¤. <strong>ê·¸ë˜ì„œ <code>obj[0]</code>ì€ ì–¸ì œë‚˜ <code>obj[&quot;0&quot;]</code>ê³¼ ê°™ë‹¤.</strong> <code>keyof</code>íƒ€ì…ì€ <code>mapped types</code>ì™€ ê²°í•©í•´ì„œ ì‚¬ìš©í•  ë•Œ íŠ¹íˆ ìœ ìš©í•˜ë‹¤.</p>
<hr>
<h2 id="Omit-lt-Type-Keys-gt"><a href="#Omit-lt-Type-Keys-gt" class="headerlink" title="Omit&lt;Type, Keys&gt;"></a><code>Omit&lt;Type, Keys&gt;</code></h2><p><code>Type</code>ì—ì„œ typeì„ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ì†ì„±ì„ ì„ íƒí•˜ì—¬ <code>keys</code>ì— ì˜í•´ ì œê±°ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤. (keyëŠ” string ë¦¬í„°ëŸ´ì´ê±°ë‚˜ string ë¦¬í„°ëŸ´ì˜ ìœ ë‹ˆì–¸ì´ë‹¤.)</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Todo &#123;</span><br><span class="line">  title: <span class="built_in">string</span>;</span><br><span class="line">  description: <span class="built_in">string</span>;</span><br><span class="line">  completed: <span class="built_in">boolean</span>;</span><br><span class="line">  createdAt: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TodoPreview = Omit&lt;Todo, <span class="string">'description'</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo: TodoPreview = &#123;</span><br><span class="line">  title: <span class="string">'Clean room'</span>,</span><br><span class="line">  completed: <span class="literal">false</span>,</span><br><span class="line">  createdAt: <span class="number">1615544252770</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">todo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo: TodoPreview;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TodoInfo = Omit&lt;Todo, <span class="string">'completed'</span> | <span class="string">'createdAt'</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todoInfo: TodoInfo = &#123;</span><br><span class="line">  title: <span class="string">'Pick up kids'</span>,</span><br><span class="line">  description: <span class="string">'Kindergarten closes at 5pm'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">todoInfo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todoInfo: TodoInfo;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Exclude-lt-Type-ExcludedUnion-gt"><a href="#Exclude-lt-Type-ExcludedUnion-gt" class="headerlink" title="Exclude&lt;Type, ExcludedUnion&gt;"></a><code>Exclude&lt;Type, ExcludedUnion&gt;</code></h2><p><code>Type</code>ìœ¼ë¡œë¶€í„° typeì„ ì œì™¸í•˜ê³  ëª¨ë“  union ë©¤ë²„ê°€ <code>ExcludedUnion</code>ìœ¼ë¡œ í• ë‹¹ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T0 = Exclude&lt;<span class="string">'a'</span> | <span class="string">'b'</span> | <span class="string">'c'</span>, <span class="string">'a'</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T0 = <span class="string">'b'</span> | <span class="string">'c'</span>;</span><br><span class="line"><span class="keyword">type</span> T1 = Exclude&lt;<span class="string">'a'</span> | <span class="string">'b'</span> | <span class="string">'c'</span>, <span class="string">'a'</span> | <span class="string">'b'</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T1 = <span class="string">'c'</span>;</span><br><span class="line"><span class="keyword">type</span> T2 = Exclude&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | <span class="function">(<span class="params">(<span class="params"></span>) =&gt; <span class="built_in">void</span></span>), <span class="params">Function</span>&gt;;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="params">type</span> <span class="params">T2</span> = <span class="params">string</span> | <span class="params">number</span>;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Omit-vs-Exclude"><a href="#Omit-vs-Exclude" class="headerlink" title="Omit vs Exclude"></a>Omit vs Exclude</h2><p>ì•„ë˜ <code>StudentInfo</code>ì— ëŒ€í•´ Omitê³¼ Excludeë¥¼ ì‚¬ìš©í•´ë³´ë©´ ì–´ë–»ê²Œ ë ê¹Œ?</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> StudentInfo &#123;</span><br><span class="line">  isStudent: <span class="built_in">boolean</span>;</span><br><span class="line">  firstName?: <span class="built_in">string</span>;</span><br><span class="line">  lastName?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="StudentInfoë¼ëŠ”-typeì—-Omitì„-ì‚¬ìš©í•´ë³´ë©´-ë‹¤ìŒê³¼-ê°™ë‹¤"><a href="#StudentInfoë¼ëŠ”-typeì—-Omitì„-ì‚¬ìš©í•´ë³´ë©´-ë‹¤ìŒê³¼-ê°™ë‹¤" class="headerlink" title="StudentInfoë¼ëŠ” typeì— Omitì„ ì‚¬ìš©í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤."></a>StudentInfoë¼ëŠ” typeì— Omitì„ ì‚¬ìš©í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> OmitStudentData &#123;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  studentName: keyof Omit&lt;StudentInfo, <span class="string">'lastName'</span>&gt;;</span><br><span class="line">  memo: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>type Omit&lt;T, K extends string | number | symbol&gt; = { [P in Exclude&lt;keyof T, K&gt;]: T[P];}</code></p>
</blockquote>
<p>Omitì€ object typeì¸ <code>StudentInfo</code>ë¥¼ ì·¨í•´ì„œ type ì¤‘ íŠ¹ì •í•œ íƒ€ì…ì„ ì œê±°í•œë‹¤. ì—¬ê¸°ì„œ StudentInfoì˜ ì†ì„± <code>{ isStudent: boolean, firstName?: string, lastName?: string }</code>ì¤‘ keyê°€ â€˜lastNameâ€™ì¸ ì†ì„±ì„ ì œê±°í•˜ê³ ì í–ˆë‹¤. ë”°ë¼ì„œ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> StudentInfo &#123;</span><br><span class="line">  isStudent: <span class="built_in">boolean</span>;</span><br><span class="line">  firstName?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="StudentInfoë¼ëŠ”-typeì—-Excludeë¥¼-ì‚¬ìš©í•´ë³´ë©´-ë‹¤ìŒê³¼-ê°™ë‹¤"><a href="#StudentInfoë¼ëŠ”-typeì—-Excludeë¥¼-ì‚¬ìš©í•´ë³´ë©´-ë‹¤ìŒê³¼-ê°™ë‹¤" class="headerlink" title="StudentInfoë¼ëŠ” typeì— Excludeë¥¼ ì‚¬ìš©í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤."></a>StudentInfoë¼ëŠ” typeì— Excludeë¥¼ ì‚¬ìš©í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> ExcludeStudentData &#123;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  studentName: Exclude&lt;keyof StudentInfo, <span class="string">'lastName'</span>&gt;;</span><br><span class="line">  memo: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>type Exclude&lt;T, U&gt; = T extends U ? never : T</code></p>
</blockquote>
<p>ExcludeëŠ” union ë©¤ë²„ì˜ êµ¬ì„±ìš”ì†Œë¥¼ ì œê±°í•œë‹¤. ì—¬ê¸°ì„œ ExcludeëŠ” Union Typeì„ ì·¨í•´ì„œ StudentInfoì˜ Union Typeì€ <code>Exclude&lt;&#39;isStudent&#39; | &#39;firstName&#39; | &#39;lastName&#39; | &#39;lastName&#39;&gt;</code>ì™€ ê°™ì€ í˜•íƒœê°€ ë˜ëŠ”ë°, <code>&#39;lastName&#39;</code>ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ <code>&lt;&#39;isStudent&#39; | &#39;firstName&#39;&gt;</code>ì´ union ë©¤ë²„ê°€ ëœë‹¤. ë”°ë¼ì„œ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> StudentInfo &#123;</span><br><span class="line">  isStudent: <span class="built_in">boolean</span>;</span><br><span class="line">  firstName?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>Omit, Excludeë¥¼ ì“´ ê²°ê³¼ëŠ” ë™ì¼í•˜ì§€ë§Œ ê³¼ì •ìƒ Omitì€ íŠ¹ì • ì†ì„±ì„ ì œê±°í•œ ê²°ê³¼ë¥¼ ì œê³µí•œë‹¤ëŠ” ì , ExcludeëŠ” ì†ì„±ì„ ì œê±°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ íŠ¹ì • Union Typeì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ Union Typeì„ ì œê±°í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆë‹¤.</em></strong></p>
<hr>
<p><em>References</em><br><a href="https://www.typescriptlang.org/docs/handbook/2/keyof-types.html#the-keyof-type-operator" target="_blank" rel="noopener">The keyof type operator</a><br><a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys" target="_blank" rel="noopener">Omit<Type, Keys></a><br><a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#excludetype-excludedunion" target="_blank" rel="noopener">Exclude<Type, ExcludedUnion></a><br><a href="https://stackoverflow.com/questions/56916532/difference-b-w-only-exclude-and-omit-pick-exclude-typescript" target="_blank" rel="noopener">Difference b/w only Exclude and Omit (Pick &amp; Exclude) Typescript</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/09/25/210926_muiCssInjectionOrder/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/25/210926_muiCssInjectionOrder/" class="post-title-link" itemprop="url">MUI CSS injection order ì›ë¬¸ ì¶•ì•½</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-26 00:00:00" itemprop="dateCreated datePublished" datetime="2021-09-26T00:00:00+09:00">2021-09-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ì›ë¬¸ ë§í¬: <a href="https://mui.com/styles/advanced/#string-templates" target="_blank" rel="noopener">https://mui.com/styles/advanced/#string-templates</a></p>
</blockquote>
<h2 id="CSS-injection-order"><a href="#CSS-injection-order" class="headerlink" title="CSS injection order"></a>CSS injection order</h2><blockquote>
<p>CSSê°€ ì–´ë–»ê²Œ ë¸Œë¼ìš°ì €ì— ì˜í•´ ê³„ì‚°ë˜ëŠ”ì§€ ì´í•´í•˜ëŠ” ê²ƒì€ ì–¸ì œ ìŠ¤íƒ€ì¼ ì˜¤ë²„ë¼ì´ë”©ì´ ë˜ëŠ”ì§€ ì•Œê¸° ìœ„í•œ í‚¤í¬ì¸íŠ¸ì´ê¸° ë•Œë¬¸ì— ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. ì´ì™€ ê´€ë ¨í•˜ì—¬ MDNì˜ <a href="https://developer.mozilla.org/ko/docs/Web/CSS/Specificity" target="_blank" rel="noopener">ì–´ë–»ê²Œ ê³„ì‚°ë˜ëŠ”ê°€?</a>ë¥¼ ì½ì–´ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</p>
</blockquote>
<p>ê¸°ë³¸ì ìœ¼ë¡œ style íƒœê·¸ëŠ” í˜ì´ì§€ì˜ <code>&lt;head&gt;</code> ì—˜ë¦¬ë¨¼íŠ¸ì˜ ê°€ì¥ ë§ˆì§€ë§‰ì— ì£¼ì…ëœë‹¤. ì´ style íƒœê·¸ëŠ” í˜ì´ì§€ì˜ ë‹¤ë¥¸ ì–´ë–¤ style íƒœê·¸ (e.g. CSS module, styled components) ë³´ë‹¤ë„ íŠ¹ìˆ˜í•¨ì„ ê°€ì§„ë‹¤.</p>
<h2 id="injectFirst"><a href="#injectFirst" class="headerlink" title="injectFirst"></a>injectFirst</h2><p><code>StylesProvider</code> ì»´í¬ë„ŒíŠ¸ëŠ” <code>injectFirst</code> propë¥¼ ê°€ì§€ê³  ìˆì–´ì„œ head(ë‚®ì€ ìš°ì„ ìˆœìœ„)ì—ì„œ ê°€ì¥ ë¨¼ì € ì£¼ì…ë˜ëŠ” style tagì´ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; StylesProvider &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span></span><br><span class="line"></span><br><span class="line">;<span class="xml"><span class="tag">&lt;<span class="name">StylesProvider</span> <span class="attr">injectFirst</span>&gt;</span></span></span><br><span class="line"><span class="xml">  &#123;/* Your component tree.</span></span><br><span class="line"><span class="xml">      Styled components can override MUI's styles. */&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">StylesProvider</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="makeStyles-withStyles-styled"><a href="#makeStyles-withStyles-styled" class="headerlink" title="makeStyles / withStyles / styled"></a>makeStyles / withStyles / styled</h2><p>ì£¼ì…ë˜ëŠ” style tagëŠ” makeStyles / withStyles / styledê°€ ë°œìƒí•˜ëŠ” ê°™ì€ ìˆœìœ„ì—ì„œ ë°œìƒí•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ color redê°€ ì•„ë˜ ì˜ˆì‹œì—ì„œ ìš°ì„¸í•˜ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> clsx <span class="keyword">from</span> <span class="string">'clsx'</span></span><br><span class="line"><span class="keyword">import</span> &#123; makeStyles &#125; <span class="keyword">from</span> <span class="string">'@mui/styles'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useStylesBase = makeStyles(&#123;</span><br><span class="line">  root: &#123;</span><br><span class="line">    color: <span class="string">'blue'</span> <span class="comment">// ğŸ”µ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useStyles = makeStyles(&#123;</span><br><span class="line">  root: &#123;</span><br><span class="line">    color: <span class="string">'red'</span> <span class="comment">// ğŸ”´</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">MyComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Order doesn't matter</span></span><br><span class="line">  <span class="keyword">const</span> classes = useStyles()</span><br><span class="line">  <span class="keyword">const</span> classesBase = useStylesBase()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Order doesn't matter</span></span><br><span class="line">  <span class="keyword">const</span> className = clsx(classes.root, classesBase.root)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// color: red ğŸ”´ wins.</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;className&#125;</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>hookì˜ í˜¸ì¶œ ìˆœì„œì™€ class nameì˜ ì—°ì†ì ì¸ ìˆœì„œëŠ” ìƒê´€ ì—†ë‹¤.</p>
<h2 id="insertionPoint"><a href="#insertionPoint" class="headerlink" title="insertionPoint"></a>insertionPoint</h2><p>JSSëŠ” ì´ëŸ¬í•œ ìƒí™©ì„ í•´ê²°í•  ìˆ˜ ìˆëŠ” <a href="https://github.com/cssinjs/jss/blob/master/docs/setup.md#specify-the-dom-insertion-point" target="_blank" rel="noopener">ë§¤ì»¤ë‹ˆì¦˜</a>ì„ ì œê³µí•œë‹¤. HTMLë‚´ì— ì‚½ì…ì ì„ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ CSS ê·œì¹™ì´ componentsì— <a href="https://cssinjs.org/jss-api/?v=v10.8.0#attach-style-sheets-in-a-specific-order" target="_blank" rel="noopener">ì ìš©ë˜ëŠ” ìˆœì„œë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤.</a></p>
<hr>
<p><em>References</em><br><a href="https://mui.com/styles/advanced/#string-templates" target="_blank" rel="noopener">CSS injection order</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/09/24/210925_nextjsTypescript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/24/210925_nextjsTypescript/" class="post-title-link" itemprop="url">Next.jsì™€ TypeScript ì›ë¬¸ ë²ˆì—­</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-25 00:00:00" itemprop="dateCreated datePublished" datetime="2021-09-25T00:00:00+09:00">2021-09-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ì›ë¬¸ë§í¬: <a href="https://nextjs.org/docs/basic-features/typescript#incremental-type-checking" target="_blank" rel="noopener">https://nextjs.org/docs/basic-features/typescript#incremental-type-checking</a></p>
</blockquote>
<h2 id="create-next-app-support"><a href="#create-next-app-support" class="headerlink" title="create-next-app support"></a>create-next-app support</h2><p>TypeScript projectë¥¼ <code>create-next-app</code>ê³¼ í•¨ê»˜ <code>--ts</code>, <code>--typescript</code> ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-next-app --ts</span><br><span class="line"># or</span><br><span class="line">yarn create next-app --typescript</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Existing-projects"><a href="#Existing-projects" class="headerlink" title="Existing projects"></a>Existing projects</h2><p>ì´ë¯¸ ì¡´ì¬í•˜ëŠ” projectì— ì ìš©í•˜ë ¤ë©´ root folderì— ë¹ˆ <code>tsconfig.json</code> fileì„ ìƒì„±í•œë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch tsconfig.json</span><br></pre></td></tr></table></figure>
<p>Next.jsëŠ” ìë™ìœ¼ë¡œ ì´ íŒŒì¼ ì•ˆì— default valuesë¥¼ ì„¤ì •í•œë‹¤. custom <a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank" rel="noopener">complier options</a>ë¡œ <code>tsconfig.json</code>ì„ ì‘ì„±í•˜ëŠ” ê²ƒ ë˜í•œ ì§€ì›ëœë‹¤.</p>
<blockquote>
<p>Next.jsëŠ” TypeScriptë¥¼ í•¸ë“¤ë§í•˜ê¸° ìœ„í•´ Babelì„ ì‚¬ìš©í•˜ëŠ”ë° ëª‡ê°€ì§€ <a href="https://babeljs.io/docs/en/babel-plugin-transform-typescript#caveats" target="_blank" rel="noopener">ì£¼ì˜ì‚¬í•­</a>ì´ ìˆê³  <a href="https://babeljs.io/docs/en/babel-plugin-transform-typescript#typescript-compiler-options" target="_blank" rel="noopener">ì¼ë¶€ ì»´íŒŒì¼ëŸ¬ ì˜µì…˜ì€ ë‹¤ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.</a></p>
</blockquote>
<p><code>next(npm run dev or yarn dev)</code>ë¥¼ ì‹¤í–‰í•˜ë©´, Next.jsê°€ setupì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ ì„¤ì¹˜ê°€ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì•ˆë‚´í•œë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br><span class="line"></span><br><span class="line"># You&#39;ll see instructions like these:</span><br><span class="line">#</span><br><span class="line"># Please install typescript, @types&#x2F;react, and @types&#x2F;node by running:</span><br><span class="line">#</span><br><span class="line">#         yarn add --dev typescript @types&#x2F;react @types&#x2F;node</span><br><span class="line">#</span><br><span class="line"># ...</span><br></pre></td></tr></table></figure>
<p>ì´ë ‡ê²Œ í•˜ë©´ <code>.js</code> íŒŒì¼ì„ <code>.tsx</code>ë¡œ ì „í™˜í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆê³ , TypeScriptë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p>
<hr>
<blockquote>
<p><code>next-env.d.ts</code>ë¼ëŠ” ì´ë¦„ì˜ íŒŒì¼ì´ í”„ë¡œì íŠ¸ì˜ rootì— ìƒì„±ëœë‹¤. ì´ íŒŒì¼ì€ TypeScript complierê°€ Next.jsì˜ typeì„ ì„ íƒí•˜ë„ë¡ í•œë‹¤. ì´ëŠ” ë§¤ë²ˆ ë³€ê²½ë˜ë¯€ë¡œ <strong>ì„ì˜ë¡œ ì‚­ì œí•˜ê±°ë‚˜ í¸ì§‘í•˜ì§€ ì•Šë„ë¡ í•œë‹¤.</strong></p>
<p>TypeScript <code>strict</code> ëª¨ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ êº¼ì ¸ìˆë‹¤. TypeScriptë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•˜ë ¤ë©´ <code>tsconfig.json</code>íŒŒì¼ ë‚´ì— ì´ ëª¨ë“œë¥¼ ì¼œë„ë¡ í•œë‹¤.</p>
<p><code>next-env.d.ts</code>ë¥¼ í¸ì§‘í•˜ëŠ” ëŒ€ì‹  <code>additional.d.ts</code>ì™€ ê°™ì€ ìƒˆ íŒŒì¼ì„ ì¶”ê°€í•œ ë‹¤ìŒ, <code>tsconfig.json</code> ì˜ <a href="https://www.typescriptlang.org/tsconfig#include" target="_blank" rel="noopener">include</a> ë°°ì—´ì—ì„œ ì°¸ì¡°í•˜ì—¬ ìƒˆë¡œìš´ íƒ€ì… ìœ í˜•ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<p>ê¸°ë³¸ì ìœ¼ë¡œ Next.jsëŠ” <code>next build</code>ì˜ ì¼ë¶€ë¡œ type checkingë¥¼ ìˆ˜í–‰í•œë‹¤. ê°œë°œí•˜ëŠ” ë™ì•ˆì—ëŠ” code editiorë¥¼ ì´ìš©í•˜ì—¬ type checkingì„ í•  ê²ƒì„ ì¶”ì²œí•œë‹¤.</p>
<p>ë§Œì•½ error reportë¥¼ ë¬´ì‹œí•˜ê³  ì‹¶ë‹¤ë©´, <a href="https://nextjs.org/docs/api-reference/next.config.js/ignoring-typescript-errors" target="_blank" rel="noopener">Ignoring TypeScript errors</a>ì™€ ê´€ë ¨ëœ ë¬¸ì„œë¥¼ í™•ì¸í•˜ë„ë¡ í•œë‹¤.</p>
<hr>
<h2 id="Static-Generation-and-Server-side-Rendering"><a href="#Static-Generation-and-Server-side-Rendering" class="headerlink" title="Static Generation and Server-side Rendering"></a>Static Generation and Server-side Rendering</h2><p><code>getStaticProps</code>, <code>getStaticPaths</code>, <code>getServerSideProps</code>ì„ ìœ„í•´ ê°ê° <code>getStaticProps</code>, <code>getStaticPaths</code>, <code>getServerSideProps</code> typeì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; GetStaticProps, GetStaticPaths, GetServerSideProps &#125; <span class="keyword">from</span> <span class="string">'next'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStaticProps: GetStaticProps = <span class="keyword">async</span> (context) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStaticPaths: GetStaticPaths = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getServerSideProps: GetServerSideProps = <span class="keyword">async</span> (context) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ë§Œì•½ <code>getInitialProps</code>ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ <a href="https://nextjs.org/docs/api-reference/data-fetching/getInitialProps#typescript" target="_blank" rel="noopener">ì´ ë§í¬</a>ë¥¼ ì°¸ì¡°í•œë‹¤.</p>
</blockquote>
<hr>
<h2 id="API-Routes"><a href="#API-Routes" class="headerlink" title="API Routes"></a>API Routes</h2><p>ì•„ë˜ ì˜ˆì œëŠ” API routesì˜ ë¹ŒíŠ¸ì¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> type &#123; NextApiRequest, NextApiResponse &#125; <span class="keyword">from</span> <span class="string">'next'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (req: NextApiRequest, <span class="attr">res</span>: NextApiResponse) =&gt; &#123;</span><br><span class="line">  res.status(<span class="number">200</span>).json(&#123; <span class="attr">name</span>: <span class="string">'John Doe'</span> &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>reponse dataì— typeì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> type &#123; NextApiRequest, NextApiResponse &#125; <span class="keyword">from</span> <span class="string">'next'</span>;</span><br><span class="line"></span><br><span class="line">type Data = &#123;</span><br><span class="line">  name: string,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (req: NextApiRequest, <span class="attr">res</span>: NextApiResponse&lt;Data&gt;) =&gt; &#123;</span><br><span class="line">  res.status(<span class="number">200</span>).json(&#123; <span class="attr">name</span>: <span class="string">'John Doe'</span> &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Custom-App"><a href="#Custom-App" class="headerlink" title="Custom App"></a>Custom App</h2><p>ë§Œì•½ <a href="https://nextjs.org/docs/advanced-features/custom-app" target="_blank" rel="noopener">custom App</a>ì„ ì‚¬ìš©í•œë‹¤ë©´ ë¹ŒíŠ¸ì¸ íƒ€ì…ì¸ <code>AppProps</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³  íŒŒì¼ ì´ë¦„ì„ <code>./pages/_app.tsx</code>ì™€ ê°™ì´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import App from "next/app";</span></span><br><span class="line"><span class="keyword">import</span> type &#123; AppProps <span class="comment">/*, AppContext */</span> &#125; <span class="keyword">from</span> <span class="string">'next/app'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyApp</span>(<span class="params">&#123; Component, pageProps &#125;: AppProps</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...pageProps</span>&#125; /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Only uncomment this method if you have blocking data requirements for</span></span><br><span class="line"><span class="comment">// every single page in your application. This disables the ability to</span></span><br><span class="line"><span class="comment">// perform automatic static optimization, causing every page in your app to</span></span><br><span class="line"><span class="comment">// be server-side rendered.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// MyApp.getInitialProps = async (appContext: AppContext) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   // calls page's `getInitialProps` and fills `appProps.pageProps`</span></span><br><span class="line"><span class="comment">//   const appProps = await App.getInitialProps(appContext);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   return &#123; ...appProps &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> MyApp;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Path-aliases-and-baseUrl"><a href="#Path-aliases-and-baseUrl" class="headerlink" title="Path aliases and baseUrl"></a>Path aliases and baseUrl</h2><p>Next.jsëŠ” ìë™ìœ¼ë¡œ tsconfig.json <code>paths</code>ì™€ <code>baseUrl</code> ì˜µì…˜ì„ ì œê³µí•œë‹¤. Module Path aliasesì™€ ê´€ë ¨ëœ íŠ¹ì§•ì„ ë” ì•Œì•„ë³´ê³  ì‹¶ë‹¤ë©´ <a href="https://nextjs.org/docs/advanced-features/module-path-aliases" target="_blank" rel="noopener">ì´ ë§í¬</a>ë¥¼ ì°¸ì¡°í•œë‹¤.</p>
<h2 id="Type-checking-next-config-js"><a href="#Type-checking-next-config-js" class="headerlink" title="Type checking next.config.js"></a>Type checking next.config.js</h2><p><code>next.config.js</code> íŒŒì¼ì€ ë°˜ë“œì‹œ JavaScript íŒŒì¼ì´ì–´ì•¼ í•˜ê³ , Babelì´ë‚˜ TypeScriptë¡œ parseë˜ì–´ì„œëŠ” ì•ˆëœë‹¤.í•˜ì§€ë§Œ ì•„ë˜ì™€ ê°™ì´ JSDocë¥¼ ì´ìš©í•´ì„œ IDEì—ì„œì˜ ëª‡ ê°€ì§€ type checkingë¥¼ ì¶”ê°€í•  ìˆ˜ëŠ” ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; @ts-check</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * @type &#123;import(&#39;next&#39;).NextConfig&#125;</span><br><span class="line"> **&#x2F;</span><br><span class="line">const nextConfig &#x3D; &#123;</span><br><span class="line">  &#x2F;* config options here *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; nextConfig</span><br></pre></td></tr></table></figure>
<h2 id="Incremental-type-checking"><a href="#Incremental-type-checking" class="headerlink" title="Incremental type checking"></a>Incremental type checking</h2><p><code>v10.2.1</code>ë¶€í„° Next.jsëŠ” <a href="https://www.typescriptlang.org/tsconfig#incremental" target="_blank" rel="noopener">incremental type checking</a>ë¥¼ <code>tsconfig.json</code>ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤. ì´ëŠ” ëŒ€ê·œëª¨ applicationì—ì„œ type checkingì„ ë¹ ë¥´ê²Œ í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤. ìµœì†Œí•œ <code>v4.3.2</code>ì´ìƒì˜ TypeScriptë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ìµœê³ ì˜ ì„±ëŠ¥ì„ ê²½í—˜í•˜ê¸° ìœ„í•´ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¶”ì²œëœë‹¤.</p>
<hr>
<p><em>References</em><br><a href="https://nextjs.org/docs/basic-features/typescript#incremental-type-checking" target="_blank" rel="noopener">Next.js - TypeScript</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/09/01/210902_axios/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/01/210902_axios/" class="post-title-link" itemprop="url">Axios</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-02 00:00:00" itemprop="dateCreated datePublished" datetime="2021-09-02T00:00:00+09:00">2021-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ì›ë¬¸ë§í¬: <a href="https://axios-http.com/" target="_blank" rel="noopener">https://axios-http.com/</a></p>
</blockquote>
<h2 id="Axiosë€"><a href="#Axiosë€" class="headerlink" title="Axiosë€"></a>Axiosë€</h2><p>node.jsì™€ ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ promise ê¸°ë°˜ì˜ HTTP Client. ë¸Œë¼ìš°ì €ì™€ nodejsì—ì„œ ë™ì¼í•œ ì½”ë“œê°€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤. server-sideì—ì„œëŠ” native ê¸°ë°˜ì˜ node.js httop ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê³ , client(ë¸Œë¼ìš°ì €)ì—ì„œëŠ” XMLHttpRequestsë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<h2 id="íŠ¹ì§•"><a href="#íŠ¹ì§•" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h2><ul>
<li>ë¸Œë¼ìš°ì €ë¡œë¶€í„° XMLHttpRequestsë¥¼ ë§Œë“ ë‹¤.</li>
<li>node.jsë¡œë¶€í„° http ìš”ì²­ì„ ë§Œë“ ë‹¤.</li>
<li>Promise APIë¥¼ ë³´ì¡°í•œë‹¤.</li>
<li>requestì™€ responseë¥¼ ì¤‘ê°„ì—ì„œ ê°€ë¡œì±„ì–´ ê´€ë¦¬í•œë‹¤.</li>
<li>requestì™€ response ë°ì´í„°ë¥¼ ì „ì†¡í•œë‹¤.</li>
<li>requestë¥¼ ì·¨ì†Œí•œë‹¤.</li>
<li>JSON dataì— ëŒ€í•œ ìë™ ë³€í™˜.</li>
<li>XSRFë¡œë¶€í„° ë³´í˜¸í•˜ê¸° ìœ„í•´ client sideë¥¼ ë³´ì¡°í•œë‹¤.</li>
</ul>
<h2 id="ì„¤ì¹˜"><a href="#ì„¤ì¹˜" class="headerlink" title="ì„¤ì¹˜"></a>ì„¤ì¹˜</h2><p><strong>1. using npm</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure>
<p><strong>2. using bower</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install axios</span><br></pre></td></tr></table></figure>
<p><strong>3. using yarn</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add axios</span><br></pre></td></tr></table></figure>
<p><strong>4. using jsDelivr CDN</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>5. Using unpkg CDN</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/axios/dist/axios.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ì˜ˆì‹œ"><a href="#ì˜ˆì‹œ" class="headerlink" title="ì˜ˆì‹œ"></a>ì˜ˆì‹œ</h2><h3 id="CommonJS-usage"><a href="#CommonJS-usage" class="headerlink" title="CommonJS usage"></a>CommonJS usage</h3><p>TypeScript typings (for intellisense / autocomplete)ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•´ CommonJSë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ <code>require()</code>ë¥¼ importí•œë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">'axios'</span>).default;</span><br><span class="line"></span><br><span class="line"><span class="comment">// axios.&lt;method&gt;ë¥¼ ì“°ê²Œ ë˜ë©´ autocompleteê³¼ parameter typingsì˜ ì‚¬ìš©ì´ ê°€ëŠ¥í•´ì§„ë‹¤.</span></span><br></pre></td></tr></table></figure>
<h3 id="GET-requestë¥¼-ìˆ˜í–‰í•˜ëŠ”-ì˜ˆì œ"><a href="#GET-requestë¥¼-ìˆ˜í–‰í•˜ëŠ”-ì˜ˆì œ" class="headerlink" title="GET requestë¥¼ ìˆ˜í–‰í•˜ëŠ” ì˜ˆì œ"></a>GET requestë¥¼ ìˆ˜í–‰í•˜ëŠ” ì˜ˆì œ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">'axios'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make a request for a user with a given ID</span></span><br><span class="line">axios</span><br><span class="line">  .get(<span class="string">'/user?ID=12345'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// handle success</span></span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// handle error</span></span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// í•­ìƒ ì‹¤í–‰ëœë‹¤.</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì„ íƒì ìœ¼ë¡œ ìœ„ì˜ ìš”ì²­ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</span></span><br><span class="line">axios</span><br><span class="line">  .get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// í•­ìƒ ì‹¤í–‰ëœë‹¤.</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// async/awaitë¥¼ ì“°ê³  ì‹¶ë‹¤ë©´ 'async' í‚¤ì›Œë“œë¥¼ function/methodì˜ ë°”ê¹¥ìª½ì— ë¶™ì—¬ì¤€ë‹¤.</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.get(<span class="string">'/user?ID=12345'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="POST-Requests"><a href="#POST-Requests" class="headerlink" title="POST Requests"></a>POST Requests</h2><p>Axiosë¥¼ ê°€ì§€ê³  POST requestë¥¼ ìš”ì²­í•˜ëŠ” ë°©ë²•</p>
<h3 id="POST-requestë¥¼-ìˆ˜í–‰í•˜ëŠ”-ì˜ˆì œ"><a href="#POST-requestë¥¼-ìˆ˜í–‰í•˜ëŠ”-ì˜ˆì œ" class="headerlink" title="POST requestë¥¼ ìˆ˜í–‰í•˜ëŠ” ì˜ˆì œ"></a>POST requestë¥¼ ìˆ˜í–‰í•˜ëŠ” ì˜ˆì œ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">  .post(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="ì—¬ëŸ¬-ìš”ì²­ì„-ë™ì‹œì—-ìˆ˜í–‰í•˜ëŠ”-ì˜ˆì œ"><a href="#ì—¬ëŸ¬-ìš”ì²­ì„-ë™ì‹œì—-ìˆ˜í–‰í•˜ëŠ”-ì˜ˆì œ" class="headerlink" title="ì—¬ëŸ¬ ìš”ì²­ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ëŠ” ì˜ˆì œ"></a>ì—¬ëŸ¬ ìš”ì²­ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ëŠ” ì˜ˆì œ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserAccount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserPermissions</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345/permissions'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([getUserAccount(), getUserPermissions()]).then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> acct = results[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">const</span> perm = results[<span class="number">1</span>];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Axios-API"><a href="#Axios-API" class="headerlink" title="Axios API"></a>Axios API</h2><p>requestëŠ” ê´€ë ¨ëœ configë¥¼ í†µí•´ axiosë¡œ ì „ë‹¬ëœë‹¤.</p>
<h3 id="axios-config"><a href="#axios-config" class="headerlink" title="axios(config)"></a>axios(config)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// POST requestë¥¼ ë³´ë‚¸ë‹¤.</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'post'</span>,</span><br><span class="line">  url: <span class="string">'/user/12345'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// node.js remote imageì— ëŒ€í•œ GET request</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'get'</span>,</span><br><span class="line">  url: <span class="string">'http://bit.ly/2mTM3nY'</span>,</span><br><span class="line">  responseType: <span class="string">'stream'</span>,</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">  response.data.pipe(fs.createWriteStream(<span class="string">'ada_lovelace.jpg'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="axios-url-config"><a href="#axios-url-config" class="headerlink" title="axios(url[, config])"></a>axios(url[, config])</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Send a GET request (default method)</span></span><br><span class="line">axios(<span class="string">'/user/12345'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Request-method-aliases"><a href="#Request-method-aliases" class="headerlink" title="Request method aliases"></a>Request method aliases</h3><p>í¸ì˜ë¥¼ ìœ„í•´ ì§€ì›ë˜ëŠ” ëª¨ë“  ìš”ì²­ ë©”ì„œë“œì— ëŒ€í•œ aliasê°€ ì œê³µëœë‹¤. alias methodì¸ url, method, data ì†ì„±ì„ ì“¸ ë•ŒëŠ” configì— ì‘ì„±í•  í•„ìš”ì—†ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.request(config)</span><br><span class="line">axios.get(url[, config])</span><br><span class="line">axios.delete(url[, config])</span><br><span class="line">axios.head(url[, config])</span><br><span class="line">axios.options(url[, config])</span><br><span class="line">axios.post(url[, data[, config]])</span><br><span class="line">axios.put(url[, data[, config]])</span><br><span class="line">axios.patch(url[, data[, config]])</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="The-Axios-Instance"><a href="#The-Axios-Instance" class="headerlink" title="The Axios Instance"></a>The Axios Instance</h2><h3 id="Creating-an-instance"><a href="#Creating-an-instance" class="headerlink" title="Creating an instance"></a>Creating an instance</h3><p>custom configë¥¼ í†µí•´ axiosì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p>
<h3 id="axios-create-config"><a href="#axios-create-config" class="headerlink" title="axios.create([config])"></a>axios.create([config])</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'https://some-domain.com/api/'</span>,</span><br><span class="line">  timeout: <span class="number">1000</span>,</span><br><span class="line">  headers: &#123; <span class="string">'X-Custom-Header'</span>: <span class="string">'foobar'</span> &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Instance-methods"><a href="#Instance-methods" class="headerlink" title="Instance methods"></a>Instance methods</h3><p>ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ìŠ¤í„´ìŠ¤ ë©”ì†Œë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ëª…ì‹œëœ configëŠ” instance configì™€ ë³‘í•©ëœë‹¤.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">axios#request(config)</span><br><span class="line">axios#get(url[, config])</span><br><span class="line">axios#delete(url[, config])</span><br><span class="line">axios#head(url[, config])</span><br><span class="line">axios#options(url[, config])</span><br><span class="line">axios#post(url[, data[, config]])</span><br><span class="line">axios#put(url[, data[, config]])</span><br><span class="line">axios#patch(url[, data[, config]])</span><br><span class="line">axios#getUri([config])</span><br></pre></td></tr></table></figure>
<hr>
<p><em>References</em><br><a href="https://axios-http.com/" target="_blank" rel="noopener">Axios</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/08/25/210826_rtk-mutation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/25/210826_rtk-mutation/" class="post-title-link" itemprop="url">RTK Query Mutation ì›ë¬¸ ë²ˆì—­</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-26 00:00:00" itemprop="dateCreated datePublished" datetime="2021-08-26T00:00:00+09:00">2021-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ì›ë¬¸ë§í¬: <a href="https://redux-toolkit.js.org/rtk-query/usage/mutations" target="_blank" rel="noopener">https://redux-toolkit.js.org/rtk-query/usage/mutations</a></p>
</blockquote>
<h1 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a>Mutation</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>mutationì€ ì„œë²„ì— ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ ë³´ë‚¼ ë•Œ ì‚¬ìš©í•˜ê³ , ì´ë¥¼ ë¡œì»¬ ìºì‹œì— ì ìš©í•˜ë„ë¡ í•œë‹¤. ë˜ ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê±¸ëŸ¬ë‚´ê³ , ê°•ì œë¡œ re-fetchí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>
<h2 id="Defining-Mutation-Endpoints"><a href="#Defining-Mutation-Endpoints" class="headerlink" title="Defining Mutation Endpoints"></a>Defining Mutation Endpoints</h2><p>Mutation EndpointsëŠ” createApiì˜ endpoints ì„¹ì…˜ì— return ë˜ëŠ” ê°ì²´ë¡œ ì •ì˜ëœë‹¤. ì •ì˜ë˜ëŠ” ê³³ì—ì„œëŠ” builder.mutation() ë©”ì†Œë“œë¥¼ í†µí•´ ì •ì˜í•œë‹¤.</p>
<p>Mutation EndpointsëŠ” URL(URL query paramsë¥¼ í¬í•¨í•˜ëŠ”)ì˜ êµ¬ì¡°ì˜ query ì½œë°±ì´ë‚˜ queryFn ì½œë°±ì— ì •ì˜í•´ì•¼ ë˜ëŠ”ë°, queryFn callbackì€ ì„ì˜ë¡œ async ë¡œì§ì„ êµ¬ì„±í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. query ì½œë°±ì€ URL, request ë©”ì†Œë“œì— ì‚¬ìš©í•˜ëŠ” HTTP ë©”ì†Œë“œë¥¼ í¬í•¨í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</p>
<p>query ì½œë°±ì´ URLì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì¶”ê°€ ë°ì´í„°ê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë‹¨ì¼ ì¸ìˆ˜ë¡œ ì‘ì„±ë˜ì–´ì•¼ í•˜ê³ , ë§Œì•½ ì—¬ëŸ¬ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ì˜ˆì •ì´ë¼ë©´ ë‹¨ì¼ ì˜µì…˜ ê°œì²´(option object)ì˜ í˜•íƒœë¡œ ì „ë‹¬ë˜ì–´ì•¼ í•œë‹¤.</p>
<p>Mutation endpointsëŠ” ê²°ê³¼ê°€ ìºì‹œë˜ê¸° ì „ì— response ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³ , tagsë¥¼ ì •ì˜í•˜ì—¬ ìºì‹œ ë¬´íš¨í™”ë¥¼ ì‹ë³„í•˜ê³ , ìºì‹œ í•­ëª©ì´ ì¶”ê°€ ë° ì œê±°ë  ë•Œê¹Œì§€ ì „ì²´ ë¼ì´í”„ ì‚¬ì´í´ ì½œë°±ì„ ì œê³µí•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Example of all mutation endpoint options</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createApi, fetchBaseQuery &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Post &#125; <span class="keyword">from</span> <span class="string">'./types'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> api = createApi(&#123;</span><br><span class="line">  baseQuery: fetchBaseQuery(&#123;</span><br><span class="line">    baseUrl: <span class="string">'/'</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">  tagTypes: [<span class="string">'Post'</span>],</span><br><span class="line">  endpoints: <span class="function">(<span class="params">build</span>) =&gt;</span> (&#123;</span><br><span class="line">    updatePost: build.mutation&lt;Post, Partial&lt;Post&gt; &amp; Pick&lt;Post, <span class="string">'id'</span>&gt;&gt;(&#123;</span><br><span class="line">      <span class="comment">// note: an optional `queryFn` may be used in place of `query`</span></span><br><span class="line">      query: <span class="function">(<span class="params">&#123; id, ...patch &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">        url: <span class="string">`post/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">        method: <span class="string">'PATCH'</span>,</span><br><span class="line">        body: patch,</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="comment">// Pick out data and prevent nested properties in a hook or selector</span></span><br><span class="line">      transformResponse: <span class="function">(<span class="params">response: &#123; data: Post &#125;</span>) =&gt;</span> response.data,</span><br><span class="line">      invalidatesTags: [<span class="string">'Post'</span>],</span><br><span class="line">      <span class="comment">// onQueryStarted is useful for optimistic updates</span></span><br><span class="line">      <span class="comment">// The 2nd parameter is the destructured `MutationLifecycleApi`</span></span><br><span class="line">      <span class="keyword">async</span> onQueryStarted(</span><br><span class="line">        arg,</span><br><span class="line">        &#123; dispatch, getState, queryFulfilled, requestId, extra, getCacheEntry &#125;</span><br><span class="line">      ) &#123;&#125;,</span><br><span class="line">      <span class="comment">// The 2nd parameter is the destructured `MutationCacheLifecycleApi`</span></span><br><span class="line">      <span class="keyword">async</span> onCacheEntryAdded(</span><br><span class="line">        arg,</span><br><span class="line">        &#123;</span><br><span class="line">          dispatch,</span><br><span class="line">          getState,</span><br><span class="line">          extra,</span><br><span class="line">          requestId,</span><br><span class="line">          cacheEntryRemoved,</span><br><span class="line">          cacheDataLoaded,</span><br><span class="line">          getCacheEntry,</span><br><span class="line">        &#125;</span><br><span class="line">      ) &#123;&#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>onQueryStartedëŠ” <a href="https://redux-toolkit.js.org/rtk-query/usage/optimistic-updates" target="_blank" rel="noopener">optimistic update</a>ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<hr>
<h2 id="Performing-Mutations-with-React-Hooks"><a href="#Performing-Mutations-with-React-Hooks" class="headerlink" title="Performing Mutations with React Hooks"></a>Performing Mutations with React Hooks</h2><h3 id="Mutation-Hook-Behavior"><a href="#Mutation-Hook-Behavior" class="headerlink" title="Mutation Hook Behavior"></a>Mutation Hook Behavior</h3><p>useQueryì™€ ë‹¬ë¦¬ useMutationëŠ” tupleì„ ë°˜í™˜í•œë‹¤. tupleì˜ ì²« ë²ˆì§¸ ì•„ì´í…œì€ â€˜triggerâ€™ í•¨ìˆ˜ì´ê³ , ë‘ ë²ˆì§¸ ì•„ì´í…œì€ status, error, dataë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ì´ë‹¤.</p>
<p>useQuery hookê³¼ ë‹¬ë¦¬ useMutationì€ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. mutationì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ hookì˜ ì²« ë²ˆì§¸ tuple ê°’ì¸ trigger í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤. <a href="https://redux-toolkit.js.org/rtk-query/api/created-api/hooks#usemutation" target="_blank" rel="noopener">useMutaion</a>ê³¼ ê´€ë ¨ëœ ìì„¸í•œ ë‚´ìš©ì€ ë§í¬ë¥¼ ì°¸ì¡°í•œë‹¤.</p>
<h3 id="Frequently-Used-Mutation-Hook-Return-Values"><a href="#Frequently-Used-Mutation-Hook-Return-Values" class="headerlink" title="Frequently Used Mutation Hook Return Values"></a>Frequently Used Mutation Hook Return Values</h3><p>useMutation hookì€ mutaion trigger í•¨ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” tupleê³¼ mutation ê²°ê³¼ì™€ ê´€ë ¨ëœ ì†ì„±ì„ í¬í•¨í•˜ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤ í•˜ì˜€ë‹¤.</p>
<p>mutaion trigger í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ìš”ì²­ì„ ì‹œì‘í•œë‹¤. mutation triggerë¥¼ í˜¸ì¶œí•˜ë©´ upwarp ì†ì„±ì´ í¬í•¨ëœ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ”ë°, ì´ ì†ì„±ì„ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ í†µí•´ mutation í˜¸ì¶œì„ í’€ê³ , rawí•œ reponseì™€ errorë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤. ì´ëŠ” mutationì˜ í˜¸ì¶œë˜ëŠ” ì˜ì—­ì—ì„œ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ê²½ìš°ì— ìœ ìš©í•˜ë‹¤.</p>
<p>mutation resultëŠ” mutation ìš”ì²­ì— ëŒ€í•œ ê°€ì¥ ìµœì‹ ì˜ dataì™€ ê°™ì€ ì†ì„±ì„ í¬í•¨í•˜ëŠ” ê°ì²´ì¸ë°, ì´ ë¿ ë§Œ ì•„ë‹ˆë¼ í˜„ì¬ ìš”ì²­í•œ ë¼ì´í”„ì‚¬ì´í´ stateì— ëŒ€í•œ boolean ì†ì„±ë„ í¬í•¨í•˜ê³  ìˆë‹¤.</p>
<p>ì•„ë˜ëŠ” mutation result ê°ì²´ì—ì„œ ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì†ì„±ë“¤ì´ë‹¤. <a href="https://redux-toolkit.js.org/rtk-query/api/created-api/hooks#usemutation" target="_blank" rel="noopener">useMutation</a>ê°€ returní•˜ëŠ” ì „ì²´ ì†ì„±ì— ëŒ€í•œ ë‚´ìš©ì€ ë§í¬ë¥¼ ì°¸ì¡°í•œë‹¤.</p>
<ul>
<li>data: ì¡´ì¬í•˜ëŠ” ê²½ìš°ì—, ê°€ì¥ ìµœì‹ ì˜ trigger responseë¡œ ë¶€í„° ë°˜í™˜ëœ ë°ì´í„°. ë§Œì•½ ë™ì¼í•œ hookì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í›„ì† triggerê°€ í˜¸ì¶œë˜ë©´ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë°›ê¸° ì „ì—ëŠ” undefinedë¥¼ ë°˜í™˜í•œë‹¤. ì´ì „ ë°ì´í„°ì—ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¡œì˜ ì›í™œí•œ ì „í™˜ì„ ìœ„í•´ì„œ ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ì˜ ê³ ë ¤í•´ì•¼ í•œë‹¤.</li>
<li>error: ì¡´ì¬í•˜ëŠ” ê²½ìš° ì—ëŸ¬ì˜ ê²°ê³¼.</li>
<li>isUninitialized: trueì¼ ë•Œ, mutationì´ ì•„ì§ ë°œìƒí•˜ì§€ ì•Šì•˜ìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.</li>
<li>isLoading: trueì¼ ê²½ìš°ì— mutationì´ ì•„ì§ ë°œìƒí–ˆê³ , reponseë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤.</li>
<li>isSuccess: trueì¼ ê²½ìš°ì— ë§ˆìë¯¹ìœ¼ë¡œ ì‹¤í–‰ëœ mutationì—ì„œ ì„±ê³µì ì¸ ìš”ì²­ìœ¼ë¡œ ë¶€í„° ì–»ì€ ë°ì´í„°ê°€ ìˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.</li>
<li>isError: trueì¼ ë•Œ, ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹¤í–‰ëœ mutationì—ì„œ error ìƒíƒœë¥¼ ì–»ì—ˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.</li>
</ul>
<p>note: RTK ì¿¼ë¦¬ì—ì„œ mutationì€ <a href="https://redux-toolkit.js.org/rtk-query/usage/queries#frequently-used-query-hook-return-values" target="_blank" rel="noopener">query</a>ê°€ ê·¸ëŸ° ê²ƒ ì²˜ëŸ¼ â€˜loadingâ€™ì™€ â€˜fetchingâ€™ ì‚¬ì´ì— ì‹œë©˜í‹±í•œ êµ¬ë¶„ì„ í¬í•¨í•˜ê³  ìˆì§€ ì•Šë‹¤. mutationì€ í›„ì† callì´ ë°˜ë“œì‹œ ê´€ë ¨ì´ ìˆëŠ” ê²ƒì´ë¼ê³  ê°€ì •í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, mutationì€ â€˜no fetchingâ€™ê³¼ ê°™ì€ ì»¨ì…‰ì´ ì—†ê³ , â€˜loadingâ€™ ë˜ëŠ” â€˜not loadingâ€™ì˜ ì»¨ì…‰ì„ ê°€ì§„ë‹¤.</p>
<hr>
<h2 id="Standard-Mutation-Example"><a href="#Standard-Mutation-Example" class="headerlink" title="Standard Mutation Example"></a>Standard Mutation Example</h2><p>í˜ì´ì§€ í•˜ë‹¨ì˜ updataPost mutationì˜ ì™„ì „í•œ ìˆ˜ì •ëœ ì˜ˆì‹œì´ë‹¤. ì´ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ postëŠ” useQueryë¡œ fetchë˜ì—ˆê³ , postì˜ ì´ë¦„ì„ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” EditablePostName ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ëœë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//src/features/posts/PostDetail.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> PostDetail = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; id &#125; = useParams&lt;&#123; <span class="attr">id</span>: any &#125;&gt;()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> &#123; <span class="attr">data</span>: post &#125; = useGetPostQuery(id)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [</span><br><span class="line">    updatePost, <span class="comment">// This is the mutation trigger</span></span><br><span class="line">    &#123; <span class="attr">isLoading</span>: isUpdating &#125;, <span class="comment">// This is the destructured mutation result</span></span><br><span class="line">  ] = useUpdatePostMutation()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Box p=&#123;<span class="number">4</span>&#125;&gt;</span><br><span class="line">      &lt;EditablePostName</span><br><span class="line">        name=&#123;post.name&#125;</span><br><span class="line">        onUpdate=&#123;(name) =&gt; &#123;</span><br><span class="line">          <span class="comment">// If you want to immediately access the result of a mutation, you need to chain `.unwrap()`</span></span><br><span class="line">          <span class="comment">// if you actually want the payload or to catch the error.</span></span><br><span class="line">          <span class="comment">// Example: `updatePost().unwrap().then(fulfilled =&gt; console.log(fulfilled)).catch(rejected =&gt; console.error(rejected))</span></span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> (</span><br><span class="line">            <span class="comment">// Execute the trigger with the `id` and updated `name`</span></span><br><span class="line">            updatePost(&#123; id, name &#125;)</span><br><span class="line">          )</span><br><span class="line">        &#125;&#125;</span><br><span class="line">        isLoading=&#123;isUpdating&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;<span class="regexp">/Box&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Advanced-Mutations-with-Revalidation"><a href="#Advanced-Mutations-with-Revalidation" class="headerlink" title="Advanced Mutations with Revalidation"></a>Advanced Mutations with Revalidation</h2><p>ì¼ë°˜ì ìœ¼ë¡œ ê°œë°œìê°€ mutation(revalidation)ì„ ìˆ˜í–‰í•œ í›„ ë¡œì»¬ ë°ì´í„° ìºì‹œë¥¼ ì„œë²„ì™€ ì¬ë™ê¸°í™”í•˜ë ¤ëŠ” ê²½ìš°ê°€ ë§¤ìš° í”í•˜ë‹¤. RTK QueryëŠ” ì´ì— ëŒ€í•´ ë³´ë‹¤ ì¤‘ì•™ì§‘ê¶Œí™” ëœ ì ‘ê·¼ë°©ë²•ì„ ì·¨í•¨ìœ¼ë¡œì¨ API ì •ì˜ì—ì„œ invalidation ë™ì‘ì„ êµ¬ì„±í•´ì•¼ í•œë‹¤. <a href="https://redux-toolkit.js.org/rtk-query/usage/automated-refetching#advanced-invalidation-with-abstract-tag-ids" target="_blank" rel="noopener">Advanced Invalidation with abstract tag IDs</a>ë¥¼ í†µí•´ RTK Queryì™€ Invalidationì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì„ ì°¸ì¡°í•˜ë¼.</p>
<h2 id="Revalidation-Example"><a href="#Revalidation-Example" class="headerlink" title="Revalidation Example"></a>Revalidation Example</h2><p>postì˜ <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener">CRUD service</a> ì˜ˆì‹œì´ë‹¤. ì´ëŠ” <a href="https://redux-toolkit.js.org/rtk-query/usage/automated-refetching#selectively-invalidating-lists" target="_blank" rel="noopener">Selectively invalidating lists</a>ì˜ ì „ëµì„ êµ¬í˜„í•˜ê³ , ì‹¤ì œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ì¢‹ì€ ê¸°ë°˜ì„ ì œê³µí•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//src/app/services/posts.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Or from '@reduxjs/toolkit/query' if not using the auto-generated hooks</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApi, fetchBaseQuery &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query/react'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> interface Post &#123;</span><br><span class="line">  id: number</span><br><span class="line">  name: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type PostsResponse = Post[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> postApi = createApi(&#123;</span><br><span class="line">  reducerPath: <span class="string">'postsApi'</span>,</span><br><span class="line">  baseQuery: fetchBaseQuery(&#123; <span class="attr">baseUrl</span>: <span class="string">'/'</span> &#125;),</span><br><span class="line">  tagTypes: [<span class="string">'Posts'</span>],</span><br><span class="line">  endpoints: <span class="function">(<span class="params">build</span>) =&gt;</span> (&#123;</span><br><span class="line">    getPosts: build.query&lt;PostsResponse, <span class="keyword">void</span>&gt;(&#123;</span><br><span class="line">      query: <span class="function"><span class="params">()</span> =&gt;</span> <span class="string">'posts'</span>,</span><br><span class="line">      <span class="comment">// Provides a list of `Posts` by `id`.</span></span><br><span class="line">      <span class="comment">// If any mutation is executed that `invalidate`s any of these tags, this query will re-run to be always up-to-date.</span></span><br><span class="line">      <span class="comment">// The `LIST` id is a "virtual id" we just made up to be able to invalidate this query specifically if a new `Posts` element was added.</span></span><br><span class="line">      providesTags: <span class="function">(<span class="params">result</span>) =&gt;</span></span><br><span class="line">        <span class="comment">// is result available?</span></span><br><span class="line">        result</span><br><span class="line">          ? <span class="comment">// successful query</span></span><br><span class="line">            [</span><br><span class="line">              ...result.map(<span class="function">(<span class="params">&#123; id &#125;</span>) =&gt;</span> (&#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, id &#125; <span class="keyword">as</span> <span class="keyword">const</span>)),</span><br><span class="line">              &#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, <span class="attr">id</span>: <span class="string">'LIST'</span> &#125;,</span><br><span class="line">            ]</span><br><span class="line">          : <span class="comment">// an error occurred, but we still want to refetch this query when `&#123; type: 'Posts', id: 'LIST' &#125;` is invalidated</span></span><br><span class="line">            [&#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, <span class="attr">id</span>: <span class="string">'LIST'</span> &#125;],</span><br><span class="line">    &#125;),</span><br><span class="line">    addPost: build.mutation&lt;Post, Partial&lt;Post&gt;&gt;(&#123;</span><br><span class="line">      query(body) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          url: <span class="string">`post`</span>,</span><br><span class="line">          method: <span class="string">'POST'</span>,</span><br><span class="line">          body,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// Invalidates all Post-type queries providing the `LIST` id - after all, depending of the sort order,</span></span><br><span class="line">      <span class="comment">// that newly created post could show up in any lists.</span></span><br><span class="line">      invalidatesTags: [&#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, <span class="attr">id</span>: <span class="string">'LIST'</span> &#125;],</span><br><span class="line">    &#125;),</span><br><span class="line">    getPost: build.query&lt;Post, number&gt;(&#123;</span><br><span class="line">      query: <span class="function">(<span class="params">id</span>) =&gt;</span> <span class="string">`post/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">      providesTags: <span class="function">(<span class="params">result, error, id</span>) =&gt;</span> [&#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, id &#125;],</span><br><span class="line">    &#125;),</span><br><span class="line">    updatePost: build.mutation&lt;Post, Partial&lt;Post&gt;&gt;(&#123;</span><br><span class="line">      query(data) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; id, ...body &#125; = data</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          url: <span class="string">`post/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">          method: <span class="string">'PUT'</span>,</span><br><span class="line">          body,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// Invalidates all queries that subscribe to this Post `id` only.</span></span><br><span class="line">      <span class="comment">// In this case, `getPost` will be re-run. `getPosts` *might*  rerun, if this id was under its results.</span></span><br><span class="line">      invalidatesTags: <span class="function">(<span class="params">result, error, &#123; id &#125;</span>) =&gt;</span> [&#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, id &#125;],</span><br><span class="line">    &#125;),</span><br><span class="line">    deletePost: build.mutation&lt;&#123; <span class="attr">success</span>: boolean; id: number &#125;, number&gt;(&#123;</span><br><span class="line">      query(id) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          url: <span class="string">`post/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">          method: <span class="string">'DELETE'</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// Invalidates all queries that subscribe to this Post `id` only.</span></span><br><span class="line">      invalidatesTags: <span class="function">(<span class="params">result, error, id</span>) =&gt;</span> [&#123; <span class="attr">type</span>: <span class="string">'Posts'</span>, id &#125;],</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123;</span><br><span class="line">  useGetPostsQuery,</span><br><span class="line">  useAddPostMutation,</span><br><span class="line">  useGetPostQuery,</span><br><span class="line">  useUpdatePostMutation,</span><br><span class="line">  useDeletePostMutation,</span><br><span class="line">&#125; = postApi</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="Optimistic-Updates"><a href="#Optimistic-Updates" class="headerlink" title="Optimistic Updates"></a>Optimistic Updates</h1><p><a href="https://redux-toolkit.js.org/rtk-query/usage/optimistic-updates" target="_blank" rel="noopener">https://redux-toolkit.js.org/rtk-query/usage/optimistic-updates</a></p>
<p>useMutationì„ í†µí•´ ì´ë¯¸ ì¡´ì¬í•˜ê³  ìˆëŠ” ì¼ë¶€ ë°ì´í„°ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³ ì í•  ë•Œ RTK QueryëŠ” optimistic ì—…ë°ì´íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ëª‡ê°€ì§€ toolì„ ì œê³µí•œë‹¤. ì´ëŠ” ì‚¬ìš©ìì—ê²Œ ë³€ê²½ì‚¬í•­ì´ ì¦‰ì‹œ ì ìš©ëœë‹¤ëŠ” ì¸ìƒì„ ì£¼ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•œ íŒ¨í„´ì´ë‹¤.</p>
<p>í•µì‹¬ ê°œë…ì€ ë‹¤ìŒê³¼ ê°™ë‹¤:</p>
<ul>
<li>quey ë˜ëŠ” mutationì´ ì‹œì‘ ë  ë•Œ , onQueryStartedê°€ ì‹¤í–‰ëœë‹¤.</li>
<li><code>api.util.updateQueryData</code> ë¥¼ í†µí•´ ìºì‹œëœ ë°ì´í„°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.</li>
<li>promiseResultê°€ rejectì¼ ë•Œ <code>.undo</code> ë¥¼ í†µí•´ ì´ì „ ë””ìŠ¤íŒ¨ì¹˜ì—ì„œ ë°˜í™˜ëœ ê°ì²´ì˜ ì†ì„±ìœ¼ë¡œ ë¡¤ë°±í•œë‹¤.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Optimistic update mutation example (async await)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createApi, fetchBaseQuery &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Post &#125; <span class="keyword">from</span> <span class="string">'./types'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> api = createApi(&#123;</span><br><span class="line">  baseQuery: fetchBaseQuery(&#123;</span><br><span class="line">    baseUrl: <span class="string">'/'</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">  tagTypes: [<span class="string">'Post'</span>],</span><br><span class="line">  endpoints: <span class="function">(<span class="params">build</span>) =&gt;</span> (&#123;</span><br><span class="line">    getPost: build.query&lt;Post, number&gt;(&#123;</span><br><span class="line">      query: <span class="function">(<span class="params">id</span>) =&gt;</span> <span class="string">`post/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">      providesTags: [<span class="string">'Post'</span>],</span><br><span class="line">    &#125;),</span><br><span class="line">    updatePost: build.mutation&lt;<span class="keyword">void</span>, Pick&lt;Post, <span class="string">'id'</span>&gt; &amp; Partial&lt;Post&gt;&gt;(&#123;</span><br><span class="line">      query: <span class="function">(<span class="params">&#123; id, ...patch &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">        url: <span class="string">`post/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">        method: <span class="string">'PATCH'</span>,</span><br><span class="line">        body: patch,</span><br><span class="line">      &#125;),</span><br><span class="line">      invalidatesTags: [<span class="string">'Post'</span>],</span><br><span class="line">      <span class="keyword">async</span> onQueryStarted(&#123; id, ...patch &#125;, &#123; dispatch, queryFulfilled &#125;) &#123;</span><br><span class="line">        <span class="keyword">const</span> patchResult = dispatch(</span><br><span class="line">          api.util.updateQueryData(<span class="string">'getPost'</span>, id, (draft) =&gt; &#123;</span><br><span class="line">            <span class="built_in">Object</span>.assign(draft, patch)</span><br><span class="line">          &#125;)</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">await</span> queryFulfilled</span><br><span class="line">        &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">          patchResult.undo()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<p><em>References</em><br><a href="https://redux-toolkit.js.org/rtk-query/usage/mutations" target="_blank" rel="noopener">RTK Query Mutations</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/08/18/210819_rtkQuery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/18/210819_rtkQuery/" class="post-title-link" itemprop="url">RTK Query Overview ì›ë¬¸ ë²ˆì—­</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-19 00:00:00" itemprop="dateCreated datePublished" datetime="2021-08-19T00:00:00+09:00">2021-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ì›ë¬¸ë§í¬: <a href="https://redux-toolkit.js.org/rtk-query/overview" target="_blank" rel="noopener">https://redux-toolkit.js.org/rtk-query/overview</a></p>
</blockquote>
<p>RTK QueryëŠ” ê°•ë ¥í•œ data fetchingê³¼ caching íˆ´ì´ë‹¤. ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë°ì´í„°ë¥¼ ë¡œë”©í•  ë•Œ ì‚¬ìš©ë˜ëŠ” common caseë“¤ì„ ë‹¨ìˆœí™” í•˜ê¸° ìœ„í•´ ê³ ì•ˆë˜ì—ˆê¸° ë•Œë¬¸ì— data fetchingê³¼ ìºì‹± ë¡œì§ì„ ì§ì ‘ ì‘ì„±í•  í•„ìš”ê°€ ì—†ë‹¤. Redux Tookit íŒ¨í‚¤ì§€ì—ì„œ ì„ íƒì  ì˜µì…˜ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆê³ , Redux Tookit ê¸°ëŠ¥ì ìœ¼ë¡œ ë‹¤ë¥¸ apiìœ„ì— êµ¬ì¶•ëœë‹¤.</p>
<h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p>ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë³´í†µ dataë¥¼ í™”ë©´ì— ê·¸ë¦¬ê¸° ìœ„í•´ ì„œë²„ë¡œë¶€í„° dataë¥¼ fetchí•´ì„œ ê°€ì ¸ì™€ì•¼ í•œë‹¤. ë˜ ì´ dataë¥¼ ì—…ë°ì´íŠ¸ í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•  ë‚´ìš©ì„ ì„œë²„ì— ë³´ë‚´ê³ , ì„œë²„ì˜ ë°ì´í„°ì™€ ì‹±í¬ë¥¼ ë§ì¶”ê¸° ìœ„í•´ clientì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ìºì‹œí•´ì„œ ê°€ì§€ê³  ìˆê¸°ë„ í•œë‹¤. ì˜¤ëŠ˜ë‚ ì„ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ë‹¤ì–‘í•œ í–‰ë™ì´ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì´ ê³¼ì •ì´ ë”ìš± ë³µì¡í•˜ë‹¤.</p>
<ul>
<li>UI spinnersë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ loading ìƒíƒœì¼ ë•Œë¥¼ ì¶”ì í•œë‹¤.</li>
<li>ê°™ì€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ë•Œ ì¤‘ë³µ ìš”ì²­ì„ ë§‰ëŠ”ë‹¤</li>
<li>UIê°€ ë³´ë‹¤ ë¹ ë¥´ê²Œ ëŠë¼ë„ë¡ í•˜ëŠ” updates</li>
<li>UIì™€ ìœ ì € ì¸í„°í˜ì´ìŠ¤ì˜ ìƒí˜¸ì‘ìš©ì„ ìœ„í•œ ìºì‹œ ìˆ˜ëª…(ì‚¬ì´í´) ë§¤ë‹ˆì§•</li>
</ul>
<p>Redux ì½”ì–´ëŠ” ëŠ˜ ìµœì†Œí™”ë˜ì–´ ì™”ê¸° ë•Œë¬¸ì— ì‹¤ì œ ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ê²ƒì€ ê°œë°œìì—ê²Œ ë‹¬ë ¤ìˆë‹¤. ì´ëŠ” ë¦¬ë•ìŠ¤ê°€ ìœ„ì™€ ê°™ì€ ì‚¬ìš© ì‚¬ë¡€ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì–´ë– í•œ ê²ƒë„ ë‚´ë¶€ì— í¬í•¨í•˜ê³  ìˆì§€ ì•Šë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ë¦¬ë•ìŠ¤ ë„íë¨¼íŠ¸ì—ì„œëŠ” ë¡œë”© ìŠ¤í…Œì´íŠ¸ì™€ ìš”ì²­ ê²°ê³¼ë¥¼ íŠ¸ë˜í‚¹í•˜ê¸° ìœ„í•œ ìš”ì²­ ìˆ˜ëª…(ì‚¬ì´í´)ì´ ëª‡ ê°€ì§€ ì¼ë°˜ì ì¸ íŒ¨í„´ì´ ìˆë‹¤ê³  ê°€ë¥´ì³ì™”ë‹¤. ê·¸ë¦¬ê³  Redux Toolkitì˜ createAsyncThunkëŠ” ì´ëŸ¬í•œ ì „í˜•ì ì¸ íŒ¨í„´ì„ ì¶”ìƒí™”í•˜ì—¬ ê³ ì•ˆëœ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ ìœ ì €ëŠ” ì•„ì§ë„ ìƒë‹¹í•œ ë¦¬ë“€ì„œ ë¡œì§ì„ ë¡œë”© ìŠ¤í…Œì´íŠ¸ì™€ ë°ì´í„° ìºì‹œë¥¼ ìœ„í•´ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>
<p>ì§€ë‚œ ëª‡ ë…„ê°„, ë¦¬ì•¡íŠ¸ ì»¤ë®¤ë‹ˆí‹°ëŠ” â€œdata fetchingê³¼ ìºì‹±â€™ì´ state managementì™€ ì™„ì „íˆ ë‹¤ë¥¸ ê´€ì‹¬ì‚¬ë¼ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ë‹¤. Reduxì™€ ê°™ì€ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ìºì‹œí•  ìˆ˜ ìˆìë§Œ, ë°ì´í„° fetchingê³¼ ê°™ì€ ìƒí™©ì—ì„œ ì“¸ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë³„ë„ì˜ íˆ´ì„ ì‚¬ìš©í•´ë„ ë  ë§Œí¼ ì˜ë¯¸ìˆë‹¤.</p>
<p>RTK QueryëŠ” Apollo Client, React Query, Urql ë° SWRê³¼ ê°™ì´ data fetchingì„ ìœ„í•œ ì„ êµ¬ì ì¸ ì†”ë£¨ì…˜ íˆ´ë“¤ë¡œë¶€í„° ì˜ê°ì„ ë°›ì•˜ì§€ë§Œ, API ë””ìì¸ì— ê³ ìœ í•œ ì ‘ê·¼ ë°©ì‹ì„ ì¶”ê°€í–ˆë‹¤.</p>
<ul>
<li>data fetchingê³¼ ìºì‹± ë¡œì§ì€ Redux toolkitì˜ createSliceì™€ createAsyncThunk apië¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœë‹¤.</li>
<li>ì™œëƒí•˜ë©´ redux toolkitì€ UIì— êµ¬ì• ë°›ì§€ ì•ŠëŠ” UI-agnosticì´ê¸° ë•Œë¬¸ì—, RTK ì¿¼ë¦¬ëŠ” ëª¨ë“  UI layerì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li>api endpointëŠ” ì¸ìˆ˜ë¥¼ í†µí•´ ì–´ë–»ì¼€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ìƒì„±í•  ê²ƒì¸ì§€ì™€ ìºì‹±ì„ ìœ„í•´ ì–´ë–»ê²Œ ì‘ë‹µì„ ë³€í™˜í•  ê²ƒì¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ ë¯¸ë¦¬ ì •ì˜ëœë‹¤.</li>
<li>RTK QueryëŠ” react hookì„ ìƒì„±í•˜ì—¬ ì „ì²´ data fetchingê³¼ì •ì„ ìº¡ìŠí™”í•˜ê³ , ì»´í¬ë„ŒíŠ¸ì— dataì™€ isLoadingí•„ë“œë¥¼ ì œê³µí•˜ê³ , ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ê±°ë‚˜ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ìºì‹œëœ ë°ì´í„°ì˜ ìˆ˜ëª…ì„ ê´€ë¦¬í•œë‹¤.</li>
<li>RTK QueryëŠ” â€œcache entry lifecycleâ€ì˜µì…˜ì„ ì œê³µí•˜ëŠ”ë°, ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì´ˆê¸° ë°ì´í„°ë¥¼ fetchingí•œ í›„ì— ì›¹ì†Œì¼“ ë©”ì„¸ì§€ë¥¼ í†µí•´ ìŠ¤íŠ¸ë¦¬ë° ìºì‹œ ì—…ë°ì´íŠ¸ ë“±ê³¼ ê°™ì€ ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í™œì„±í™” ëœë‹¤.</li>
<li>openAPI ë˜ëŠ” GraphQL ìŠ¤í‚¤ë§ˆì—ì„œ API sliceì˜ ì½”ë“œ ìƒì„±ì— ëŒ€í•œ ì˜ˆë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.</li>
<li>RTK QueryëŠ” ì™„ì „íˆ TypeScriptë¡œ ì“°ì—¬ì ¸ ìˆê¸° ë•Œë¬¸ì— TS ì‚¬ìš©ì— ëŒ€í•œ ì¢‹ì€ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<hr>
<h1 id="í¬í•¨ëœ-ê²ƒ"><a href="#í¬í•¨ëœ-ê²ƒ" class="headerlink" title="í¬í•¨ëœ ê²ƒ"></a>í¬í•¨ëœ ê²ƒ</h1><h2 id="APIs"><a href="#APIs" class="headerlink" title="APIs"></a>APIs</h2><p>RTK QueryëŠ” Redux Toolkit íŒ¨í‚¤ì§€ì˜ ì½”ì–´ë¥¼ ì„¤ì¹˜í•˜ë©´ ê·¸ê³³ì— í¬í•¨ë˜ì–´ ìˆë‹¤. ì•„ë˜ ë‘ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì¤‘ í•œ ê°€ì§€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApi &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* React-specific entry point that automatically generates</span></span><br><span class="line"><span class="comment">   hooks corresponding to the defined endpoints */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApi &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query/react'</span>;</span><br></pre></td></tr></table></figure>
<p>RTK Queryì—ëŠ” ë‹¤ìŒì˜ APIê°€ í¬í•¨ëœë‹¤.</p>
<ul>
<li>createApi(): RTK Queryì˜ í•µì‹¬ê¸°ëŠ¥ì´ë‹¤. ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ë“¤ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ íšŒìˆ˜í•  ê²ƒì¸ì§€ê°€ ì‘ì„±ëœ ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ë“¤ì„ ì •ì˜í•˜ê³ , ì—¬ê¸°ì—ëŠ” ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ fetchí•˜ê±°ë‚˜ ë³€í™˜í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ë‚´ìš©ì´ ë‹´ê¸´ë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° appì—ì„œ â€œí•˜ë‚˜ì˜ base URL ë‹¹ í•˜ë‚˜ì˜ API ìŠ¬ë¼ì´ìŠ¤â€ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆë§Œ ì‘ì„±ë˜ì–´ì•¼ í•œë‹¤.</li>
<li>fetchBaseQuery(): ìš”ì²­ì„ ë‹¨ìˆœí™”í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ëŠ” fetchë¥¼ ê°ì‹¸ëŠ” ì‘ì€ Wrapperì´ë‹¤. ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìì—ê²ŒëŠ” createApiì—ì„œ baseQueryë¡œ ì‚¬ìš©í•  ê²ƒì´ ê¶Œì¥ëœë‹¤.</li>
<li><ApiProvider/>: Redux ìŠ¤í† ì–´ê°€ ì—†ëŠ” ê²½ìš°ì—ë„ Providerë¡œì¨ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li>setupListeners(): refetchOnMounteì™€ refetchOnReconnectë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ìœ í‹¸ë¦¬í‹°ì´ë‹¤.</li>
</ul>
<h3 id="ë²ˆë“¤-í¬ê¸°"><a href="#ë²ˆë“¤-í¬ê¸°" class="headerlink" title="ë²ˆë“¤ í¬ê¸°"></a>ë²ˆë“¤ í¬ê¸°</h3><p>RTK ì¿¼ë¦¬ëŠ” ì•±ì˜ ë²ˆë“¤ ì‚¬ì´ì¦ˆì— ê³ ì •ëœ ì¼íšŒì„± ì‚¬ì´ì¦ˆë¡œ ì¶”ê°€ëœë‹¤. RTK QueryëŠ” Redux Toolkitê³¼ React-Reduxì˜ ê°€ì¥ ìƒë‹¨ì—ì„œ ë¹Œë“œë˜ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ì¶”ê°€ëœ ì‚¬ì´ì¦ˆëŠ” ì´ë¯¸ ì‚¬ìš©ìê°€ appì—ì„œ ì´ê²ƒì„ ì“°ê³  ìˆëŠ”ì§€ ì•„ë‹Œì§€ì— ë”°ë¼ ë‹¤ë¥´ë‹¤. ì˜ˆìƒë˜ëŠ” min+gzip ë²ˆë“¤ í¬ê¸°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<ul>
<li>RTKë¥¼ ì´ë¯¸ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê²½ìš°: RTK ì¿¼ë¦¬ì˜ ê²½ìš° ~9kb, hooksì˜ ê²½ìš° ~2kb.</li>
<li>RTKë¥¼ ì´ë¯¸ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°:<ul>
<li>React ì—†ìŒ: RTK+dependencies+RTK ì¿¼ë¦¬ì˜ ê²½ìš° 17kB</li>
<li>React ì‚¬ìš© ì‹œ: 19kB + React-Redux, which is a peer dependency</li>
</ul>
</li>
</ul>
<p>endpointë“¤ì˜ ì •ì˜ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ í¬í•¨í•˜ê³ ì í•˜ë©´ ë³´í†µ ëª‡ ë°”ì´íŠ¸ì— ë¶ˆê³¼í•œ endpoints ì •ì˜ ë‚´ë¶€ì˜ ì‹¤ì œ ì½”ë“œì— ê·¼ê±°í•˜ì—¬ í¬ê¸°ë§Œ ì¦ê°€í•´ì•¼ í•œë‹¤</p>
<p>RTK ì¿¼ë¦¬ì— í¬í•¨ëœ ê¸°ëŠ¥ì€ ì¶”ê°€ëœ ë²ˆë“¤ í¬ê¸°ì— ëŒ€í•œ ë¹„ìš©ì„ ë¹ ë¥´ê²Œ ì§€ë¶ˆí•˜ëŠ” ê²ƒì„ í¬í•¨í•˜ê¸° ë•Œë¬¸ì— ì§ì ‘ ì‘ì„±í•œ data fetching ë¡œì§ì„ ì œê±°í•˜ë©´ ëŒ€ë¶€ë¶„ì˜ ì˜ë¯¸ìˆëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ sizeê°€ í–¥ìƒëœë‹¤.</p>
<hr>
<h2 id="ê¸°ë³¸-ì‚¬ìš©ë²•"><a href="#ê¸°ë³¸-ì‚¬ìš©ë²•" class="headerlink" title="ê¸°ë³¸ ì‚¬ìš©ë²•"></a>ê¸°ë³¸ ì‚¬ìš©ë²•</h2><h3 id="Create-an-API-Slice"><a href="#Create-an-API-Slice" class="headerlink" title="Create an API Slice"></a>Create an API Slice</h3><p>RTK QueryëŠ” Redux Toolkit íŒ¨í‚¤ì§€ì˜ ì½”ì–´ë¥¼ ì„¤ì¹˜í•˜ë©´ ê·¸ê³³ì— í¬í•¨ë˜ì–´ ìˆë‹¤. ì•„ë˜ ë‘ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì¤‘ í•œ ê°€ì§€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApi &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* React-specific entry point that automatically generates</span></span><br><span class="line"><span class="comment">   hooks corresponding to the defined endpoints */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// export hooksë¥¼ ì“°ë ¤ë©´ ë°˜ë“œì‹œ /reactë¡œ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApi &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query/react'</span>;</span><br></pre></td></tr></table></figure>
<p>Reactì—ì„œ ì¼ë°˜ì ì¸ ì‚¬ìš©ë²•ì€ createApië¥¼ ì„í¬íŠ¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•˜ì—¬ ì„œë²„ì˜ base urlì„ ì •ë¦¬í•˜ê³ , ì ‘ê·¼í•˜ê³ ì í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì •ë¦¬í•˜ê¸° ìœ„í•œ â€œAPI sliceâ€ë¥¼ ì •ì˜í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApi, fetchBaseQuery &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query/react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Pokemon &#125; <span class="keyword">from</span> <span class="string">'./types'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define a service using a base URL and expected endpoints</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> pokemonApi = createApi(&#123;</span><br><span class="line">  reducerPath: <span class="string">'pokemonApi'</span>,</span><br><span class="line">  baseQuery: fetchBaseQuery(&#123; <span class="attr">baseUrl</span>: <span class="string">'https://pokeapi.co/api/v2/'</span> &#125;),</span><br><span class="line">  endpoints: <span class="function">(<span class="params">builder</span>) =&gt;</span> (&#123;</span><br><span class="line">    getPokemonByName: builder.query&lt;Pokemon, string&gt;(&#123;</span><br><span class="line">      query: <span class="function">(<span class="params">name</span>) =&gt;</span> <span class="string">`pokemon/<span class="subst">$&#123;name&#125;</span>`</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Export hooks for usage in functional components, which are</span></span><br><span class="line"><span class="comment">// auto-generated based on the defined endpoints</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; useGetPokemonByNameQuery &#125; = pokemonApi</span><br></pre></td></tr></table></figure>
<h2 id="ìŠ¤í† ì–´-êµ¬ì„±"><a href="#ìŠ¤í† ì–´-êµ¬ì„±" class="headerlink" title="ìŠ¤í† ì–´ êµ¬ì„±"></a>ìŠ¤í† ì–´ êµ¬ì„±</h2><p>â€œAPI sliceâ€ì—ëŠ” ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” slice ë¦¬ë“€ì„œì™€ êµ¬ë… ìˆ˜ëª…ì£¼ê¸°ë¥¼ ë§¤ë‹ˆì§€ í•  ìˆ˜ ìˆëŠ” ì»¤ìŠ¤í…€ ë¯¸ë“¤ì›¨ì–´ë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤. ì´ ë‘ ê°€ì§€ ëª¨ë‘ Redux ìŠ¤í† ì–´ì— ì¶”ê°€í•´ì•¼ í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;</span><br><span class="line"><span class="comment">// Or from '@reduxjs/toolkit/query/react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; setupListeners &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; pokemonApi &#125; <span class="keyword">from</span> <span class="string">'./services/pokemon'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> store = configureStore(&#123;</span><br><span class="line">  reducer: &#123;</span><br><span class="line">    <span class="comment">// Add the generated reducer as a specific top-level slice</span></span><br><span class="line">    [pokemonApi.reducerPath]: pokemonApi.reducer,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Adding the api middleware enables caching, invalidation, polling,</span></span><br><span class="line">  <span class="comment">// and other useful features of `rtk-query`.</span></span><br><span class="line">  middleware: <span class="function">(<span class="params">getDefaultMiddleware</span>) =&gt;</span></span><br><span class="line">    getDefaultMiddleware().concat(pokemonApi.middleware),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// optional, but required for refetchOnFocus/refetchOnReconnect behaviors</span></span><br><span class="line"><span class="comment">// see `setupListeners` docs - takes an optional callback as the 2nd arg for customization</span></span><br><span class="line">setupListeners(store.dispatch);</span><br></pre></td></tr></table></figure>
<h2 id="ì»´í¬ë„ŒíŠ¸ì—-hooksì‚¬ìš©"><a href="#ì»´í¬ë„ŒíŠ¸ì—-hooksì‚¬ìš©" class="headerlink" title="ì»´í¬ë„ŒíŠ¸ì— hooksì‚¬ìš©"></a>ì»´í¬ë„ŒíŠ¸ì— hooksì‚¬ìš©</h2><p>ë§ˆì§€ë§‰ìœ¼ë¡œ API sliceì—ì„œ ìë™ ìƒì„±ëœ react hookì„ ì»´í¬ë„ŒíŠ¸ íŒŒì¼ë¡œ ì„í¬íŠ¸ í•˜ê³ , ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„ìš”í•œ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ hooksë¥¼ í˜¸ì¶œí•œë‹¤. RTK QueryëŠ” mountë  ë•Œ ìë™ìœ¼ë¡œ dataë¥¼ fetchí•˜ê³ , íŒŒë¼ë¯¸í„°ê°€ ë³€ê²½ë ë•Œ re-fetchí•˜ë©°, ê²°ê³¼ì— {data, isFetching} ê°’ì„ ì œê³µí•œë‹¤. ê·¸ë¦¬ê³  ì´ ê°’ë“¤ì´ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useGetPokemonByNameQuery &#125; <span class="keyword">from</span> <span class="string">'./services/pokemon'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Using a query hook automatically fetches data and returns query values</span></span><br><span class="line">  <span class="keyword">const</span> &#123; data, error, isLoading &#125; = useGetPokemonByNameQuery(<span class="string">'bulbasaur'</span>);</span><br><span class="line">  <span class="comment">// Individual hooks are also accessible under the generated endpoints:</span></span><br><span class="line">  <span class="comment">// const &#123; data, error, isLoading &#125; = pokemonApi.endpoints.getPokemonByName.useQuery('bulbasaur')</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// render UI based on data and loading state</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ì‚¬ìš©ì˜ˆì‹œ"><a href="#ì‚¬ìš©ì˜ˆì‹œ" class="headerlink" title="ì‚¬ìš©ì˜ˆì‹œ"></a>ì‚¬ìš©ì˜ˆì‹œ</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dosApiSlice.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createApi, fetchBaseQuery &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query/react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DOGS_API_KEY = <span class="string">'4902a53c-cfda-44e4-a5d7-35b9bd5b6cb9'</span>;</span><br><span class="line"></span><br><span class="line">interface Breed &#123;</span><br><span class="line">  id: string;</span><br><span class="line">  name: string;</span><br><span class="line">  image: &#123;</span><br><span class="line">    url: string;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//api slice</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> apiSlice = createApi(&#123;</span><br><span class="line">  reducerPath: <span class="string">'api'</span>,</span><br><span class="line">  baseQuery: fetchBaseQuery(&#123;</span><br><span class="line">    baseUrl: <span class="string">'https://api.thedogapi.com/v1'</span>,</span><br><span class="line">    prepareHeaders(headers) &#123;</span><br><span class="line">      headers.set(<span class="string">'x-api-key'</span>, DOGS_API_KEY);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> headers;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="comment">//builderì— ì˜í•´ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ìƒì„±</span></span><br><span class="line">  endpoints(builder) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      fetchBreeds: builder.query&lt;Breed[], number | <span class="keyword">void</span>&gt;(&#123;</span><br><span class="line">        query(limit = <span class="number">10</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">`/breeds?limit=<span class="subst">$&#123;limit&#125;</span>`</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;),</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; useFetchBreedsQuery &#125; = apiSlice;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//store.ts</span></span><br><span class="line"><span class="comment">//configureStore: basic redux create store functionì˜ wrapper</span></span><br><span class="line"><span class="comment">//create store</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; configureStore, getDefaultMiddleware &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;</span><br><span class="line"><span class="keyword">import</span> counterReducer <span class="keyword">from</span> <span class="string">'../features/counter/counter-slice'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; apiSlice &#125; <span class="keyword">from</span> <span class="string">'../features/dogs/dogsApiSlice'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//combine reducer</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> store = configureStore(&#123;</span><br><span class="line">  reducer: &#123;</span><br><span class="line">    counter: counterReducer,</span><br><span class="line">    [apiSlice.reducerPath]: apiSlice.reducer,</span><br><span class="line">  &#125;,</span><br><span class="line">  middleware: <span class="function">(<span class="params">getDefaultMiddleware</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getDefaultMiddleware().concat(apiSlice.middleware);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ts thing</span></span><br><span class="line"><span class="keyword">export</span> type AppDispatch = <span class="keyword">typeof</span> store.dispatch;</span><br><span class="line"><span class="keyword">export</span> type RootState = ReturnType&lt;<span class="keyword">typeof</span> store.getState&gt;;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ê³³ì—ì„œ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">import</span> &#123; useFetchBreedsQuery &#125; <span class="keyword">from</span> <span class="string">'./features/dogs/dogsApiSlice'</span>;</span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">'./logo.svg'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//take selector function</span></span><br><span class="line">  <span class="keyword">const</span> count = useAppSelector(<span class="function">(<span class="params">state</span>) =&gt;</span> state.counter.value);</span><br><span class="line">  <span class="keyword">const</span> dispatch = useAppDispatch();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [numDogs, setNumDogs] = useState(<span class="number">10</span>);</span><br><span class="line">  <span class="keyword">const</span> &#123; data = [], isFetching &#125; = useFetchBreedsQuery(numDogs);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(useFetchBreedsQuery);</span><br></pre></td></tr></table></figure>
<hr>
<p><em>References</em><br><a href="https://redux-toolkit.js.org/rtk-query/overview" target="_blank" rel="noopener">RTK Query Overview</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/07/30/210731_reduxToolkit-Ts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/30/210731_reduxToolkit-Ts/" class="post-title-link" itemprop="url">Redux-tookit-typescript ì›ë¬¸ ë²ˆì—­</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-31 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-31T00:00:00+09:00">2021-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Redux-toolkit-typescript-ì›ë¬¸-ë²ˆì—­"><a href="#Redux-toolkit-typescript-ì›ë¬¸-ë²ˆì—­" class="headerlink" title="Redux-toolkit-typescript ì›ë¬¸ ë²ˆì—­"></a>Redux-toolkit-typescript ì›ë¬¸ ë²ˆì—­</h2><blockquote>
<p>ì›ë¬¸ë§í¬: <a href="https://redux-toolkit.js.org/tutorials/typescript" target="_blank" rel="noopener">https://redux-toolkit.js.org/tutorials/typescript</a></p>
</blockquote>
<h2 id="Usage-With-TypeScript"><a href="#Usage-With-TypeScript" class="headerlink" title="Usage With TypeScript"></a>Usage With TypeScript</h2><p>Redux Toolkitì€ ì´ë¯¸ TypeScriptë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë¯€ë¡œ TS ìœ í˜• ì •ì˜ê°€ ë‚´ì¥ë˜ì–´ ìˆë‹¤. React Redux ëŠ” NPM ì˜ ë³„ë„ @types/react-reduxtypedef íŒ¨í‚¤ì§€ ì— typeì— ëŒ€í•œ ì •ì˜ê°€ ìˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒ ì™¸ì—ë„ typeì€ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì™€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³´ë‹¤ typesageí•˜ê²Œ ì‘ì„±í•˜ëŠ” ê²ƒì„ ì‰½ê²Œ í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” helperë¥¼ exportí•œë‹¤.</p>
<p>React Redux v7.2.3ë¶€í„°ëŠ” react-redux íŒ¨í‚¤ì§€ê°€ @types/react-reduxì— ì¢…ì†ë˜ì–´ì„œ type ì •ì˜ëŠ” ìë™ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í•¨ê»˜ ì„¤ì¹˜ëœë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì¹˜í•´ì•¼ í•œë‹¤. (npm install @types/react-redux)</p>
<p><a href="https://github.com/reduxjs/cra-template-redux-typescript" target="_blank" rel="noopener">The Redux+TS template for Create-React-App</a> comes with a working example of these patterns already configured.</p>
<h1 id="Project-Setup"><a href="#Project-Setup" class="headerlink" title="Project Setup"></a>Project Setup</h1><p>Root State ë° Dispatch Types ì •ì˜</p>
<p>configureStoreë¥¼ ì‚¬ìš©í•˜ë©´ ì¶”ê°€ ì…ë ¥ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. í•˜ì§€ë§Œ ì¶”í›„ì— í•„ìš”ì— ë”°ë¼ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ RootState typeê³¼ Dispatch typeì„ ì¶”ì¶œí•˜ê³ ì í•˜ê²Œ ëœë‹¤. ìŠ¤í† ì–´ ìì²´ì—ì„œ ì´ëŸ¬í•œ íƒ€ì…ë“¤ì„ ì¶”ë¡ í•œë‹¤ëŠ” ê²ƒì€ state sliceë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë¯¸ë“¤ì›¨ì–´ ì„¸íŒ…ì„ ìˆ˜ì •í•  ë•Œ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</p>
<p>ì´ê²ƒë“¤ì€ ëª¨ë‘ typeì´ê¸° ë•Œë¬¸ì— app/store.tsì™€ ê°™ì´ ìŠ¤í† ì–´ ì…‹ì—… íŒŒì¼ì—ì„œ ì§ì ‘ exportí•˜ì—¬ ë‹¤ë¥¸ íŒŒì¼ë¡œ importí•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> store = configureStore(&#123;</span><br><span class="line">  reducer: &#123;</span><br><span class="line">    posts: postsReducer,</span><br><span class="line">    comments: commentsReducer,</span><br><span class="line">    users: usersReducer,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Infer the `RootState` and `AppDispatch` types from the store itself</span></span><br><span class="line"><span class="comment">//RooteStateì™€ AppDispatchê°€ ìŠ¤í† ì–´ ìì²´ì—ì„œ ì¶”ë¡ ëœë‹¤.</span></span><br><span class="line"><span class="keyword">export</span> type RootState = ReturnType&lt;<span class="keyword">typeof</span> store.getState&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì¶”ë¡ ëœ íƒ€ì…:</span></span><br><span class="line"><span class="comment">// Inferred type: &#123;posts: PostsState, comments: CommentsState, users: UsersState&#125;</span></span><br><span class="line"><span class="keyword">export</span> type AppDispatch = <span class="keyword">typeof</span> store.dispatch;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Define-Typed-Hooks"><a href="#Define-Typed-Hooks" class="headerlink" title="Define Typed Hooks"></a>Define Typed Hooks</h2><p>RooteStateì™€ AppDispatchë¥¼ typeë“¤ì„ ê°ê° ì»´í¬ë„ŒíŠ¸ë¡œ importí•  ìˆ˜ ìˆì§€ë§Œ, ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ íƒ€ì…ì´ ì§€ì •ëœ ë²„ì „ì˜ useDispatch, useSelector í›…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>
<ul>
<li>useSelectorë¥¼ ì“°ë©´ ë§¤ë²ˆ (state:RootState)ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤.</li>
<li>useDispatchë¥¼ ì“°ë©´ ê¸°ë³¸ dispatch íƒ€ì…ì€ thunkì— ëŒ€í•´ ì•Œì§€ ëª»í•œë‹¤. thunkë¥¼ ì˜¬ë°”ë¥´ê²Œ ì“°ê¸° ìœ„í•´ì„œëŠ”thunk middlewate typeì„ í¬í•¨í•œ ìŠ¤í† ì–´ì˜ íŠ¹ì •í•˜ê²Œ ì»¤ìŠ¤í…€ëœ AppDispatchë¥¼ useDispatchì™€ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë¯¸ë¦¬ ìœ í˜•ì´ ì •ì˜ëœ <strong>useDispatch í›…ì„ ì¶”ê°€í•˜ê³ ì í•  ë•ŒëŠ” ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ê³³ì— AppDispatchë¥¼ importí•´ì•¼ í•˜ëŠ” ê²ƒì„ ìŠì§€ ì•Šë„ë¡ í•œë‹¤.</strong></li>
</ul>
<p>ì´ë“¤ì€ typeì´ ì•„ë‹ˆë¼ ì‹¤ì œ ë³€ìˆ˜ì´ê¸° ë•Œë¬¸ì— store setup íŒŒì¼ë³´ë‹¤ëŠ” <strong>app/hooks.tsì™€ ê°™ì€ ë³„ë„ì˜ íŒŒì¼ì— ì •ì˜í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.</strong> ì´ë¥¼ í†µí•´ hookì„ ì“°ê³ ì í•˜ëŠ” ì–´ë– í•œ íŒŒì¼ì—ì„œë“  hookì„ importí•  ìˆ˜ ìˆê²Œí•˜ê³ , ì ì¬ì ì¸ import ë””íœë˜ì‹œ ì´ìŠˆë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app/hook.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; TypedUseSelectorHook, useDispatch, useSelector &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"><span class="keyword">import</span> type &#123; RootState, AppDispatch &#125; <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use throughout your app instead of plain `useDispatch` and `useSelector`</span></span><br><span class="line"><span class="comment">// ì›í˜•ì˜ useDispatch, useSelector ëŒ€ì‹  ì•„ë˜ë¥¼ ì‚¬ìš©í•œë‹¤.</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useAppDispatch = <span class="function"><span class="params">()</span> =&gt;</span> useDispatch&lt;AppDispatch&gt;()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useAppSelector: TypedUseSelectorHook&lt;RootState&gt; = useSelector</span><br></pre></td></tr></table></figure>
<h2 id="Application-Usage"><a href="#Application-Usage" class="headerlink" title="Application Usage"></a>Application Usage</h2><p><code>slice state ë° ì•¡ì…˜ íƒ€ì…ì˜ ì •ì˜</code></p>
<p>ê°ê°ì˜ slice fileì€ ì´ˆê¸° ìƒíƒœê°’ì— ëŒ€í•œ typeì„ ì •ì˜í•´ì•¼ createSliceê°€ ê°ê°ì˜ case ë¦¬ë“€ì„œì— ìˆëŠ” state typeì„ ì˜¬ë°”ë¥´ê²Œ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤.</p>
<p>ìƒì„±ëœ ëª¨ë“  ì•¡ì…˜ë“¤ì€ action.payloadë¥¼ ì¼ë°˜ì ì¸ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” Redux Toolkitì˜ PayloadAction<T> íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ì •ì˜í•´ì•¼ í•œë‹¤.</p>
<p>ì—¬ê¸°ì„œ store íŒŒì¼ë¡œë¶€í„° RootStateë¥¼ ì•ˆì „í•˜ê²Œ import í•  ìˆ˜ ìˆë‹¤. circular importì´ê¸´ í•˜ì§€ë§Œ typsScript ì»´íŒŒì¼ëŸ¬ê°€ typeì„ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” selector í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•Œ í•„ìš”í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createSlice, PayloadAction &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;</span><br><span class="line"><span class="keyword">import</span> type &#123; RootState &#125; <span class="keyword">from</span> <span class="string">'../../app/store'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define a type for the slice state</span></span><br><span class="line">interface CounterState &#123;</span><br><span class="line">  value: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the initial state using that type</span></span><br><span class="line"><span class="keyword">const</span> initialState: CounterState = &#123;</span><br><span class="line">  value: <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> counterSlice = createSlice(&#123;</span><br><span class="line">  name: <span class="string">'counter'</span>,</span><br><span class="line">  <span class="comment">// `createSlice` will infer the state type from the `initialState` argument</span></span><br><span class="line">  initialState,</span><br><span class="line">  reducers: &#123;</span><br><span class="line">    increment: <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">      state.value += <span class="number">1</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement: <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">      state.value -= <span class="number">1</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// Use the PayloadAction type to declare the contents of `action.payload`</span></span><br><span class="line">    incrementByAmount: <span class="function">(<span class="params">state, action: PayloadAction&lt;number&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">      state.value += action.payload;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; increment, decrement, incrementByAmount &#125; = counterSlice.actions;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Other code such as selectors can use the imported `RootState` type</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> selectCount = <span class="function">(<span class="params">state: RootState</span>) =&gt;</span> state.counter.value;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> counterSlice.reducer;</span><br></pre></td></tr></table></figure>
<p>ìƒì„±ëœ action creatorëŠ” ì‘ì„±ìê°€ reducerì— ì œê³µí•œ PayloadAction<T>ì˜ íƒ€ì… ê¸°ë°˜ìœ¼ë¡œ payloadì˜ ì¸ìˆ˜ë¥¼ ìˆ˜ë½í•˜ë„ë¡ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìœ„ ì½”ë“œì—ì„œ incrementByAmountsms ì¸ìˆ˜ë¡œ numberë¥¼ í•„ìš”ë¡œ í•œë‹¤.</p>
<p>ëª‡ëª‡ ì¼€ì´ìŠ¤ì—ì„  typeScriptê°€ ì´ˆê¸° ìƒíƒœì˜ typeì„ ë¶ˆí•„ìš”í•˜ê²Œ tigthí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë§Œì•½ ì´ëŸ° ì¼ì´ ë°œìƒí•œë‹¤ë©´ ë³€ìˆ˜ì˜ typeì„ ì„ ì–¸í•˜ëŠ” ëŒ€ì‹  <code>as</code> ë¥¼ ì´ìš©í•´ì„œ ì´ˆê¸° ìƒíƒœë¥¼ ìºìŠ¤íŒ…í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Workaround: cast state instead of declaring variable type</span></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  value: <span class="number">0</span>,</span><br><span class="line">&#125; <span class="keyword">as</span> CounterState</span><br></pre></td></tr></table></figure>
<h1 id="Use-Typed-Hooks-in-Components"><a href="#Use-Typed-Hooks-in-Components" class="headerlink" title="Use Typed Hooks in Components"></a>Use Typed Hooks in Components</h1><p>ì»´í¬ë„ŒíŠ¸ íŒŒì¼ì—ì„œ React-Reduxì˜ í‘œì¤€ hook ëŒ€ì‹  ë¯¸ë¦¬ ì…ë ¥ëœ hookì„ ê°€ì ¸ì˜¨ë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useAppSelector, useAppDispatch &#125; <span class="keyword">from</span> <span class="string">'app/hooks'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; decrement, increment &#125; <span class="keyword">from</span> <span class="string">'./counterSlice'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// The `state` arg is correctly typed as `RootState` already</span></span><br><span class="line">  <span class="keyword">const</span> count = useAppSelector(<span class="function">(<span class="params">state</span>) =&gt;</span> state.counter.value);</span><br><span class="line">  <span class="keyword">const</span> dispatch = useAppDispatch();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// omit rendering logic</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="Usage-With-TypeScript-1"><a href="#Usage-With-TypeScript-1" class="headerlink" title="Usage With TypeScript"></a>Usage With TypeScript</h1><blockquote>
<p><a href="https://redux-toolkit.js.org/usage/usage-with-typescript" target="_blank" rel="noopener">https://redux-toolkit.js.org/usage/usage-with-typescript</a></p>
</blockquote>
<p>ë¦¬ë•ìŠ¤ íˆ´í‚·ì€ typeScriptë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, í•´ë‹¹ APIëŠ” TypeScript ì‘ìš© í”„ë¡œê·¸ë¨ê³¼ì˜ ë›°ì–´ë‚œ í†µí•©ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤.</p>
<h2 id="configureStore"><a href="#configureStore" class="headerlink" title="configureStore"></a>configureStore</h2><h3 id="state-type-ê°€ì ¸ì˜¤ê¸°"><a href="#state-type-ê°€ì ¸ì˜¤ê¸°" class="headerlink" title="state type ê°€ì ¸ì˜¤ê¸°"></a>state type ê°€ì ¸ì˜¤ê¸°</h3><p>state typeì„ ê°€ì ¸ì˜¤ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ roote reducerë¥¼ ë¯¸ë¦¬ ì •ì˜í•˜ê³ , returnTypeì„ ì¶”ì¶œí•˜ëŠ” ê²ƒì´ë‹¤. ì‡¼type ì´ë¦„ì¸ stateëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‚¨ìš©ë˜ê¸° ê¹¨ë¬¸ì— í˜¼ë™ì„ ë§‰ê¸° ìœ„í•´ RootStateì™€ ê°™ì´ typeì— ë‹¤ë¥¸ ì´ë¦„ì„ ì£¼ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;</span><br><span class="line"><span class="keyword">const</span> rootReducer = combineReducers(&#123;&#125;);</span><br><span class="line"><span class="keyword">export</span> type RootState = ReturnType&lt;<span class="keyword">typeof</span> rootReducer&gt;;</span><br></pre></td></tr></table></figure>
<p>í˜¹ì€ rootReducerë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  ì§ì ‘ configureStore()ì— slice reducer ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° root reducerë¥¼ ì˜¬ë°”ë¥´ê²Œ ì¶”ë¡ í•˜ê¸° ìœ„í•´ Typeì„ ì•½ê°„ ìˆ˜ì •í•´ì•¼ í•œë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> store = configureStore(&#123;</span><br><span class="line">  reducer: &#123;</span><br><span class="line">    one: oneSlice.reducer,</span><br><span class="line">    two: twoSlice.reducer,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> type RootState = ReturnType&lt;<span class="keyword">typeof</span> store.getState&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure>
<h3 id="Dispatch-íƒ€ì…-ê°€ì ¸ì˜¤ê¸°"><a href="#Dispatch-íƒ€ì…-ê°€ì ¸ì˜¤ê¸°" class="headerlink" title="Dispatch íƒ€ì… ê°€ì ¸ì˜¤ê¸°"></a>Dispatch íƒ€ì… ê°€ì ¸ì˜¤ê¸°</h3><p>ìŠ¤í† ì–´ì—ì„œ Dispatch íƒ€ì…ì„ ê°€ì ¸ì˜¤ë ¤ë©´ storeë¥¼ ìƒì„±í•œ í›„ì— ì¶”ì¶œí•´ì•¼ í•œë‹¤. ì´ ì—­ì‹œ DispatchëŠ” ë‚¨ìš©ë˜ê¸° ë•Œë¬¸ì— í˜¼ë™ì„ ë§‰ê¸° ìœ„í•´ AppDispatchì²˜ëŸ¼ ë‹¤ë¥¸ type ì´ë¦„ì„ ì§€ì •í•  ê²ƒì„ ì¶”ì²œí•œë‹¤. í˜¹ì€ ì•„ë˜ì²˜ëŸ¼ useAppDispatch hookì„ ì¶”ì¶œí•˜ì—¬ useDispatchë¥¼ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” í¸í•  ìˆ˜ ë„ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span></span><br><span class="line"><span class="keyword">import</span> &#123; useDispatch &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">'./rootReducer'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = configureStore(&#123;</span><br><span class="line">  reducer: rootReducer,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> type AppDispatch = <span class="keyword">typeof</span> store.dispatch</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useAppDispatch = <span class="function"><span class="params">()</span> =&gt;</span> useDispatch&lt;AppDispatch&gt;()</span><br><span class="line"><span class="comment">// Export a hook that can be reused to resolve types</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
<h3 id="Dispatch-íƒ€ì…ì—-ëŒ€í•œ-ì˜¬ë°”ë¥¸-ì…ë ¥"><a href="#Dispatch-íƒ€ì…ì—-ëŒ€í•œ-ì˜¬ë°”ë¥¸-ì…ë ¥" class="headerlink" title="Dispatch íƒ€ì…ì— ëŒ€í•œ ì˜¬ë°”ë¥¸ ì…ë ¥"></a>Dispatch íƒ€ì…ì— ëŒ€í•œ ì˜¬ë°”ë¥¸ ì…ë ¥</h3><p>dispatch í•¨ìˆ˜ì˜ typedms ë¯¸ë“¤ì›¨ì–´ ì˜µì…˜ì— ì˜í•´ ì§ì ‘ ì¶”ë¡ ë  ìˆ˜ ìˆë‹¤. ë§Œì•½ ë¯¸ë“¤ì›¨ì–´ì— ì˜¬ë°”ë¥¸ íƒ€ì…ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ dispatchëŠ” ì´ë¯¸ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.</p>
<p>typeScriptëŠ” ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì„œ ë°°ì—´ì„ í•©ì¹  ë•Œ array typeì„ í™•ì¥í•˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì— getDefaultMiddleware()ì— ì˜í•´ ë¦¬í„´ë˜ëŠ” MiddlewareArray ë©”ì†Œë“œì—ì„œ .concat(â€¦) ë˜ëŠ” .prepend(â€¦)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¶”ì²œëœë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span></span><br><span class="line"><span class="keyword">import</span> additionalMiddleware <span class="keyword">from</span> <span class="string">'additional-middleware'</span></span><br><span class="line"><span class="keyword">import</span> logger <span class="keyword">from</span> <span class="string">'redux-logger'</span></span><br><span class="line"><span class="comment">// @ts-ignore</span></span><br><span class="line"><span class="keyword">import</span> untypedMiddleware <span class="keyword">from</span> <span class="string">'untyped-middleware'</span></span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">'./rootReducer'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> type RootState = ReturnType&lt;<span class="keyword">typeof</span> rootReducer&gt;</span><br><span class="line"><span class="keyword">const</span> store = configureStore(&#123;</span><br><span class="line">  reducer: rootReducer,</span><br><span class="line">  middleware: <span class="function">(<span class="params">getDefaultMiddleware</span>) =&gt;</span></span><br><span class="line">    getDefaultMiddleware()</span><br><span class="line">      .prepend(</span><br><span class="line">        <span class="comment">// correctly typed middlewares can just be used</span></span><br><span class="line">        additionalMiddleware,</span><br><span class="line">        <span class="comment">// you can also type middlewares manually</span></span><br><span class="line">        untypedMiddleware <span class="keyword">as</span> Middleware&lt;</span><br><span class="line">          (action: Action&lt;<span class="string">'specialAction'</span>&gt;) =&gt; number,</span><br><span class="line">          RootState</span><br><span class="line">        &gt;</span><br><span class="line">      )</span><br><span class="line">      <span class="comment">// prepend and concat calls can be chained</span></span><br><span class="line">      .concat(logger),</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> type AppDispatch = <span class="keyword">typeof</span> store.dispatch</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
<h3 id="getDefaultMiddleware-ì—†ì´-MiddlewareArray-ì‚¬ìš©"><a href="#getDefaultMiddleware-ì—†ì´-MiddlewareArray-ì‚¬ìš©" class="headerlink" title="getDefaultMiddleware ì—†ì´ MiddlewareArray ì‚¬ìš©"></a>getDefaultMiddleware ì—†ì´ MiddlewareArray ì‚¬ìš©</h3><p>getDefaultMiddlewareì˜ ì‚¬ìš©ì„ ì™„ì „íˆ ìŠ¤í‚µí•  ê²½ìš°, ë¯¸ë“¤ì›¨ì–´ ë°°ì—´ì˜ ì•ˆì „í•œ íƒ€ì… ì—°ê²°ì— MiddlewareArrayë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ classëŠ” .concat(â€¦) ë° ì¶”ê°€ì ì¸ .prepend(â€¦) ë©”ì„œë“œì— ëŒ€í•œ ìˆ˜ì •ëœ ìœ í˜•ë§Œ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ JavaScript ë°°ì—´ ìœ í˜•ì„ í™•ì¥í•œë‹¤.</p>
<p>í•˜ì§€ë§Œ constë¡œ ì‚¬ìš©í•˜ê³ , ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•œ ë°°ì—´ ìœ í˜•ì„ í™•ì¥í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ í•„ìš”í•˜ì§€ëŠ” ì•Šë‹¤.</p>
<p>ë‹¤ìŒì˜ ë‘ ê°€ì§€ í˜¸ì¶œì€ ë™ì¼í•˜ë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore, MiddlewareArray &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit'</span></span><br><span class="line"></span><br><span class="line">configureStore(&#123;</span><br><span class="line">  reducer: rootReducer,</span><br><span class="line">  middleware: <span class="keyword">new</span> MiddlewareArray().concat(additionalMiddleware, logger),</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">configureStore(&#123;</span><br><span class="line">  reducer: rootReducer,</span><br><span class="line">  middleware: [additionalMiddleware, logger] <span class="keyword">as</span> <span class="keyword">const</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="React-Reduxì—ì„œ-ì¶”ì¶œí•œ-Dispatch-type-ì‚¬ìš©"><a href="#React-Reduxì—ì„œ-ì¶”ì¶œí•œ-Dispatch-type-ì‚¬ìš©" class="headerlink" title="React Reduxì—ì„œ ì¶”ì¶œí•œ Dispatch type ì‚¬ìš©"></a>React Reduxì—ì„œ ì¶”ì¶œí•œ Dispatch type ì‚¬ìš©</h2><p>ê¸°ë³¸ì ìœ¼ë¡œ React Redux useDispatch í›…ì—ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ê³ ë ¤í•˜ëŠ” typeì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šë‹¤. ë§Œì•½ dispatchingì„ í•  ë•Œ dispatch í•¨ìˆ˜ì— ëŒ€í•´ ë” êµ¬ì²´ì ì¸ typeì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” dispatch í•¨ìˆ˜ì˜ typeì„ ì§€ì •í•˜ê±°ë‚˜, custom-typeì´ ëœ ë²„ì „ì˜ useSelectorë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•œë‹¤. (<a href="https://react-redux.js.org/using-react-redux/usage-with-typescript#typing-the-usedispatch-hook" target="_blank" rel="noopener">ìì„¸í•œ ë‚´ìš©ì€ ì´ê³³ ì°¸ì¡°</a>)</p>
<h3 id="createAction"><a href="#createAction" class="headerlink" title="createAction"></a>createAction</h3><p>ëŒ€ë¶€ë¶„ì˜ ì¼€ì´ìŠ¤ì—ì„œ action.typeì— ëŒ€í•œ ë¦¬í„°ëŸ´ ì •ì˜ëŠ” í•„ìš”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createAction&lt;number&gt;(&#39;test&#39;);</span><br></pre></td></tr></table></figure>
<p>ì´ë ‡ê²Œ í•˜ë©´ ìƒì„±ëœ actionì´ PayloadActionCreator<number, string>ì˜ íƒ€ì…ì´ ëœë‹¤.</p>
<p>ì¼ë¶€ ì„¤ì •ì—ì„œëŠ” action.typeì— ëŒ€í•œ ë¦¬í„°ëŸ´ ì„¤ì •ì´ í•„ìš”í•  ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ typeScriptëŠ” ìˆ˜ë™ìœ¼ë¡œ ì •ì˜ëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì¶”ë¡ ëœ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì˜ í˜¼í•©ì„ í—ˆìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì¼ë°˜ ì •ì˜ì™€ ì‹¤ì œ JavaScript ì½”ë“œ ëª¨ë‘ì—ì„œ íƒ€ì…ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createAction&lt;number, &#39;test&#39;&gt;(&#39;test&#39;);</span><br></pre></td></tr></table></figure>
<p>ì¤‘ë³µ ì—†ì´ ì´ê²ƒì„ ì‘ì„±í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ê³  ìˆë‹¤ë©´, callbackì„ ì¤€ë¹„í•˜ì—¬ ë‘ type íŒŒë¼ë¯¸í„°ë¥¼ ì¸ìˆ˜ì—ì„œ ì¶”ë¡ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ action typeì„ íŠ¹ì •í•  í•„ìš”ê°€ ì—†ë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function withPayloadType&lt;T&gt;() &#123;</span><br><span class="line">  return (t: T) &#x3D;&gt; (&#123; payload: t &#125;);</span><br><span class="line">&#125;</span><br><span class="line">createAction(&#39;test&#39;, withPayloadType&lt;string&gt;());</span><br></pre></td></tr></table></figure>
<h3 id="ë¦¬í„°ëŸ´í•˜ê²Œ-ì…ë ¥ëœ-action-typeì˜-ëŒ€ì•ˆ"><a href="#ë¦¬í„°ëŸ´í•˜ê²Œ-ì…ë ¥ëœ-action-typeì˜-ëŒ€ì•ˆ" class="headerlink" title="ë¦¬í„°ëŸ´í•˜ê²Œ ì…ë ¥ëœ action.typeì˜ ëŒ€ì•ˆ"></a>ë¦¬í„°ëŸ´í•˜ê²Œ ì…ë ¥ëœ action.typeì˜ ëŒ€ì•ˆ</h3><p>ì˜ˆë¥¼ ë“¤ì–´ caseë¬¸ì—ì„œ payload typeì„ ì˜¬ë°”ë¥´ê²Œ ì‘ì„±í•˜ê¸° ìœ„í•´ action.typeì„ ìœ ë‹ˆì˜¨ ì‹ë³„ì„ ìœ„í•œ ì‹ë³„ìë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì´ ëŒ€ì•ˆì— ê´€ì‹¬ì´ ìˆì„ ìˆ˜ ìˆë‹¤.</p>
<p>ìƒì„±ëœ action creatorsëŠ” <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates" target="_blank" rel="noopener">type predicate</a>ë¡œì¨ match ë©”ì†Œë“œë¥¼ ê°€ì§„ë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const increment &#x3D; createAction&lt;number&gt;(&#39;increment&#39;);</span><br><span class="line">function test(action: Action) &#123;</span><br><span class="line">  if (increment.match(action)) &#123;</span><br><span class="line">    &#x2F;&#x2F; action.payload inferred correctly here</span><br><span class="line">    action.payload;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ì´ match ë©”ì†Œë“œëŠ” redux-observableê³¼ RxJSì˜ filter ë©”ì†Œë“œë¥¼ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ ìœ ìš©í•˜ë‹¤.</p>
<h3 id="createReducer"><a href="#createReducer" class="headerlink" title="createReducer"></a>createReducer</h3><p>createReducerì˜ ê¸°ë³¸ í˜¸ì¶œë°©ë²•ì€ ì•„ë˜ì™€ ê°™ì´ â€œlookup tableâ€ / â€œmap objectâ€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">createReducer(0, &#123;</span><br><span class="line">  increment: (state, action: PayloadAction&lt;number&gt;) &#x3D;&gt; state + action.payload,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>í•˜ì§€ë§Œ keyëŠ” ì˜¤ì§ ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì—, API TypeScriptë¥¼ ì‚¬ìš©í•  ê²½ìš° action typeì„ ì¶”ë¡ í•˜ê±°ë‚˜ validateí•  ìˆ˜ ì—†ë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  const increment &#x3D; createAction&lt;number, &#39;increment&#39;&gt;(&#39;increment&#39;);</span><br><span class="line">  const decrement &#x3D; createAction&lt;number, &#39;decrement&#39;&gt;(&#39;decrement&#39;);</span><br><span class="line">  createReducer(0, &#123;</span><br><span class="line">    [increment.type]: (state, action) &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; action is any here</span><br><span class="line">    &#125;,</span><br><span class="line">    [decrement.type]: (state, action: PayloadAction&lt;string&gt;) &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; even though action should actually be PayloadAction&lt;number&gt;, TypeScript can&#39;t detect that and won&#39;t give a warning here.</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ëŒ€ì•ˆìœ¼ë¡œ RTKì— type-safe reducer builder APIê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.</p>
<hr>
<h1 id="Building-Type-Safe-Reducer-Argument-Objects"><a href="#Building-Type-Safe-Reducer-Argument-Objects" class="headerlink" title="Building Type-Safe Reducer Argument Objects"></a>Building Type-Safe Reducer Argument Objects</h1><p>createReducerì— ëŒ€í•œ ì¸ìˆ˜ë¡œ ê°„ë‹¨í•œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , ActionReducerMapBuilder ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°›ëŠ” ì½œë°±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const increment &#x3D; createAction&lt;number, &#39;increment&#39;&gt;(&#39;increment&#39;);</span><br><span class="line">const decrement &#x3D; createAction&lt;number, &#39;decrement&#39;&gt;(&#39;decrement&#39;);</span><br><span class="line">createReducer(0, (builder) &#x3D;&gt;</span><br><span class="line">  builder</span><br><span class="line">    .addCase(increment, (state, action) &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; action is inferred correctly here</span><br><span class="line">    &#125;)</span><br><span class="line">    .addCase(decrement, (state, action: PayloadAction&lt;string&gt;) &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; this would error out</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ë¦¬ë“€ì„œ ì¸ìˆ˜ ê°ì²´ë¥¼ ì •ì˜í•  ë•Œ ë³´ë‹¤ ì—„ê²©í•œ type ì•ˆì •ì„±ì´ í•„ìš”í•œ ê²½ìš°ì— ì‚¬ìš©ì´ ì¶”ì²œëœë‹¤.</p>
<h3 id="builder-addMatcher"><a href="#builder-addMatcher" class="headerlink" title="builder.addMatcher"></a>builder.addMatcher</h3><p>builder.addMatcherì˜ ì²« ë²ˆì§¸ matcherì— <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates" target="_blank" rel="noopener">type predicate</a> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ë‘ë²ˆì§¸ reducer ì¸ìˆ˜ì— ëŒ€í•œ action ì¸ìˆ˜ëŠ” typeScriptì— ì˜í•´ ìœ ì¸„ë  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function isNumberValueAction(action: AnyAction): action is PayloadAction&lt;&#123; value: number &#125;&gt; &#123;</span><br><span class="line">  return typeof action.payload.value &#x3D;&#x3D;&#x3D; &#39;number&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createReducer(&#123; value: 0 &#125;, builder &#x3D;&gt;</span><br><span class="line">   builder.addMatcher(isNumberValueAction, (state, action) &#x3D;&gt; &#123;</span><br><span class="line">      state.value +&#x3D; action.payload.value</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="createSlice"><a href="#createSlice" class="headerlink" title="createSlice"></a>createSlice</h1><p>createSliceëŠ” action ë¿ë§Œ ì•„ë‹ˆë¼ reducerë„ ë§Œë“œëŠ”ë° ì—¬ê¸°ì„œ type safetyì— ëŒ€í•´ ê±±ì •í•  í•„ìš”ëŠ” ì—†ë‹¤. action typesëŠ” ì¸ë¼ì¸ìœ¼ë¡œ ì œê³µë  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const slice &#x3D; createSlice(&#123;</span><br><span class="line">  name: &#39;test&#39;,</span><br><span class="line">  initialState: 0,</span><br><span class="line">  reducers: &#123;</span><br><span class="line">    increment: (state, action: PayloadAction&lt;number&gt;) &#x3D;&gt; state + action.payload,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&#x2F;&#x2F; now available:</span><br><span class="line">slice.actions.increment(2);</span><br><span class="line">&#x2F;&#x2F; also available:</span><br><span class="line">slice.caseReducers.increment(0, &#123; type: &#39;increment&#39;, payload: 5 &#125;);</span><br></pre></td></tr></table></figure>
<p>ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œê°€ ë„ˆë¬´ ë§ì•„ì„œ ì¸ë¼ì¸ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì´ ì§€ì €ë¶„í•˜ê±°ë‚˜ ìŠ¬ë¼ì´ìŠ¤ ì „ì²´ì—ì„œ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œë¥¼ ì¬ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° createSlice ì™¸ë¶€ì—ì„œ ì •ì˜í•˜ì—¬ í˜¸ì¶œí•˜ê³  caseReducerì²˜ëŸ¼ ì…ë ¥í•  ìˆ˜ë„ ìˆë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type State &#x3D; number;</span><br><span class="line">const increment: CaseReducer&lt;State, PayloadAction&lt;number&gt;&gt; &#x3D; (state, action) &#x3D;&gt;</span><br><span class="line">  state + action.payload;</span><br><span class="line"></span><br><span class="line">createSlice(&#123;</span><br><span class="line">  name: &#39;test&#39;,</span><br><span class="line">  initialState: 0,</span><br><span class="line">  reducers: &#123;</span><br><span class="line">    increment,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<p><em>References</em></p>
<p><a href="https://redux-toolkit.js.org/introduction/getting-started#rtk-query" target="_blank" rel="noopener">Getting Started | Redux Toolkit</a><br><a href="https://youtu.be/9zySeP5vH9c" target="_blank" rel="noopener">Letâ€™s Learn Modern Redux! (with Mark Erikson) - Learn With Jason</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/07/29/210730_reduxToolkit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/29/210730_reduxToolkit/" class="post-title-link" itemprop="url">Redux-tookit ì›ë¬¸ ë²ˆì—­</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-30 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-30T00:00:00+09:00">2021-07-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Redux-toolkit-ì›ë¬¸-ë²ˆì—­"><a href="#Redux-toolkit-ì›ë¬¸-ë²ˆì—­" class="headerlink" title="Redux-toolkit ì›ë¬¸ ë²ˆì—­"></a>Redux-toolkit ì›ë¬¸ ë²ˆì—­</h2><blockquote>
<p>ì›ë¬¸ë§í¬: <a href="https://redux-toolkit.js.org/introduction/getting-started#rtk-query" target="_blank" rel="noopener">https://redux-toolkit.js.org/introduction/getting-started#rtk-query</a></p>
</blockquote>
<p>Redux toolktì€ ë¦¬ë•ìŠ¤ ë¡œì§ì„ í‘œì¤€í™”í•˜ê¸° ìœ„í•œ íŒ¨í‚¤ì§€ì´ë‹¤. ì›ë˜ëŠ” ë¦¬ë•ìŠ¤ê°€ ê°€ì§€ê³  ìˆëŠ” ì„¸ê°€ì§€ ë¬¸ì œì ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œë‹¤.</p>
<ul>
<li>ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì´ ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•˜ë‹¤.</li>
<li>ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë§ì€ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤</li>
<li>ë¦¬ë•ìŠ¤ëŠ” ì§€ë‚˜ì¹˜ê²Œ ë§ì€ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì½”ë“œë¥¼ í•„ìš”ë¡œ í•œë‹¤.</li>
</ul>
<p>ë¦¬ë•ìŠ¤ê°€ ê°€ì§„ ì´ëŸ¬í•œ ë¬¸ì œì ì— ëŒ€í—¤ ëª¨ë“  ê²ƒì„ ì»¤ë²„í•  ìˆœ ì—†ì§€ë§Œ create-react-appê³¼ appllo-boostë¥¼ ê·¼ê°„ìœ¼ë¡œ í•˜ì—¬ ë³´ë‹¤ ì¶”ìƒí™”ëœ ì…‹ì—… í”„ë¡œì„¸ìŠ¤ì™€ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” use casesë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì œê³µí•  ìˆ˜ ìˆì„ ë¿ ì•„ë‹ˆë¼ ì‚¬ìš©ìê°€ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆëŠ” ìœ ìš©í•œ ìœ í‹¸ë¦¬í‹°ë¥¼ ì œê³µí•œë‹¤.</p>
<p>ë¦¬ë•ìŠ¤ íˆ´í‚·ì€ ë˜í•œ data fetchingê³¼ ìºì‹±ì„ í•  ìˆ˜ ìˆëŠ” â€˜RTK Queryâ€™ë¥¼ í¬í•¨í•˜ëŠ”ë°, ë³„ë„ì˜ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ setë¡œ íŒ¨í‚¤ì§€ ì•ˆì— í¬í•¨ë˜ì–´ ìˆë‹¤. ì˜µì…”ë„ì´ì§€ë§Œ ì§ì ‘ data fetching ë¡œì§ì„ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.<br>ì´ íˆ´ì€ ë¦¬ë•ìŠ¤ ìœ ì €ë“¤ì—ê²Œ ìœ ìš©í•˜ë‹¤. ë§Œì•½ ë‹¹ì‹ ì´ í”„ë¡œì íŠ¸ì— ë¦¬ë•ìŠ¤ë¥¼ ì²˜ìŒ ì ìš©í•´ë³´ëŠ” ìœ ì €ê±°ë‚˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì— ì¡´ì¬í•˜ëŠ” ì½”ë“œë¥¼ ë‹¨ìˆœí™” ì‹œí‚¤ê³ ì í•˜ëŠ” ìµìˆ™í•œ ë¦¬ë•ìŠ¤ ìœ ì €ë“ , ë¦¬ë•ìŠ¤ íˆ´í‚·ì€ ë‹¹ì‹ ì˜ ë¦¬ë•ìŠ¤ ì½”ë“œë¥¼ í›¨ì”¬ ì¢‹ê²Œ ë§Œë“¤ ê²ƒì´ë‹¤.</p>
<hr>
<h2 id="ì„¤ì¹˜ë°©ë²•"><a href="#ì„¤ì¹˜ë°©ë²•" class="headerlink" title="ì„¤ì¹˜ë°©ë²•"></a>ì„¤ì¹˜ë°©ë²•</h2><h3 id="Create-React-Appì„-ì´ìš©"><a href="#Create-React-Appì„-ì´ìš©" class="headerlink" title="Create React Appì„ ì´ìš©"></a>Create React Appì„ ì´ìš©</h3><p>ê°€ì¥ ì¶”ì²œë˜ëŠ” ë°©ë²•ìœ¼ë¡œ official Redux + JS template ë˜ëŠ” create React Appìš© Redux + Ts templateì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì´ í…œí”Œë¦¿ì€ redux toolkit ë° react redux êµ¬ì„± ìš”ì†Œì˜ í†µí•©ì„ í™œìš©í•œë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Redux + Plain JS template</span><br><span class="line">npx create-react-app my-app --template redux</span><br><span class="line"></span><br><span class="line"># Redux + TypeScript template</span><br><span class="line">npx create-react-app my-app --template redux-typescript</span><br></pre></td></tr></table></figure>
<h3 id="ê¸°ì¡´-ì•±"><a href="#ê¸°ì¡´-ì•±" class="headerlink" title="ê¸°ì¡´ ì•±"></a>ê¸°ì¡´ ì•±</h3><p>redux toolkitì€ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ìš© npm íŒ¨í‚¤ì§€ë¡œ ë˜ëŠ” ë…¸ë“œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># NPM</span><br><span class="line">npm install @reduxjs&#x2F;toolkit</span><br><span class="line"></span><br><span class="line"># Yarn</span><br><span class="line">yarn add @reduxjs&#x2F;toolkit</span><br></pre></td></tr></table></figure>
<p>ë˜ëŠ” window.RTKì˜ ì „ì—­ ë³€ìˆ˜ë¡œ ì •ì˜ëœ precompiled UMD packageë¡œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. UMD packageëŠ” <code>&lt;script&gt;</code>íƒœê·¸ë¡œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<hr>
<h2 id="Redux-toolkitì—-í¬í•¨ëœ-ê²ƒ"><a href="#Redux-toolkitì—-í¬í•¨ëœ-ê²ƒ" class="headerlink" title="Redux-toolkitì— í¬í•¨ëœ ê²ƒ"></a>Redux-toolkitì— í¬í•¨ëœ ê²ƒ</h2><ul>
<li><code>[configureStore()](https://redux-toolkit.js.org/api/configureStore)</code>: ë‹¨ìˆœí™”ëœ êµ¬ì„±ì˜µì…˜ê³¼ ì¢‹ì€ ê¸°ë³¸ê°’ì„ ì œê³µí•˜ê¸° ìœ„í•´ <code>createStore</code> ë¡œ ê°ì‹¼ë‹¤. ì´ëŠ” ìë™ìœ¼ë¡œ slice reducerì™€ ê²°í•©í•  ìˆ˜ ìˆê³ , ì‚¬ìš©ìê²Œ ì œê³µí•˜ëŠ” ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ê°€ ë¬´ì—‡ì´ë“  ê°„ì— redux-thunkë¥¼ ë””í´íŠ¸ë¡œ ì œê³µí•œë‹¤. ë˜ redux devtools extensionì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>[createReducer()](https://redux-toolkit.js.org/api/createReducer)</code>: switch ë¬¸ìœ¼ë¡œ ì•¡ì…˜ íƒ€ì…ì˜ ëª©ë¡ì„ ì‘ì„±í•˜ëŠ” ëŒ€ì‹ , case reducer funxtionë“¤ë¡œ ì•¡ì…˜íƒ€ì…ì˜ ëª©ë¡ì„ ì œê³µí•œë‹¤. ì¶”ê°€ë¡œ ìë™ìœ¼ë¡œ immer ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ immutableí•œ ì—…ë°ì´íŠ¸ë¥¼ normal mutative ì½”ë“œë¥¼ í†µí•´ ë‹¨ìˆœí™”í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ state.todos[3].completed = true.ì²˜ëŸ¼.</li>
<li><code>[createAction()](https://redux-toolkit.js.org/api/createAction)</code>: ì£¼ì–´ì§„ ì•¡ì…˜ íƒ€ì… ë¬¸ìì—´ì— ëŒ€í•œ action creator í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤. ì´ í•¨ìˆ˜ëŠ” ìŠ¤ìŠ¤ë¡œ toString()ìœ¼ë¡œ ì •ì˜ë˜ê¸° ë•Œë¬¸ì— type ìƒìˆ˜ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>[createSlice()](https://redux-toolkit.js.org/api/createSlice)</code>: reducer í•¨ìˆ˜ì˜ ê°ì²´, a slice name, ì´ˆê¸°ê°’ì„ ë°›ì•„ë“¤ì—¬ì„œ ì´ì™€ ìƒì‘í•˜ëŠ” action creators, action typesì„ ê°€ì§„ slice reducerë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•œë‹¤.</li>
<li><code>[createAsyncThunk](https://redux-toolkit.js.org/api/createAsyncThunk)</code>: ì•¡ì…˜ íƒ€ì… ë¬¸ìì—´ì„ ë°›ì•„ë“¤ì—¬ì„œ promiseë¥¼ returní•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê³ , ì´ promiseì— ê·¼ê±°í•˜ì—¬ pending/fulfilled/rejected ì˜ ì•¡ì…˜ íƒ€ì…ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ëŠ” thunkë¥¼ ìƒì„±í•œë‹¤.</li>
<li><code>[createEntityAdapter](https://redux-toolkit.js.org/api/createEntityAdapter)</code>: ìŠ¤í† ì–´ì— ìˆëŠ” ì •ê·œí™”ëœ data(normalized date)ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ë“€ì„œì™€ selectors setë¥¼ ìƒì„±í•œë‹¤.</li>
<li>The <code>[createSelector</code> utility](<a href="https://redux-toolkit.js.org/api/createSelector" target="_blank" rel="noopener">https://redux-toolkit.js.org/api/createSelector</a>) from the <a href="https://github.com/reduxjs/reselect" target="_blank" rel="noopener">Reselect</a> library, re-exported for ease of use.</li>
</ul>
<hr>
<h1 id="RTK-Query"><a href="#RTK-Query" class="headerlink" title="RTK Query"></a>RTK Query</h1><p>@reduxjs/toolkit package ì— ì˜µì…”ë„ë¡œ í¬í•¨ë˜ì–´ ì œê³µë˜ëŠ” ê²ƒì´ë‹¤. data fetchingê³¼ ìºì‹±ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì œì‘ë˜ì—ˆê³ , appì˜ API ì¸í„°í˜ì´ìŠ¤ ê³„í‹ì„ ì •ì˜í•˜ê¸° ìœ„í•´ ì‘ì§€ë§Œ ê°•ë ¥í•œ íˆ´ì…‹ì„ ì œê³µí•œë‹¤. ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë¡œë”©í•˜ëŠ” ë³´í†µì˜ ê²½ìš°ë¥¼ ë‹¨ìˆœí™”í•˜ë„ë¡ ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— ì§ì ‘ data fetchingê³¼ ìºì‹± ë¡œì§ì„ ì‘ì„±í•  í•„ìš”ê°€ ì—†ë‹¤.</p>
<p>RTK ì¿¼ë¦¬ëŠ” ì‹¤í–‰ì„ ìœ„í•´ Redux Toolkit ì½”ì–´ ìœ„ì— êµ¬ì¶•ë˜ëŠ”ë°, ì•„í‚¤í…ì²˜ ë‚´ë¶€ì—ì„œ reduxë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì´ë‹¤. RTK ì¿¼ë¦¬ë¥¼ ì“°ê¸° ìœ„í•´ì„œ ë¦¬ë•ìŠ¤ë‚˜ RTKì— ëŒ€í•œ ì§€ì‹ì´ í•„ìš”í•˜ì§€ëŠ” ì•Šì§€ë§Œ RTK ì¿¼ë¦¬ê°€ ì œê³µí•˜ëŠ” ëª¨ë“  ì¶”ê°€ì ì¸ global store ê´€ë¦¬ ê¸°ëŠ¥ì„ íƒìƒ‰í•  í•„ìš”ê°€ ìˆê³ , RTK ì¿¼ë¦¬ë¥¼ ì™„ì „í•˜ê²Œ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ ë° ìºì‹œ ë™ì‘ì˜ íƒ€ì„ë¼ì¸ì„ ì¬í˜„í•˜ê³ , íš¡ë‹¨í•˜ê¸° ìœ„í•´ Redux DevTools ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•´ì•¼í•œë‹¤.</p>
<p>RTK ì¿¼ë¦¬ëŠ” core Redux Toolkit package ë‚´ë¶€ì— ì„¤ì¹˜ë˜ì–´ìˆë‹¤. ì•„ë˜ ë‘ ê°€ì§€ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApi &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* React-specific entry point that automatically generates</span></span><br><span class="line"><span class="comment">   hooks corresponding to the defined endpoints */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApi &#125; <span class="keyword">from</span> <span class="string">'@reduxjs/toolkit/query/react'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="RTK-ì¿¼ë¦¬ì•ˆì—-ë“¤ì–´-ìˆëŠ”-ê²ƒ"><a href="#RTK-ì¿¼ë¦¬ì•ˆì—-ë“¤ì–´-ìˆëŠ”-ê²ƒ" class="headerlink" title="RTK ì¿¼ë¦¬ì•ˆì— ë“¤ì–´ ìˆëŠ” ê²ƒ"></a>RTK ì¿¼ë¦¬ì•ˆì— ë“¤ì–´ ìˆëŠ” ê²ƒ</h3><p>ë‹¤ìŒì˜ APIê°€ í¬í•¨ëœë‹¤.</p>
<ul>
<li><code>[createApi()](https://redux-toolkit.js.org/rtk-query/api/createApi)</code>: RTK ì¿¼ë¦¬ ê¸°ëŠ¥ì˜ í•µì‹¬. ì¼ë ¨ì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ íšŒìˆ˜í•´ì˜¤ëŠ”ì§€ì™€ ê´€ë ¨ëœ ë°©ë²•, ë°ì´í„°ë¥¼ fetchí•˜ê³  transtormí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ëŠ” ì—”ë“œë¦¬ í¬ì¸íŠ¸ setë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ë³´í†µ ê¸°ë³¸ URLë‹¹ í•˜ë‚˜ì˜ API ìŠ¬ë¼ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ appì—ì„œ í•œ ë²ˆë§Œ ì“°ì—¬ì•¼ í•œë‹¤.</li>
<li><code>[fetchBaseQuery()](https://redux-toolkit.js.org/rtk-query/api/fetchBaseQuery)</code>: ìš”ì²­ì„ ë‹¨ìˆœí™”í•˜ëŠ” ëª©ì ì„ ê°€ì§„ ì‘ì€ wrapperì´ë‹¤. ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìì—ê²Œ createApiì—ì„œ ê¶Œì¥ë˜ëŠ” baseQueryë¡œ ì‚¬ìš©ëœë‹¤.</li>
<li><code>[&lt;ApiProvider /&gt;](https://redux-toolkit.js.org/rtk-query/api/ApiProvider)</code>: ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ê°€ ì•„ì§ ì—†ëŠ” ìƒíƒœì—ì„œ Providerë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>[setupListeners()](https://redux-toolkit.js.org/rtk-query/api/setupListeners)</code>: refetchOnMount, refetchOnReconnect ë™ì‘ì„ í™œì„±í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ìœ í‹¸ë¦¬í‹°ì´ë‹¤.</li>
</ul>
<hr>
<p><em>References</em></p>
<p><a href="https://redux-toolkit.js.org/introduction/getting-started#rtk-query" target="_blank" rel="noopener">Getting Started | Redux Toolkit</a><br><a href="https://youtu.be/9zySeP5vH9c" target="_blank" rel="noopener">Letâ€™s Learn Modern Redux! (with Mark Erikson) - Learn With Jason</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2021/07/20/210721_react-table/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/20/210721_react-table/" class="post-title-link" itemprop="url">React Table</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-21 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-21T00:00:00+09:00">2021-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-16 15:45:41" itemprop="dateModified" datetime="2022-05-16T15:45:41+09:00">2022-05-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="headless-UI"><a href="#headless-UI" class="headerlink" title="headless UI"></a>headless UI</h2><p>ì‹¤ì œ UI ìš”ì†Œë¥¼ ì œê³µí•˜ê±°ë‚˜ ë Œë”í•˜ì§€ ì•Šì§€ë§Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” stateì™€ callback hooksë¥¼ í†µí•´ì„œ í…Œì´ë¸” ë§ˆí¬ì—…ì„ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆë‹¤.</p>
<p>headless user interface componentëŠ” ì•„ë¬´ëŸ° ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ ìµœëŒ€ì˜ ì‹œê°ì  ìœ ì—°ì„±ì„ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤. <em>ìœ ì € ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ëŠ” ìœ ì € ì¸í„°í˜ì´ìŠ¤</em>ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ë¡œì§ê³¼ ë™ì‘ì„ ì‹œê°ì  í‘œí˜„ì—ì„œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.</p>
<p><code>&lt;CoinFlip/&gt;</code>ë¥¼ ì˜ˆë¡œ ë“¤ìë©´ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ child componentì˜ í•¨ìˆ˜ë¡œ ì“°ê±°ë‚˜ propì„ ë Œë”í•˜ëŠ” ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flip = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</span><br><span class="line">  flipResults: <span class="built_in">Math</span>.random(),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CoinFlip</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = flip();</span><br><span class="line"></span><br><span class="line">  handleClick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(flip);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.props.children(&#123;</span><br><span class="line">      rerun: <span class="keyword">this</span>.handleClick,</span><br><span class="line">      isHeads: <span class="keyword">this</span>.state.flipResults &lt; <span class="number">0.5</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ìœ„ í•¨ìˆ˜ëŠ” headlessì´ë‹¤. ì•„ë¬´ê²ƒë„ ë Œë”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ì´ í•¨ìˆ˜ëŠ” ë‹¤ì–‘í•œ consumerë“¤ì´ ì—¬ëŸ¬ ë…¼ë¦¬ì ì¸ ì²˜ë¦¬ë¥¼ í•˜ë©´ì„œ í”„ë ˆì  í…Œì´ì…˜ ì‘ì—…ë„ í•  ê²ƒì„ ê¸°ëŒ€í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;CoinFlip&gt;</span><br><span class="line">  &#123;(&#123; rerun, isHeads &#125;) =&gt; (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;button onClick=&#123;rerun&#125;&gt;Reflip&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &#123;isHeads ? (</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;img src='/</span>heads.svg<span class="string">' alt='</span>Heads<span class="string">' /&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      ) : (</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">          &lt;img src='</span>/tails.svg<span class="string">' alt='</span>Tails<span class="string">' /&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      )&#125;</span></span><br><span class="line"><span class="string">    &lt;/&gt;</span></span><br><span class="line"><span class="string">  )&#125;</span></span><br><span class="line"><span class="string">&lt;/CoinFlip&gt;</span></span><br></pre></td></tr></table></figure>
<p>ì—¬ê¸°ì„œëŠ” render propì„ ë°›ëŠ” ê²ƒìœ¼ë¡œ headlessê°€ êµ¬í˜„ë˜ì—ˆëŠ”ë°, HOCë¡œ êµ¬í˜„ë  ìˆ˜ë„ ìˆë‹¤.<br>í˜¹ì€ Viewì™€ Controller, ViewModelê³¼ Viewì˜ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ë  ìˆ˜ë„ ìˆë‹¤. ì—¬ëŸ¬ ë°©ë²•ì´ ìˆê² ì§€ë§Œ ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ë™ì „ì„ ë’¤ì§‘ëŠ” ë§¤ì»¤ë‹ˆì¦˜ê³¼ ê·¸ ë§¤ì»¤ë‹ˆì¦˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í–ˆë‹¤ëŠ” ê²ƒì´ë‹¤.</p>
<h2 id="react-table"><a href="#react-table" class="headerlink" title="react-table"></a>react-table</h2><p>ëª¨ë“  <code>React Table</code>ì—ì„œëŠ” useTable hookê³¼ <code>table instance ê°ì²´</code>ê°€ ë¦¬í„´ëœë‹¤. ì´ <code>table instance ê°ì²´</code>ëŠ” tableì„ ë§Œë“¤ê³ , tableì˜ stateì™€ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²ƒì„ í¬í•¨í•œë‹¤.</p>
<h3 id="getting-your-data"><a href="#getting-your-data" class="headerlink" title="getting your data"></a>getting your data</h3><p>í…Œì´ë¸” êµ¬ì¡°ë¥¼ ìƒê°í•´ë³´ë©´ ë³´í†µ rows(í–‰)ê³¼ columns(ì—´)ë¡œ êµ¬ì„±ëœ êµ¬ì¡°ë¥¼ ë– ì˜¬ë¦°ë‹¤. ê·¸ë ‡ì§€ë§Œ í…Œì´ë¸” êµ¬ì„±ì´ ë‹¨ìˆœíˆ í–‰ê³¼ ì—´ì˜ ì¡°í•©ìœ¼ë¡œ ìƒê°í•˜ê¸°ì—ëŠ” ì¤‘ì²©ëœ columns(ì—´)ê³¼ í–‰ ë“±ì˜ êµ¬ì¡°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë“± ì ì  ë³µì¡í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— <strong>ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ê¸°ë³¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•œë‹¤.</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = React.useMemo(</span><br><span class="line">  () =&gt; [</span><br><span class="line">    &#123;</span><br><span class="line">      col1: <span class="string">'Hello'</span>,</span><br><span class="line">      col2: <span class="string">'World'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      col1: <span class="string">'react-table'</span>,</span><br><span class="line">      col2: <span class="string">'rocks'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      col1: <span class="string">'whatever'</span>,</span><br><span class="line">      col2: <span class="string">'you want'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  []</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><u>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ useMemoë¥¼ ì‚¬ìš©í–ˆë‹¤ëŠ” ê²ƒì´ë‹¤.</u> ì´ëŠ” ë°ì´í„°ê°€ ë§¤ë²ˆ ë Œë”ë  ë•Œë§ˆë‹¤ ìƒˆë¡­ê²Œ ìƒì„±ë˜ì§€ ì•ŠìŒì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ë‹¤. ë§Œì•½ useMemoë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ tableì€ ë Œë”ë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë°›ì•˜ë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ë§ì€ ë¡œì§ì€ ìƒˆë¡œ ê³„ì‚°í•˜ë ¤ê³  ì‹œë„í•˜ê²Œ ëœë‹¤.</p>
<h3 id="Define-Columns"><a href="#Define-Columns" class="headerlink" title="Define Columns"></a>Define Columns</h3><p>useTable hookì— ì „ë‹¬í•˜ê¸° ìœ„í•´ columnì— ëŒ€í•œ ì •ì˜ë¥¼ í•œë‹¤. ì—­ì‹œ ë§ˆì°¬ê°€ì§€ë¡œ useMemoë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ë Œë”ë  ë•Œë§ˆë‹¤ ìƒˆë¡­ê²Œ ê³„ì‚°í•˜ì§€ ì•Šê³ , valueë¥¼ ê¸°ì–µí•´ë’€ë‹¤ê°€ ë©”ëª¨ì œì´ì…˜ëœ valueì™€ ì‹¤ì œ valueì— ì°¨ì´ê°€ ìˆì„ ë•Œë§Œ ë³€í™”ì‹œí‚¨ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> columns = React.useMemo(</span><br><span class="line">  () =&gt; [</span><br><span class="line">    &#123;</span><br><span class="line">      Header: <span class="string">'Column 1'</span>,</span><br><span class="line">      accessor: <span class="string">'col1'</span>, <span class="comment">// accessor is the "key" in the data</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      Header: <span class="string">'Column 2'</span>,</span><br><span class="line">      accessor: <span class="string">'col2'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  []</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="Using-the-useTable-hook"><a href="#Using-the-useTable-hook" class="headerlink" title="Using the useTable hook"></a>Using the useTable hook</h3><p>ìœ„ì—ì„œ ì‘ì„±í•œ dataì™€ columnì— ëŒ€í•œ ì •ì˜ë¥¼ ê°€ì§€ê³  useTable hookì— ì „ë‹¬í•˜ì—¬ ìƒˆë¡œìš´ table instanceë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ì¦‰ useTableì€ ìµœì†Œ ë©”ëª¨ì œì´ì…˜ëœ columnsì™€ dataë¥¼ í¬í•¨í•œ ê°ì²´ë¥¼ ì œê³µë°›ì•„ì•¼ í•œë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tableInstance = useTable(&#123; columns, data &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Building-a-basic-table-UI"><a href="#Building-a-basic-table-UI" class="headerlink" title="Building a basic table UI"></a>Building a basic table UI</h3><p>table instanceëŠ” ë§Œë“¤ì—ˆì§€ë§Œ ì•„ì§ í…Œì´ë¸” ë§ˆí¬ì—…ê³¼ ìŠ¤íƒ€ì¼ì€ í•˜ì§€ ì•Šì€ ìƒíƒœì´ë¯€ë¡œ ê¸°ë³¸ì ì¸ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì‘ì„±í•´ì¤€ë‹¤.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">return (</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="Applying-the-table-instance-to-markup"><a href="#Applying-the-table-instance-to-markup" class="headerlink" title="Applying the table instance to markup"></a>Applying the table instance to markup</h3><p>ì´ì œ ê¸°ë³¸ì ì¸ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì‘ì„±í–ˆìœ¼ë‹ˆ ì´ë¥¼ ì´ìš©í•´ì„œ tableInstanceë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ì´ë¥¼ ì´ìš©í•´ í…Œì´ë¸” ì‘ì„±ì„ ì™„ë£Œí•  ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tableInstance = useTable(&#123; columns, data &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; getTableProps, getTableBodyProps, headerGroups, rows, prepareRow &#125; =</span><br><span class="line">  tableInstance;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  <span class="comment">// apply the table props</span></span><br><span class="line">  &lt;table &#123;...getTableProps()&#125;&gt;</span><br><span class="line">    &lt;thead&gt;</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// Loop over the header rows</span></span><br><span class="line">        headerGroups.map(<span class="function">(<span class="params">headerGroup</span>) =&gt;</span> (</span><br><span class="line">          <span class="comment">// Apply the header row props</span></span><br><span class="line">          &lt;tr &#123;...headerGroup.getHeaderGroupProps()&#125;&gt;</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="comment">// Loop over the headers in each row</span></span><br><span class="line">              headerGroup.headers.map(<span class="function">(<span class="params">column</span>) =&gt;</span> (</span><br><span class="line">                <span class="comment">// Apply the header cell props</span></span><br><span class="line">                &lt;th &#123;...column.getHeaderProps()&#125;&gt;</span><br><span class="line">                  &#123;</span><br><span class="line">                    <span class="comment">// Render the header</span></span><br><span class="line">                    column.render(<span class="string">'Header'</span>)</span><br><span class="line">                  &#125;</span><br><span class="line">                &lt;<span class="regexp">/th&gt;</span></span><br><span class="line"><span class="regexp">              ))</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>tr&gt;</span><br><span class="line">        ))</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;<span class="regexp">/thead&gt;</span></span><br><span class="line"><span class="regexp">    &#123;/</span>* Apply the table body props *<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">    &lt;tbody &#123;...getTableBodyProps()&#125;&gt;</span></span><br><span class="line"><span class="regexp">      &#123;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ Loop over the table rows</span></span><br><span class="line"><span class="regexp">        rows.map((row) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ Prepare the row for display</span></span><br><span class="line"><span class="regexp">          prepareRow(row);</span></span><br><span class="line"><span class="regexp">          return (</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ Apply the row props</span></span><br><span class="line"><span class="regexp">            &lt;tr &#123;...row.getRowProps()&#125;&gt;</span></span><br><span class="line"><span class="regexp">              &#123;</span></span><br><span class="line"><span class="regexp">                /</span><span class="regexp">/ Loop over the rows cells</span></span><br><span class="line"><span class="regexp">                row.cells.map((cell) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">                  /</span><span class="regexp">/ Apply the cell props</span></span><br><span class="line"><span class="regexp">                  return (</span></span><br><span class="line"><span class="regexp">                    &lt;td &#123;...cell.getCellProps()&#125;&gt;</span></span><br><span class="line"><span class="regexp">                      &#123;</span></span><br><span class="line"><span class="regexp">                        /</span><span class="regexp">/ Render the cell contents</span></span><br><span class="line"><span class="regexp">                        cell.render('Cell')</span></span><br><span class="line"><span class="regexp">                      &#125;</span></span><br><span class="line"><span class="regexp">                    &lt;/</span>td&gt;</span><br><span class="line">                  );</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">          );</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>tbody&gt;</span><br><span class="line">  &lt;<span class="regexp">/table&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>
<h3 id="Final-Result"><a href="#Final-Result" class="headerlink" title="Final Result"></a>Final Result</h3><p>ì•ì˜ ëª¨ë“  ê³¼ì •ì„ í•œë²ˆì— í‘œí˜„í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useTable &#125; <span class="keyword">from</span> <span class="string">'react-table'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> data = React.useMemo(</span><br><span class="line">    () =&gt; [</span><br><span class="line">      &#123;</span><br><span class="line">        col1: <span class="string">'Hello'</span>,</span><br><span class="line">        col2: <span class="string">'World'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        col1: <span class="string">'react-table'</span>,</span><br><span class="line">        col2: <span class="string">'rocks'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        col1: <span class="string">'whatever'</span>,</span><br><span class="line">        col2: <span class="string">'you want'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> columns = React.useMemo(</span><br><span class="line">    () =&gt; [</span><br><span class="line">      &#123;</span><br><span class="line">        Header: <span class="string">'Column 1'</span>,</span><br><span class="line">        accessor: <span class="string">'col1'</span>, <span class="comment">// accessor is the "key" in the data</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        Header: <span class="string">'Column 2'</span>,</span><br><span class="line">        accessor: <span class="string">'col2'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> &#123; getTableProps, getTableBodyProps, headerGroups, rows, prepareRow &#125; =</span><br><span class="line">    useTable(&#123; columns, data &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;table &#123;...getTableProps()&#125; style=&#123;&#123; <span class="attr">border</span>: <span class="string">'solid 1px blue'</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;thead&gt;</span><br><span class="line">        &#123;headerGroups.map(<span class="function">(<span class="params">headerGroup</span>) =&gt;</span> (</span><br><span class="line">          &lt;tr &#123;...headerGroup.getHeaderGroupProps()&#125;&gt;</span><br><span class="line">            &#123;headerGroup.headers.map(<span class="function">(<span class="params">column</span>) =&gt;</span> (</span><br><span class="line">              &lt;th</span><br><span class="line">                &#123;...column.getHeaderProps()&#125;</span><br><span class="line">                style=&#123;&#123;</span><br><span class="line">                  borderBottom: <span class="string">'solid 3px red'</span>,</span><br><span class="line">                  background: <span class="string">'aliceblue'</span>,</span><br><span class="line">                  color: <span class="string">'black'</span>,</span><br><span class="line">                  fontWeight: <span class="string">'bold'</span>,</span><br><span class="line">                &#125;&#125;</span><br><span class="line">              &gt;</span><br><span class="line">                &#123;column.render(<span class="string">'Header'</span>)&#125;</span><br><span class="line">              &lt;<span class="regexp">/th&gt;</span></span><br><span class="line"><span class="regexp">            ))&#125;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>tr&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;<span class="regexp">/thead&gt;</span></span><br><span class="line"><span class="regexp">      &lt;tbody &#123;...getTableBodyProps()&#125;&gt;</span></span><br><span class="line"><span class="regexp">        &#123;rows.map((row) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          prepareRow(row);</span></span><br><span class="line"><span class="regexp">          return (</span></span><br><span class="line"><span class="regexp">            &lt;tr &#123;...row.getRowProps()&#125;&gt;</span></span><br><span class="line"><span class="regexp">              &#123;row.cells.map((cell) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">                return (</span></span><br><span class="line"><span class="regexp">                  &lt;td</span></span><br><span class="line"><span class="regexp">                    &#123;...cell.getCellProps()&#125;</span></span><br><span class="line"><span class="regexp">                    style=&#123;&#123;</span></span><br><span class="line"><span class="regexp">                      padding: '10px',</span></span><br><span class="line"><span class="regexp">                      border: 'solid 1px gray',</span></span><br><span class="line"><span class="regexp">                      background: 'papayawhip',</span></span><br><span class="line"><span class="regexp">                    &#125;&#125;</span></span><br><span class="line"><span class="regexp">                  &gt;</span></span><br><span class="line"><span class="regexp">                    &#123;cell.render('Cell')&#125;</span></span><br><span class="line"><span class="regexp">                  &lt;/</span>td&gt;</span><br><span class="line">                );</span><br><span class="line">              &#125;)&#125;</span><br><span class="line">            &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">          );</span></span><br><span class="line"><span class="regexp">        &#125;)&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>tbody&gt;</span><br><span class="line">    &lt;<span class="regexp">/table&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="Hook-Usage"><a href="#Hook-Usage" class="headerlink" title="Hook Usage"></a>Hook Usage</h3><p><code>React Table</code>ì€ ë¦¬ì•¡íŠ¸ í›…ì€ ë‚´ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•˜ì—¬ êµ¬ì„±í•˜ê³ , lifecycleë¥¼ ê´€ë¦¬í•œë‹¤. ê·¸ë¦¬ê³  ê¸°ë³¸ì ìœ¼ë¡œ custom react hookê³¼ í˜¸í™˜ë˜ëŠ” hookì„ ê°€ì§„ë‹¤.</p>
<p><code>useTable</code>ì€ ê°€ì¥ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í›…ì¸ë°, ëª¨ë“  ì˜µì…˜ê³¼ í”ŒëŸ¬ê·¸ì¸ í›…ì˜ ìŠ¤íƒ€íŒ… í¬ì¸íŠ¸ë¡œ ì œê³µëœë‹¤. ì˜µì…˜ì´ <code>useTable</code>ë¡œ ì „ë‹¬ë˜ë©´ ì œê³µë°›ì€ ìˆœì„œëŒ€ë¡œ ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ í›…ìœ¼ë¡œ ì „ë‹¬ë˜ê³ , ìµœì¢… instanceë¥¼ ë§Œë“¤ì–´ ê²°ê³¼ì ìœ¼ë¡œ table stateì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë‚˜ë§Œì˜ table UIë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> instance = useTable(</span><br><span class="line">  &#123;</span><br><span class="line">    data: [...],</span><br><span class="line">    columns: [...],</span><br><span class="line">  &#125;,</span><br><span class="line">  useGroupBy,</span><br><span class="line">  useFilters,</span><br><span class="line">  useSortBy,</span><br><span class="line">  useExpanded,</span><br><span class="line">  usePagination</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="The-stages-of-React-Table-and-plugins"><a href="#The-stages-of-React-Table-and-plugins" class="headerlink" title="The stages of React Table and plugins"></a>The stages of <code>React Table</code> and plugins</h3><ol>
<li>useTableì´ í˜¸ì¶œë˜ì–´ table instanceê°€ ë§Œë“¤ì–´ì§„ë‹¤.</li>
<li>instance.stateëŠ” custom user stateë‚˜ ìë™ìœ¼ë¡œ ìƒì„±ëœ ê²ƒìœ¼ë¡œ resolveëœë‹¤.</li>
<li>í”ŒëŸ¬ê·¸ì¸ í¬ì¸íŠ¸ë“¤ì˜ ì»¬ë ‰ì…˜ì€ instance.hooksì— ìƒì„±ëœë‹¤.</li>
<li>ê° í”ŒëŸ¬ê·¸ì¸ì€ instance.hookì— hookì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.</li>
<li>useTable ë¡œì§ì´ ì‹¤í–‰ë˜ë©´ì„œ ê° í”ŒëŸ¬ê·¸ì¸ í›… typeì€ ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ê°œë³„ hook í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœì„œì— ë”°ë¼ íŠ¹ì • ì‹œì ì—ì„œ ì‚¬ìš©ëœë‹¤.</li>
<li>useTableë¡œë¶€í„° ìµœì¢…ì ì¸ instance ê°ì²´ë¥¼ ì–»ê³ , ì´ë¥¼ ì´ìš©í•´ ê°œë°œìê°€ ìì‹ ë§Œì˜ í…Œì´ë¸”ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</li>
</ol>
<h3 id="Plugin-Hook-Order-amp-Consistency"><a href="#Plugin-Hook-Order-amp-Consistency" class="headerlink" title="Plugin Hook Order &amp; Consistency"></a>Plugin Hook Order &amp; Consistency</h3><p>í”ŒëŸ¬ê·¸ì¸ hookì˜ ìˆœì„œì™€ ì‚¬ìš©ì€ ë‹¤ë¥¸ custom hooksê°€ ê·¸ëŸ¬í•˜ë“¯ í•­ìƒ ê°™ì€ ìˆœì„œë¡œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤ëŠ” hooksì˜ ë²•ì¹™ì— ë”°ë¥¸ë‹¤.</p>
<h3 id="Option-Memoization"><a href="#Option-Memoization" class="headerlink" title="Option Memoization"></a>Option Memoization</h3><p><code>React Table</code>ì€ stateì™€ ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ê³„ì‚°í•´ì•¼í•˜ëŠ” íƒ€ì´ë°ì„ ë©”ëª¨ì œì´ì…˜ì— ì˜ì¡´í•œë‹¤. ì´ ë§ì€ ëª¨ë“  ì˜µì…˜ì´ useTableì— ì „ë‹¬ë  ë•Œ useMemo ë˜ëŠ” useCallbackìœ¼ë¡œ ë©”ëª¨ì œì´ì…˜ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.</p>
<hr>
<p><em>References</em><br><a href="https://www.merrickchristensen.com/articles/headless-user-interface-components/" target="_blank" rel="noopener">HEADLESS USER INTERFACE COMPONENTS</a><br><a href="https://react-table.tanstack.com/docs/overview" target="_blank" rel="noopener">React Table - overview</a><br><a href="https://react-table.tanstack.com/docs/quick-start" target="_blank" rel="noopener">React Table - Quick Start</a><br><a href="https://react-table.tanstack.com/docs/api/overview" target="_blank" rel="noopener">React Table - Overview</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Heejin Lee</p>
  <div class="site-description" itemprop="description">Today I Learned</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">123</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Heejin Lee</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
