<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"heejinlee07.github.io","root":"/","scheme":"Muse","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="12. 암호화 기법을 소개합니다 블록체인에서 비대칭 암호화 기법은 사용자를 식별하고 자산을 보호하는 근간을 이룬다.  목표고유한 소유자와 자산을 식별하고, 법적으로 허가된 사람만 그 자산에 접근할 수 있도록 보장한다. 해결해야 할 과제블록체인은 완전 개방된 P2P 시스템이고, 누구나 접속해서 계산 자원에 기여하고 새로운 트랜잭션을 시스템에 제출할 수 있다.">
<meta property="og:type" content="article">
<meta property="og:title" content="블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 12 ~ 15단계">
<meta property="og:url" content="https://heejinlee07.github.io/2022/03/07/220308_blockchain03_12to15/index.html">
<meta property="og:site_name" content="Heejin">
<meta property="og:description" content="12. 암호화 기법을 소개합니다 블록체인에서 비대칭 암호화 기법은 사용자를 식별하고 자산을 보호하는 근간을 이룬다.  목표고유한 소유자와 자산을 식별하고, 법적으로 허가된 사람만 그 자산에 접근할 수 있도록 보장한다. 해결해야 할 과제블록체인은 완전 개방된 P2P 시스템이고, 누구나 접속해서 계산 자원에 기여하고 새로운 트랜잭션을 시스템에 제출할 수 있다.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-03-07T15:00:00.000Z">
<meta property="article:modified_time" content="2022-05-18T04:16:08.048Z">
<meta property="article:author" content="Heejin Lee">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://heejinlee07.github.io/2022/03/07/220308_blockchain03_12to15/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 12 ~ 15단계 | Heejin</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Heejin</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Front-end Developer</p>
  </div>

  <div class="site-nav-right"></div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://heejinlee07.github.io/2022/03/07/220308_blockchain03_12to15/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Heejin Lee">
      <meta itemprop="description" content="Today I Learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Heejin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 12 ~ 15단계
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-08 00:00:00" itemprop="dateCreated datePublished" datetime="2022-03-08T00:00:00+09:00">2022-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-18 13:16:08" itemprop="dateModified" datetime="2022-05-18T13:16:08+09:00">2022-05-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="12-암호화-기법을-소개합니다"><a href="#12-암호화-기법을-소개합니다" class="headerlink" title="12. 암호화 기법을 소개합니다"></a>12. 암호화 기법을 소개합니다</h2><blockquote>
<p>블록체인에서 비대칭 암호화 기법은 사용자를 식별하고 자산을 보호하는 근간을 이룬다.</p>
</blockquote>
<h3 id="목표"><a href="#목표" class="headerlink" title="목표"></a>목표</h3><p>고유한 소유자와 자산을 식별하고, <em>법적으로 허가된 사람만 그 자산에 접근할 수 있도록 보장한다.</em></p>
<h3 id="해결해야-할-과제"><a href="#해결해야-할-과제" class="headerlink" title="해결해야 할 과제"></a>해결해야 할 과제</h3><p>블록체인은 완전 개방된 P2P 시스템이고, 누구나 접속해서 계산 자원에 기여하고 새로운 트랜잭션을 시스템에 제출할 수 있다. <strong>단, 소유권을 다른 계정으로 이전할 권리는 오직 그 계정의 소유자에게 국한된다.</strong> 분산 시스템의 개방형 아키텍처를 해치지 않으면서 계정에 할당된 자산을 보호하는 것이 중요한 과제이다.</p>
<h3 id="아이디어"><a href="#아이디어" class="headerlink" title="아이디어"></a>아이디어</h3><p>누구나 자산을 보낼 수 있지만 모인 자산에는 계정의 소유자만 접근할 수 있다. 이를 <code>공개-개인-키 암호화</code>라고 하는데 <strong>소유권을 이전할 수 있는 계정을 식별할 때는 누구나 공개 키를 사용하고, 접근은 해당 개인 키를 가진 사람에게만 허용된다.</strong> 어디에나 있고 개방되어 있지만 열쇠가 있는 사람만이 열 수 있는 우편함의 성질과 같다.</p>
<h3 id="암호화-기법의-주요-아이디어"><a href="#암호화-기법의-주요-아이디어" class="headerlink" title="암호화 기법의 주요 아이디어"></a>암호화 기법의 주요 아이디어</h3><blockquote>
<p>허가받지 않은 사용자의 접근으로부터 데이터를 보호하고, 이를 위해 사용하는 것을 <code>키(key)</code>라 한다.</p>
</blockquote>
<ul>
<li><code>암호화</code>: 문을 잠그는 것의 디지털 구현</li>
<li><code>복호화</code>: 문을 여는 것의 디지털 구현</li>
<li><code>데이터 보호화 데이터 보호 해제</code>: 암호화와 복호화</li>
<li><code>암호문</code>: 암호화된 데이터</li>
<li><code>과정</code>: <code>암호화 키를 사용해 암호문 생성</code> -&gt; <code>암호문의 보관 또는 전송</code> -&gt; <code>암호화 키를 사용해 복호화</code> -&gt; <code>원시 데이터 복원</code></li>
</ul>
<h3 id="대칭-암호화-기법"><a href="#대칭-암호화-기법" class="headerlink" title="대칭 암호화 기법"></a>대칭 암호화 기법</h3><blockquote>
<p>데이터를 암호화하고 복호화할 때 <code>동일한 키</code>를 사용.</p>
</blockquote>
<p>동일한 키를 사용했기 때문에 암호화한 키가 있으면 동시에 복호화할 수 있는 키도 가지는 셈이다. 따라서 바람직하지 못하고 그래서 비대칭 암호화 기법이 발명되었다.</p>
<h3 id="비대칭-암호화-기법"><a href="#비대칭-암호화-기법" class="headerlink" title="비대칭 암호화 기법"></a>비대칭 암호화 기법</h3><blockquote>
<p><code>두 개의 상호보완적 키</code>를 사용.</p>
</blockquote>
<ul>
<li>두 키중 하나를 사용해 생성된 암호문은 오직 다른 하나의 키로만 복호화되고, 그 반대도 마찬가지이다.</li>
<li>암호문을 생성할 때 사용한 키로는 절대 암호를 복호화할 수 없다.</li>
<li>암호화 복호화를 할 때 <strong>항상 두 개의 키를 모두</strong> 가지고 있어야 한다. 둘 중 하나만 있으면 하는 일이 제한적이다.</li>
<li><em>암호문의 생성은 하나의 키만 있어도 언제든 가능하지만 상호보완적 쌍을 이루는 다른 키가 없다면 생성된 암호문을 복호화할 방법은 없다.</em></li>
<li>두 개의 키가 암호문을 생성할 수 있는 사람, 복호화할 수 있는 사람의 두 그룹으로 분리할 수 있게 해준다.</li>
<li>암호화 복호화의 역할은 서로 바뀔 수 있지만 <strong>개인 키와 공개 키의 역할은 절대 바뀔 수 없다. 공개 키는 비가역적 함수를 통해 개인 키로부터 생성된 것이다.</strong></li>
</ul>
<h3 id="실생활에서-비대칭-암호화-기법을-사용하는-방법"><a href="#실생활에서-비대칭-암호화-기법을-사용하는-방법" class="headerlink" title="실생활에서 비대칭 암호화 기법을 사용하는 방법"></a>실생활에서 비대칭 암호화 기법을 사용하는 방법</h3><h4 id="1-키의-생성과-배분"><a href="#1-키의-생성과-배분" class="headerlink" title="1. 키의 생성과 배분"></a>1. 키의 생성과 배분</h4><p>보통 두 개의 키 각각의 역할을 나타내는 특별한 이름을 붙인다. 그래서 비대칭 암호화 기법을 <code>공개-개인-키(공개-비밀-키)</code>라고 부른다. 공개 키는 신뢰 여부와 상관없이 누구에게나 주어지기 때문에 누구나 공개 키의 복사본을 가질 수 있고, <em>개인 키는 안전하게 사적으로 보관해야 한다.</em> 아래는 비대칭 암호화 기법 응용프로그램의 수행 단계이다.</p>
<ul>
<li>암호화 소프트웨어를 사용해서 개인 키를 생성한다.</li>
<li>상호보완적인 공개 키를 생성한다.</li>
<li>개인 키는 간직한다.</li>
<li>공개 키는 모두에게 배부한다.</li>
</ul>
<h4 id="2-키의-사용"><a href="#2-키의-사용" class="headerlink" title="2. 키의 사용"></a>2. 키의 사용</h4><h5 id="1-공개-gt-개인"><a href="#1-공개-gt-개인" class="headerlink" title="1. 공개 -&gt; 개인"></a>1. 공개 -&gt; 개인</h5><ul>
<li><code>공개 키</code>: 정보를 <code>암호화</code></li>
<li><code>개인 키</code>: 정보를 <code>복호화</code></li>
</ul>
<p>누구나 암호문을 생성할 수 있지만 개인 키를 가진 소유자만이 암호문을 복호화하고 메시지를 읽을 수 있다.</p>
<h5 id="2-개인-gt-공개"><a href="#2-개인-gt-공개" class="headerlink" title="2. 개인 -&gt; 공개"></a>2. 개인 -&gt; 공개</h5><ul>
<li><code>공개 키</code>: 정보를 <code>복호화</code></li>
<li><code>개인 키</code>: 정보를 <code>암호화</code></li>
</ul>
<p>공개 키의 복사본을 가진 사람은 누구나 메시지를 읽을 수 있지만 모두에게 공개할 메시지는 오직 개인 키를 가진 소유자만이 생성가능하다. 저작권 증명에 주로 사용하면 좋다.</p>
<h4 id="블록체인에서-비대칭-암호화-기법은-언제-쓸까"><a href="#블록체인에서-비대칭-암호화-기법은-언제-쓸까" class="headerlink" title="블록체인에서 비대칭 암호화 기법은 언제 쓸까?"></a>블록체인에서 비대칭 암호화 기법은 언제 쓸까?</h4><blockquote>
<ol>
<li>계정 식별</li>
<li>트랜잭션 승인</li>
</ol>
</blockquote>
<h5 id="1-계정-식별"><a href="#1-계정-식별" class="headerlink" title="1. 계정 식별"></a>1. 계정 식별</h5><ul>
<li>소유자와 자산의 매핑 유지를 위해 사용자와 사용자 계정을 모두 식별해야 한다.</li>
<li><code>공개 -&gt; 개인 접근 방식</code>을 사용해서 사용자 계정을 식별하고, 사용자가 소유권을 이전한다.</li>
<li>블록체인의 계정 번호는 공개 암호 키라서 공개된 주소를 통해 누구나 메시지를 전송할 수 있다.</li>
</ul>
<h5 id="2-트랜잭션-승인"><a href="#2-트랜잭션-승인" class="headerlink" title="2. 트랜잭션 승인"></a>2. 트랜잭션 승인</h5><ul>
<li>소유권 양도에 관한 내용에 그 소유권자가 동의했는지를 증명하는 데이터를 항상 포함한다.</li>
<li><code>개인 -&gt; 공개 접근 방식</code>과 유사하여, 소유자는 개인 키를 사용해 암호문을 생성하고, 다른 모든 사람은 공개 암호 키를 사용해 거래를 증명할 수 있다.</li>
<li>공개 암호 키는 소유권을 이전하려는 계정 번호와 같다.</li>
</ul>
<hr>
<h2 id="13-노드-여러분-트랜잭션을-승인합니까"><a href="#13-노드-여러분-트랜잭션을-승인합니까" class="headerlink" title="13. 노드 여러분, 트랜잭션을 승인합니까?"></a>13. 노드 여러분, 트랜잭션을 승인합니까?</h2><blockquote>
<p>디지털 서명 만들어 검증에 사용하기. 자필 서명과 유사하게 전자 원장에 트랜잭션에 동의한다고 표시한다. <code>개별 트랜잭션의 보안</code>을 위해 절대적으로 중요하다.</p>
</blockquote>
<h3 id="목표-1"><a href="#목표-1" class="headerlink" title="목표"></a>목표</h3><p><em>계정의 소유자 또는 합법적 소유자만</em> 계정 내 자산을 다른 계정으로 이전할 수 있도록 보장한다.</p>
<h3 id="해결해야-할-과제-1"><a href="#해결해야-할-과제-1" class="headerlink" title="해결해야 할 과제"></a>해결해야 할 과제</h3><blockquote>
<p>합법적 소유자로만 이전 권한 제한 + 개방성 유지</p>
</blockquote>
<p>P2P 시스템은 누구에게나 개방되어 있어 모든 사람이 트랜잭션을 생성하고 시스템에 제출할 수 있지만 이전은 계정의 합법적 소유자만이 가능하다.</p>
<h3 id="아이디어-1"><a href="#아이디어-1" class="headerlink" title="아이디어"></a>아이디어</h3><p>자필 서명의 기능을 디지털 버전으로 만들어 계정을 식별, 인증, 허가를 가능하게 한다.</p>
<h3 id="디지털-서명의-주요-기능-알아보기"><a href="#디지털-서명의-주요-기능-알아보기" class="headerlink" title="디지털 서명의 주요 기능 알아보기"></a>디지털 서명의 주요 기능 알아보기</h3><p>개인 -&gt; 공개 방식의 정보 흐름을 활용한다.</p>
<h4 id="디지털-서명의-3대-주요-요소"><a href="#디지털-서명의-3대-주요-요소" class="headerlink" title="디지털 서명의 3대 주요 요소"></a>디지털 서명의 3대 주요 요소</h4><ol>
<li>서명의 생성</li>
</ol>
<ul>
<li>특정 데이터에 대한 프로세스가 시작되면 입력된 데이터에 해당하는 해시값을 생성하고, 개인 키를 사용해서 암호화한다. <strong>해시값의 암호문이 바로 디지털 서명이다.</strong></li>
<li>고유한 개인 키를 사용해 생성되었기 때문에 누가 생성했는지 특정할 수 있다.</li>
<li>특정 데이터의 디지털 지문(해시값)에 의해 생성되었기 때문에 고유한 데이터이다.</li>
</ul>
<ol>
<li>서명을 이용한 데이터 검증</li>
</ol>
<ul>
<li>모든 사람이 나의 공개 키를 활용하여 암호문으로부터 복호화된 값을 얻을 수 있다.</li>
<li>메시지 수신자는 받은 데이터의 해시값을 스스로 계산해본다.</li>
<li>수신자가 계산한 해시값과 복호화된 값이 일치하면 수신자는 아래의 두 가지 사실을 알 수 있다.</li>
<li>나의 공개 키를 사용해 서명을 복호화할 수 있었기 때문에 내가 서명한 것이다.</li>
<li>복호화된 암호문이 최초에 보내려고 했던 데이터의 해시값과 일치한다.</li>
</ul>
<ol>
<li>서명을 이용한 사기 판별</li>
</ol>
<ul>
<li>메시지 수신자가 받은 데이터의 해시값을 스스로 생성한다.</li>
<li>공개 키를 이용해 디지털 서명을 복호화하여 복호화된 원래 데이터 해시값을 얻는다.</li>
<li><em>수신자가 계산한 해시값과 복호화하여 얻은 해시값이 다르면 이는 문제가 있다.</em></li>
</ul>
<h3 id="작동원리"><a href="#작동원리" class="headerlink" title="작동원리"></a>작동원리</h3><ul>
<li>트랜잭션 데이터는 계정의 소유자가 소유권을 이전하는 데 동의했다는 사실을 알려준다</li>
<li>트랜잭션의 전체 내용은 고유하므로 서명한 사람의 동의 없이 다른 트랜잭션의 서명으로 사용할 수 없다. <em>트랜잭션 내용이 바뀌면 소유자가 새로 서명을 생성해야 한다.</em></li>
<li><strong>소유권을 이전하려는 계정의 소유자만이 서명을 생성할 수 있다.</strong></li>
<li>누구나 쉽게 검증할 수 있다.</li>
</ul>
<h4 id="블록체인에서-디지털-서명의-용도"><a href="#블록체인에서-디지털-서명의-용도" class="headerlink" title="블록체인에서 디지털 서명의 용도"></a>블록체인에서 디지털 서명의 용도</h4><ul>
<li><p>트랜잭션 서명</p>
<ul>
<li>트랜잭션에 필요한 모든 정보를 기술</li>
<li>트랜잭션 데이터의 암호화 해시값 생성</li>
<li>소유권을 이전하려는 계정의 <code>개인 키</code>를 사용해 트랜잭션의 해시값 암호화</li>
<li>암호문을 트랜잭션에 디지털 서명으로 첨부</li>
</ul>
</li>
<li><p>트랜잭션 검증</p>
<ul>
<li>서명을 제외하고 검증한 트랜잭션 데이터의 해시값 생성</li>
<li>검증하려는 트랜잭션의 디지털 서명 복호화</li>
<li><code>검증된 트랜잭션 데이터의 해시값</code>과 <code>검증하려는 트랜잭션의 디지털 서명을 복호화한 두 값</code>을 비교한다. 값이 동일하면 소유권을 이전하려는 계정에 해당하는 개인 키 소유자가 승인한 트랜잭션이고, 다르면 그렇지 않다.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="14-블록체인-데이터-구조를-만들어봅시다"><a href="#14-블록체인-데이터-구조를-만들어봅시다" class="headerlink" title="14. 블록체인-데이터-구조를 만들어봅시다"></a>14. 블록체인-데이터-구조를 만들어봅시다</h2><blockquote>
<p>전체 트랜잭션 데이터 구축 및 유지하기</p>
</blockquote>
<h3 id="목표-2"><a href="#목표-2" class="headerlink" title="목표"></a>목표</h3><p>전체 트랜잭션 이력을 정렬 상태로 유지한다.</p>
<h3 id="해결해야-할-과제-2"><a href="#해결해야-할-과제-2" class="headerlink" title="해결해야 할 과제"></a>해결해야 할 과제</h3><p>모든 트랜잭션 데이터를 <em>발생 순서를 유지하면서</em> 어떠한 변경이 있을 경우 재빨리 감지할 수 있도록 저장한다.</p>
<h3 id="아이디어-2"><a href="#아이디어-2" class="headerlink" title="아이디어"></a>아이디어</h3><ul>
<li>트랜잭션이 추가된 순서대로 정렬괸다.</li>
<li>데이터는 해시 참조를 사용해 변경-감지 방식으로 저장된다.</li>
</ul>
<h3 id="책을-블록체인-데이터-구조로-변환하기"><a href="#책을-블록체인-데이터-구조로-변환하기" class="headerlink" title="책을 블록체인-데이터-구조로 변환하기"></a>책을 블록체인-데이터-구조로 변환하기</h3><ol>
<li>페이지 의존성을 분명히 드러내기<br>책에서 페이지는 번호가 연속되는지 검증하여 어떤 페이지가 없는지 바로 알 수 있다. 특히 각 페이지에 현재 번호와 직적 페이지 번호를 같이 표시하게 되면 현재 페이지와 직전 페이지 사이의 종속관계를 형성하여 어떤 방식으로 페이지 번호를 매기던 사라지 페이지를 탐색할 수 있다.</li>
<li>내용과 페이지 번호 분리하기<br>책의 한 페이지는 내용과 페이지의 번호로 구성된다. 여기서 페이지에 있는 내용을 덜어낸 후 그 내용이 어디있는지에 대한 참조값만을 남긴다.</li>
<li>페이지 번호를 참조값으로 대체하기<br>내용 뿐 아니라 페이지 번호도 참조값으로 대체한다.</li>
<li>참조값 생성하기<br>암호화 해시값을 사용해서 고유한 참조값을 생성한다. 책의 페이지 참조값은 페이지의 내용(내용 참조값과 앞 페이지 참조값)에 기반해 계산한다.</li>
<li>책등 없애기<br>책등을 없애서 페이지 정렬이 엉망이 되었다고 해도 각 페이지가 앞 페이지의 참조값을 가지고 있기 때문에 이를 이용해서 <em>페이지에서 페이지로 역으로 추적해 순서를 알아낼 수 있다.</em></li>
</ol>
<h3 id="목표-달성-결과-평가"><a href="#목표-달성-결과-평가" class="headerlink" title="목표 달성: 결과 평가"></a>목표 달성: 결과 평가</h3><ul>
<li>정보 저장으로부터 순서를 분리하고, 페이지의 물리적 위치로부터 논리적 위치(순서)를 분리해 냈다.</li>
<li>참조값으로 해시값을 사용했기 때문에 누구나 간단한 계산을 통해 정확성을 검증할 수 있다.</li>
<li>페이지들은 더 이상 책등에 붙어있지 않으므로 <strong>오직 직전 페이지 참조값을 이용해 페이지에서 페이지로 거꾸로 탐색할 수 밖에 없다.</strong></li>
</ul>
<h3 id="변환된-책으로-블록체인-데이터-구조-이해하기"><a href="#변환된-책으로-블록체인-데이터-구조-이해하기" class="headerlink" title="변환된 책으로 블록체인-데이터-구조 이해하기"></a>변환된 책으로 블록체인-데이터-구조 이해하기</h3><div class="table-container">
<table>
<thead>
<tr>
<th>변환된 책</th>
<th>블록체인-데이터-구조</th>
</tr>
</thead>
<tbody>
<tr>
<td>순서일람표의 페이지</td>
<td>블록 헤더</td>
</tr>
<tr>
<td>전체 순서일람표</td>
<td>블록 헤더의 체인</td>
</tr>
<tr>
<td>순서일람표의 페이지 참조값</td>
<td>블록 헤더의 암호화 해시값</td>
</tr>
<tr>
<td>내용</td>
<td>트랜잭션 데이터</td>
</tr>
<tr>
<td>내용 페이지</td>
<td>트랜잭션 데이터를 가진 머클 트리</td>
</tr>
<tr>
<td>내용 페이지를 가리키는 참조값</td>
<td>트랜잭션 데이터를 가진 머클 트리의 루트</td>
</tr>
<tr>
<td>순서일람표 페이지와 해당 내용 페이지로 구성된 가상의 단위</td>
<td>블록체인-데이터-구조의 한 블록</td>
</tr>
<tr>
<td>전체 순서일람표와 전체 내용 페이지</td>
<td>블록체인-데이터-구조</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>순서일람표 페이지와 해당 내용 페이지로 구성된 가상 단위<br>전자는 해시 참조를 통해 후자를 참조함으로써 가상의 한 단위를 형성한다. <strong>이것을 블록이라 하고, 블록들이 모두 모여 블록체인-데이터-구조를 형성한다.</strong></li>
<li>순서일람표라 불리는 페이지 더미<br>블록체인-데이터-구조 내 단일 블록 헤더와 동일하다. 참조를 통해 선형으로 연결되어 블록 헤더의 체인을 형성한다. <strong>트랜잭션 데이터를 직접 저장하지 않고 해당 트랜잭션 데이터에 대한 해시 참조만 저장한다.</strong></li>
<li>내용을 담고 있는 페이지 더미<br>변환된 책의 내용은 <strong>블록체인에 의해 유지되는 트랜잭션 데이터</strong>와 같다. 다만 이는 이해를 돕기 위한 개념이며, 실제 블록체인 응용은 내용 데이터(트랜잭션 데이터)를 머클 트리라 불리는 데이터베이스에 직접 저장하고, 머클 트리의 루트는 블록 헤더에 저장된다.</li>
<li>순서일람표 페이지를 식별하고 연결할 페이지 참조값<br>페이지 참조값은 <strong>블록체인-데이터-구조 내 개별 블록 헤더의 암호화 해시값과 같다.</strong> 블록 해시 또는 이전 블록의 해시라 불리고, 각 블록 헤더를 고유하게 식별하고 이전 블록 헤더를 참조하기 위해 사용된다.</li>
<li>내용 페이지를 식별하고 연결할 내용 참조값<br>연계된 트랜잭션 데이터를 가리키는 블록 헤더의 해시 참조와 같다. 블록 헤더에 저장된 내용 참조값은 데이터베이스에 저장된 트랜잭션 데이터의 머클 트리 루트이다.</li>
</ol>
<h3 id="블록체인-데이터-구조에서-트랜잭션-저장하는-방법"><a href="#블록체인-데이터-구조에서-트랜잭션-저장하는-방법" class="headerlink" title="블록체인-데이터-구조에서 트랜잭션 저장하는 방법"></a>블록체인-데이터-구조에서 트랜잭션 저장하는 방법</h3><p>각 블록은 블록 헤러를 가지고 있고, 이전 블록이 있으면 이전 블록 헤더를 가리키는 해시 참조를 가지고 있다. 다시 말하면 각기 다른 두 개의 머클 트리를 가리키는 해시 참조를 가지고 있다. 그리고 머클 트리 루트의 이름을 보며 이들이 가진 트랜잭션 데이터가 무엇인지 짐작할 수 있다. P2P 시스템을 생각해보면, <em>이 시스템에 참여했을 때 전체 트랜잭션 데이터, 모든 해시 참조값, 모든 블록헤더를 수신하게 된다.</em> <strong>즉 로컬 컴퓨터는 데이터를 모두 저장하고 저장된 데이터들을 가리키는 해시 참조를 가진 블록체인-데이터-구조를 생성한다.</strong> 여기서 주의할 점은 블록체인-데이터-구조에 각자의 헤더를 가진 수많은 블록이 존재하지만 전체 블록체인-데이터-구조는 오직 하나의 헤드만 가진다는 점이다.</p>
<hr>
<h2 id="15-잘-뜨개질된-블록체인-어떻게-변경할까"><a href="#15-잘-뜨개질된-블록체인-어떻게-변경할까" class="headerlink" title="15. 잘 뜨개질된 블록체인, 어떻게 변경할까?"></a>15. 잘 뜨개질된 블록체인, 어떻게 변경할까?</h2><h3 id="새로운-트랜잭션-추가하기"><a href="#새로운-트랜잭션-추가하기" class="headerlink" title="새로운 트랜잭션 추가하기"></a>새로운 트랜잭션 추가하기</h3><p>최초의 블록체인-데이터-구조는 단 두 개의 트랜잭션만 가지고 있는데, 새 트랜잭션 데이터를 추가하려면 다음의 세 단계를 수행한다.</p>
<ol>
<li>새로 추가하려는 모든 트랜잭션 데이터를 담고 있는 <code>새 머클 트리 생성</code></li>
<li>이전 블록 헤더를 가리키는 해시 참조와 새로운 트랜잭션 데이터를 담고 있는 머클 트리의 루트를 포함하는 <code>새 블록 헤더 생성</code></li>
<li><code>새 블록을 카리키는 해시 참조를 만들고 블록체인-데이터-구조의 헤드 갱신</code></li>
</ol>
<h3 id="변경-감지하기"><a href="#변경-감지하기" class="headerlink" title="변경 감지하기"></a>변경 감지하기</h3><p>블록체인-데이터-구조 내 변경이 발생하면 연쇄 반응을 일으켜 즉시 감지 가능하고, 변경 발생 유형은 아래와 같다.</p>
<ol>
<li>트랜잭션 데이터의 세부 사항 변경</li>
<li>머클 트리의 트랜잭션을 변경하고, 해시 참조를 변경</li>
<li>머클 트리의 트랜잭션과 그 해시 참조를 통째로 대체</li>
<li>머클 트리 루트를 변경</li>
<li>블록 헤더 참조를 변경</li>
</ol>
<p>위의 유형들처럼 트랜잭션이 하나 변경되면 부모 노드를 따라 연쇄반응을 일으켜 블록 헤더값이 변경된다. 이는 자신을 참조하는 블록의 헤더값에 영향을 끼치므로 모든 값에 영향을 미친다. 따라서 제대로 된 방법으로 데이터를 변경하려면 전체 해시 참조 연결고리를 모두 갱신해야하는데, <em>이는 변경된 데이터를 직접 가리키는 해시 참조로부터 시작하여 가장 최근 블록 헤더를 가리키는 해시 참조까지 모든 해시 참조를 갱신하여 변경 내용을 반영한다는 것이다.</em></p>
<h3 id="의도한-변경-vs-의도하지-않은-변경"><a href="#의도한-변경-vs-의도하지-않은-변경" class="headerlink" title="의도한 변경 vs 의도하지 않은 변경"></a>의도한 변경 vs 의도하지 않은 변경</h3><p>해시 참조의 성질에 의해 블록체인-데이터-구조의 해시 참조는 의도된 변경, 의도하지 않은 변경을 구분하지 않고 동일하게 인식한다. 그리고 의도와 상관없이 어느 해시 참조 중 하나라도 유효하지 않으면 전체 데이터 구조가 무효화된다.</p>
<hr>
<p><em>References</em><br>[블록체인 무엇인가?] 다니엘 드레셔 지음</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/06/220307_blockchain03_08to11/" rel="prev" title="블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 08 ~ 11단계">
      <i class="fa fa-chevron-left"></i> 블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 08 ~ 11단계
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/03/19/220320_blockchain03_16to18/" rel="next" title="블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 16 ~ 18단계">
      블록체인 무엇인가? 3장 블록체인은 어떻게 작동하는가? 16 ~ 18단계 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#12-암호화-기법을-소개합니다"><span class="nav-number">1.</span> <span class="nav-text">12. 암호화 기법을 소개합니다</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#목표"><span class="nav-number">1.1.</span> <span class="nav-text">목표</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#해결해야-할-과제"><span class="nav-number">1.2.</span> <span class="nav-text">해결해야 할 과제</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#아이디어"><span class="nav-number">1.3.</span> <span class="nav-text">아이디어</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#암호화-기법의-주요-아이디어"><span class="nav-number">1.4.</span> <span class="nav-text">암호화 기법의 주요 아이디어</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#대칭-암호화-기법"><span class="nav-number">1.5.</span> <span class="nav-text">대칭 암호화 기법</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#비대칭-암호화-기법"><span class="nav-number">1.6.</span> <span class="nav-text">비대칭 암호화 기법</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#실생활에서-비대칭-암호화-기법을-사용하는-방법"><span class="nav-number">1.7.</span> <span class="nav-text">실생활에서 비대칭 암호화 기법을 사용하는 방법</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-키의-생성과-배분"><span class="nav-number">1.7.1.</span> <span class="nav-text">1. 키의 생성과 배분</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-키의-사용"><span class="nav-number">1.7.2.</span> <span class="nav-text">2. 키의 사용</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-공개-gt-개인"><span class="nav-number">1.7.2.1.</span> <span class="nav-text">1. 공개 -&gt; 개인</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-개인-gt-공개"><span class="nav-number">1.7.2.2.</span> <span class="nav-text">2. 개인 -&gt; 공개</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#블록체인에서-비대칭-암호화-기법은-언제-쓸까"><span class="nav-number">1.7.3.</span> <span class="nav-text">블록체인에서 비대칭 암호화 기법은 언제 쓸까?</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-계정-식별"><span class="nav-number">1.7.3.1.</span> <span class="nav-text">1. 계정 식별</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-트랜잭션-승인"><span class="nav-number">1.7.3.2.</span> <span class="nav-text">2. 트랜잭션 승인</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-노드-여러분-트랜잭션을-승인합니까"><span class="nav-number">2.</span> <span class="nav-text">13. 노드 여러분, 트랜잭션을 승인합니까?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#목표-1"><span class="nav-number">2.1.</span> <span class="nav-text">목표</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#해결해야-할-과제-1"><span class="nav-number">2.2.</span> <span class="nav-text">해결해야 할 과제</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#아이디어-1"><span class="nav-number">2.3.</span> <span class="nav-text">아이디어</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#디지털-서명의-주요-기능-알아보기"><span class="nav-number">2.4.</span> <span class="nav-text">디지털 서명의 주요 기능 알아보기</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#디지털-서명의-3대-주요-요소"><span class="nav-number">2.4.1.</span> <span class="nav-text">디지털 서명의 3대 주요 요소</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#작동원리"><span class="nav-number">2.5.</span> <span class="nav-text">작동원리</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#블록체인에서-디지털-서명의-용도"><span class="nav-number">2.5.1.</span> <span class="nav-text">블록체인에서 디지털 서명의 용도</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-블록체인-데이터-구조를-만들어봅시다"><span class="nav-number">3.</span> <span class="nav-text">14. 블록체인-데이터-구조를 만들어봅시다</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#목표-2"><span class="nav-number">3.1.</span> <span class="nav-text">목표</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#해결해야-할-과제-2"><span class="nav-number">3.2.</span> <span class="nav-text">해결해야 할 과제</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#아이디어-2"><span class="nav-number">3.3.</span> <span class="nav-text">아이디어</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#책을-블록체인-데이터-구조로-변환하기"><span class="nav-number">3.4.</span> <span class="nav-text">책을 블록체인-데이터-구조로 변환하기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#목표-달성-결과-평가"><span class="nav-number">3.5.</span> <span class="nav-text">목표 달성: 결과 평가</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#변환된-책으로-블록체인-데이터-구조-이해하기"><span class="nav-number">3.6.</span> <span class="nav-text">변환된 책으로 블록체인-데이터-구조 이해하기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#블록체인-데이터-구조에서-트랜잭션-저장하는-방법"><span class="nav-number">3.7.</span> <span class="nav-text">블록체인-데이터-구조에서 트랜잭션 저장하는 방법</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-잘-뜨개질된-블록체인-어떻게-변경할까"><span class="nav-number">4.</span> <span class="nav-text">15. 잘 뜨개질된 블록체인, 어떻게 변경할까?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#새로운-트랜잭션-추가하기"><span class="nav-number">4.1.</span> <span class="nav-text">새로운 트랜잭션 추가하기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#변경-감지하기"><span class="nav-number">4.2.</span> <span class="nav-text">변경 감지하기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#의도한-변경-vs-의도하지-않은-변경"><span class="nav-number">4.3.</span> <span class="nav-text">의도한 변경 vs 의도하지 않은 변경</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Heejin Lee</p>
  <div class="site-description" itemprop="description">Today I Learned</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">125</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Heejin Lee</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
